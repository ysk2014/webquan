/**
 * React (with addons) v0.13.3
 *
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 */

/*! jQuery v1.11.3 | (c) 2005, 2015 jQuery Foundation, Inc. | jquery.org/license */

/*!
// CodeMirror v5.0, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: http://codemirror.net/LICENSE

// This is CodeMirror (http://codemirror.net), a code editor
// implemented in JavaScript on top of the browser's DOM.
//
// You can find some technical background for some of the code below
// at http://marijnhaverbeke.nl/blog/#cm-internals .
*/

/**
 * marked v0.3.3 - a markdown parser
 * Copyright (c) 2011-2014, Christopher Jeffrey. (MIT Licensed)
 * https://github.com/chjj/marked
 */

// Copyright (C) 2006 Google Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//      http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: http://codemirror.net/LICENSE

/*
 * Editor.md
 *
 * @file        editormd.js 
 * @version     v1.5.0 
 * @description Open source online markdown editor.
 * @license     MIT License
 * @author      Pandao
 * {@link       https://github.com/pandao/editor.md}
 * @updateTime  2015-06-09
 */

!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("react",[],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.React=e()}}(function(){return function e(t,n,r){function i(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(s)return s(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return i(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var s="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,t,n){var r=e(25),i=e(31),s=e(42),o=e(34),u=e(67),a=e(95),f=e(97),l=e(124),c=e(119),h=e(165);i.addons={CSSTransitionGroup:o,LinkedStateMixin:r,PureRenderMixin:s,TransitionGroup:a,batchedUpdates:f.batchedUpdates,classSet:l,cloneWithProps:c,createFragment:u.create,update:h},t.exports=i},{119:119,124:124,165:165,25:25,31:31,34:34,42:42,67:67,95:95,97:97}],2:[function(e,t,n){var r=e(131),i={componentDidMount:function(){this.props.autoFocus&&r(this.getDOMNode())}};t.exports=i},{131:131}],3:[function(e,t,n){function r(){var e=window.opera;return"object"==typeof e&&"function"==typeof e.version&&parseInt(e.version(),10)<=12}function i(e){return(e.ctrlKey||e.altKey||e.metaKey)&&(!e.ctrlKey||!e.altKey)}function s(e){switch(e){case L.topCompositionStart:return A.compositionStart;case L.topCompositionEnd:return A.compositionEnd;case L.topCompositionUpdate:return A.compositionUpdate}}function o(e,t){return e===L.topKeyDown&&t.keyCode===E}function u(e,t){switch(e){case L.topKeyUp:return-1!==w.indexOf(t.keyCode);case L.topKeyDown:return t.keyCode!==E;case L.topKeyPress:case L.topMouseDown:case L.topBlur:return!0;default:return!1}}function a(e){var t=e.detail;return"object"==typeof t&&"data"in t?t.data:null}function f(e,t,n,r){var i,f;if(S?i=s(e):M?u(e,r)&&(i=A.compositionEnd):o(e,r)&&(i=A.compositionStart),!i)return null;N&&(M||i!==A.compositionStart?i===A.compositionEnd&&M&&(f=M.getData()):M=m.getPooled(t));var l=g.getPooled(i,n,r);if(f)l.data=f;else{var c=a(r);null!==c&&(l.data=c)}return d.accumulateTwoPhaseDispatches(l),l}function l(e,t){switch(e){case L.topCompositionEnd:return a(t);case L.topKeyPress:var n=t.which;return n!==C?null:(O=!0,k);case L.topTextInput:var r=t.data;return r===k&&O?null:r;default:return null}}function c(e,t){if(M){if(e===L.topCompositionEnd||u(e,t)){var n=M.getData();return m.release(M),M=null,n}return null}switch(e){case L.topPaste:return null;case L.topKeyPress:return t.which&&!i(t)?String.fromCharCode(t.which):null;case L.topCompositionEnd:return N?null:t.data;default:return null}}function h(e,t,n,r){var i;if(i=T?l(e,r):c(e,r),!i)return null;var s=y.getPooled(A.beforeInput,n,r);return s.data=i,d.accumulateTwoPhaseDispatches(s),s}var p=e(16),d=e(21),v=e(22),m=e(23),g=e(103),y=e(107),b=e(154),w=[9,13,27,32],E=229,S=v.canUseDOM&&"CompositionEvent"in window,x=null;v.canUseDOM&&"documentMode"in document&&(x=document.documentMode);var T=v.canUseDOM&&"TextEvent"in window&&!x&&!r(),N=v.canUseDOM&&(!S||x&&x>8&&11>=x),C=32,k=String.fromCharCode(C),L=p.topLevelTypes,A={beforeInput:{phasedRegistrationNames:{bubbled:b({onBeforeInput:null}),captured:b({onBeforeInputCapture:null})},dependencies:[L.topCompositionEnd,L.topKeyPress,L.topTextInput,L.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:b({onCompositionEnd:null}),captured:b({onCompositionEndCapture:null})},dependencies:[L.topBlur,L.topCompositionEnd,L.topKeyDown,L.topKeyPress,L.topKeyUp,L.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:b({onCompositionStart:null}),captured:b({onCompositionStartCapture:null})},dependencies:[L.topBlur,L.topCompositionStart,L.topKeyDown,L.topKeyPress,L.topKeyUp,L.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:b({onCompositionUpdate:null}),captured:b({onCompositionUpdateCapture:null})},dependencies:[L.topBlur,L.topCompositionUpdate,L.topKeyDown,L.topKeyPress,L.topKeyUp,L.topMouseDown]}},O=!1,M=null,_={eventTypes:A,extractEvents:function(e,t,n,r){return[f(e,t,n,r),h(e,t,n,r)]}};t.exports=_},{103:103,107:107,154:154,16:16,21:21,22:22,23:23}],4:[function(e,t,n){var r=e(147),i={addClass:function(e,t){return r(!/\s/.test(t)),t&&(e.classList?e.classList.add(t):i.hasClass(e,t)||(e.className=e.className+" "+t)),e},removeClass:function(e,t){return r(!/\s/.test(t)),t&&(e.classList?e.classList.remove(t):i.hasClass(e,t)&&(e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,""))),e},conditionClass:function(e,t,n){return(n?i.addClass:i.removeClass)(e,t)},hasClass:function(e,t){return r(!/\s/.test(t)),e.classList?!!t&&e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1}};t.exports=i},{147:147}],5:[function(e,t,n){function r(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}var i={boxFlex:!0,boxFlexGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},s=["Webkit","ms","Moz","O"];Object.keys(i).forEach(function(e){s.forEach(function(t){i[r(t,e)]=i[e]})});var o={background:{backgroundImage:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundColor:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0}},u={isUnitlessNumber:i,shorthandPropertyExpansions:o};t.exports=u},{}],6:[function(e,t,n){var r=e(5),i=e(22),s=(e(118),e(125)),o=e(145),u=e(156),a=(e(166),u(function(e){return o(e)})),f="cssFloat";i.canUseDOM&&void 0===document.documentElement.style.cssFloat&&(f="styleFloat");var l={createMarkupForStyles:function(e){var t="";for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];null!=r&&(t+=a(n)+":",t+=s(n,r)+";")}return t||null},setValueForStyles:function(e,t){var n=e.style;for(var i in t)if(t.hasOwnProperty(i)){var o=s(i,t[i]);if("float"===i&&(i=f),o)n[i]=o;else{var u=r.shorthandPropertyExpansions[i];if(u)for(var a in u)n[a]="";else n[i]=""}}}};t.exports=l},{118:118,125:125,145:145,156:156,166:166,22:22,5:5}],7:[function(e,t,n){function r(){this._callbacks=null,this._contexts=null}var i=e(30),s=e(29),o=e(147);s(r.prototype,{enqueue:function(e,t){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(e),this._contexts.push(t)},notifyAll:function(){var e=this._callbacks,t=this._contexts;if(e){o(e.length===t.length),this._callbacks=null,this._contexts=null;for(var n=0,r=e.length;r>n;n++)e[n].call(t[n]);e.length=0,t.length=0}},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),i.addPoolingTo(r),t.exports=r},{147:147,29:29,30:30}],8:[function(e,t,n){function r(e){return"SELECT"===e.nodeName||"INPUT"===e.nodeName&&"file"===e.type}function i(e){var t=x.getPooled(L.change,O,e);w.accumulateTwoPhaseDispatches(t),S.batchedUpdates(s,t)}function s(e){b.enqueueEvents(e),b.processEventQueue()}function o(e,t){A=e,O=t,A.attachEvent("onchange",i)}function u(){A&&(A.detachEvent("onchange",i),A=null,O=null)}function a(e,t,n){return e===k.topChange?n:void 0}function f(e,t,n){e===k.topFocus?(u(),o(t,n)):e===k.topBlur&&u()}function l(e,t){A=e,O=t,M=e.value,_=Object.getOwnPropertyDescriptor(e.constructor.prototype,"value"),Object.defineProperty(A,"value",H),A.attachEvent("onpropertychange",h)}function c(){A&&(delete A.value,A.detachEvent("onpropertychange",h),A=null,O=null,M=null,_=null)}function h(e){if("value"===e.propertyName){var t=e.srcElement.value;t!==M&&(M=t,i(e))}}function p(e,t,n){return e===k.topInput?n:void 0}function d(e,t,n){e===k.topFocus?(c(),l(t,n)):e===k.topBlur&&c()}function v(e,t,n){return e!==k.topSelectionChange&&e!==k.topKeyUp&&e!==k.topKeyDown||!A||A.value===M?void 0:(M=A.value,O)}function m(e){return"INPUT"===e.nodeName&&("checkbox"===e.type||"radio"===e.type)}function g(e,t,n){return e===k.topClick?n:void 0}var y=e(16),b=e(18),w=e(21),E=e(22),S=e(97),x=e(105),T=e(148),N=e(150),C=e(154),k=y.topLevelTypes,L={change:{phasedRegistrationNames:{bubbled:C({onChange:null}),captured:C({onChangeCapture:null})},dependencies:[k.topBlur,k.topChange,k.topClick,k.topFocus,k.topInput,k.topKeyDown,k.topKeyUp,k.topSelectionChange]}},A=null,O=null,M=null,_=null,D=!1;E.canUseDOM&&(D=T("change")&&(!("documentMode"in document)||document.documentMode>8));var P=!1;E.canUseDOM&&(P=T("input")&&(!("documentMode"in document)||document.documentMode>9));var H={get:function(){return _.get.call(this)},set:function(e){M=""+e,_.set.call(this,e)}},B={eventTypes:L,extractEvents:function(e,t,n,i){var s,o;if(r(t)?D?s=a:o=f:N(t)?P?s=p:(s=v,o=d):m(t)&&(s=g),s){var u=s(e,t,n);if(u){var l=x.getPooled(L.change,u,i);return w.accumulateTwoPhaseDispatches(l),l}}o&&o(e,t,n)}};t.exports=B},{105:105,148:148,150:150,154:154,16:16,18:18,21:21,22:22,97:97}],9:[function(e,t,n){var r=0,i={createReactRootIndex:function(){return r++}};t.exports=i},{}],10:[function(e,t,n){function r(e,t,n){e.insertBefore(t,e.childNodes[n]||null)}var i=e(13),s=e(77),o=e(160),u=e(147),a={dangerouslyReplaceNodeWithMarkup:i.dangerouslyReplaceNodeWithMarkup,updateTextContent:o,processUpdates:function(e,t){for(var n,a=null,f=null,l=0;l<e.length;l++)if(n=e[l],n.type===s.MOVE_EXISTING||n.type===s.REMOVE_NODE){var c=n.fromIndex,h=n.parentNode.childNodes[c],p=n.parentID;u(h),a=a||{},a[p]=a[p]||[],a[p][c]=h,f=f||[],f.push(h)}var d=i.dangerouslyRenderMarkup(t);if(f)for(var v=0;v<f.length;v++)f[v].parentNode.removeChild(f[v]);for(var m=0;m<e.length;m++)switch(n=e[m],n.type){case s.INSERT_MARKUP:r(n.parentNode,d[n.markupIndex],n.toIndex);break;case s.MOVE_EXISTING:r(n.parentNode,a[n.parentID][n.fromIndex],n.toIndex);break;case s.TEXT_CONTENT:o(n.parentNode,n.textContent);break;case s.REMOVE_NODE:}}};t.exports=a},{13:13,147:147,160:160,77:77}],11:[function(e,t,n){function r(e,t){return(e&t)===t}var i=e(147),s={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_NUMERIC_VALUE:16,HAS_POSITIVE_NUMERIC_VALUE:48,HAS_OVERLOADED_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(e){var t=e.Properties||{},n=e.DOMAttributeNames||{},o=e.DOMPropertyNames||{},a=e.DOMMutationMethods||{};e.isCustomAttribute&&u._isCustomAttributeFunctions.push(e.isCustomAttribute);for(var f in t){i(!u.isStandardName.hasOwnProperty(f)),u.isStandardName[f]=!0;var l=f.toLowerCase();if(u.getPossibleStandardName[l]=f,n.hasOwnProperty(f)){var c=n[f];u.getPossibleStandardName[c]=f,u.getAttributeName[f]=c}else u.getAttributeName[f]=l;u.getPropertyName[f]=o.hasOwnProperty(f)?o[f]:f,a.hasOwnProperty(f)?u.getMutationMethod[f]=a[f]:u.getMutationMethod[f]=null;var h=t[f];u.mustUseAttribute[f]=r(h,s.MUST_USE_ATTRIBUTE),u.mustUseProperty[f]=r(h,s.MUST_USE_PROPERTY),u.hasSideEffects[f]=r(h,s.HAS_SIDE_EFFECTS),u.hasBooleanValue[f]=r(h,s.HAS_BOOLEAN_VALUE),u.hasNumericValue[f]=r(h,s.HAS_NUMERIC_VALUE),u.hasPositiveNumericValue[f]=r(h,s.HAS_POSITIVE_NUMERIC_VALUE),u.hasOverloadedBooleanValue[f]=r(h,s.HAS_OVERLOADED_BOOLEAN_VALUE),i(!u.mustUseAttribute[f]||!u.mustUseProperty[f]),i(u.mustUseProperty[f]||!u.hasSideEffects[f]),i(!!u.hasBooleanValue[f]+!!u.hasNumericValue[f]+!!u.hasOverloadedBooleanValue[f]<=1)}}},o={},u={ID_ATTRIBUTE_NAME:"data-reactid",isStandardName:{},getPossibleStandardName:{},getAttributeName:{},getPropertyName:{},getMutationMethod:{},mustUseAttribute:{},mustUseProperty:{},hasSideEffects:{},hasBooleanValue:{},hasNumericValue:{},hasPositiveNumericValue:{},hasOverloadedBooleanValue:{},_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<u._isCustomAttributeFunctions.length;t++){var n=u._isCustomAttributeFunctions[t];if(n(e))return!0}return!1},getDefaultValueForProperty:function(e,t){var n,r=o[e];return r||(o[e]=r={}),t in r||(n=document.createElement(e),r[t]=n[t]),r[t]},injection:s};t.exports=u},{147:147}],12:[function(e,t,n){function r(e,t){return null==t||i.hasBooleanValue[e]&&!t||i.hasNumericValue[e]&&isNaN(t)||i.hasPositiveNumericValue[e]&&1>t||i.hasOverloadedBooleanValue[e]&&t===!1}var i=e(11),s=e(158),o=(e(166),{createMarkupForID:function(e){return i.ID_ATTRIBUTE_NAME+"="+s(e)},createMarkupForProperty:function(e,t){if(i.isStandardName.hasOwnProperty(e)&&i.isStandardName[e]){if(r(e,t))return"";var n=i.getAttributeName[e];return i.hasBooleanValue[e]||i.hasOverloadedBooleanValue[e]&&t===!0?n:n+"="+s(t)}return i.isCustomAttribute(e)?null==t?"":e+"="+s(t):null},setValueForProperty:function(e,t,n){if(i.isStandardName.hasOwnProperty(t)&&i.isStandardName[t]){var s=i.getMutationMethod[t];if(s)s(e,n);else if(r(t,n))this.deleteValueForProperty(e,t);else if(i.mustUseAttribute[t])e.setAttribute(i.getAttributeName[t],""+n);else{var o=i.getPropertyName[t];i.hasSideEffects[t]&&""+e[o]==""+n||(e[o]=n)}}else i.isCustomAttribute(t)&&(null==n?e.removeAttribute(t):e.setAttribute(t,""+n))},deleteValueForProperty:function(e,t){if(i.isStandardName.hasOwnProperty(t)&&i.isStandardName[t]){var n=i.getMutationMethod[t];if(n)n(e,void 0);else if(i.mustUseAttribute[t])e.removeAttribute(i.getAttributeName[t]);else{var r=i.getPropertyName[t],s=i.getDefaultValueForProperty(e.nodeName,r);i.hasSideEffects[t]&&""+e[r]===s||(e[r]=s)}}else i.isCustomAttribute(t)&&e.removeAttribute(t)}});t.exports=o},{11:11,158:158,166:166}],13:[function(e,t,n){function r(e){return e.substring(1,e.indexOf(" "))}var i=e(22),s=e(123),o=e(126),u=e(139),a=e(147),f=/^(<[^ \/>]+)/,l="data-danger-index",c={dangerouslyRenderMarkup:function(e){a(i.canUseDOM);for(var t,n={},c=0;c<e.length;c++)a(e[c]),t=r(e[c]),t=u(t)?t:"*",n[t]=n[t]||[],n[t][c]=e[c];var h=[],p=0;for(t in n)if(n.hasOwnProperty(t)){var d,v=n[t];for(d in v)if(v.hasOwnProperty(d)){var m=v[d];v[d]=m.replace(f,"$1 "+l+'="'+d+'" ')}for(var g=s(v.join(""),o),y=0;y<g.length;++y){var b=g[y];b.hasAttribute&&b.hasAttribute(l)&&(d=+b.getAttribute(l),b.removeAttribute(l),a(!h.hasOwnProperty(d)),h[d]=b,p+=1)}}return a(p===h.length),a(h.length===e.length),h},dangerouslyReplaceNodeWithMarkup:function(e,t){a(i.canUseDOM),a(t),a("html"!==e.tagName.toLowerCase());var n=s(t,o)[0];e.parentNode.replaceChild(n,e)}};t.exports=c},{123:123,126:126,139:139,147:147,22:22}],14:[function(e,t,n){var r=e(154),i=[r({ResponderEventPlugin:null}),r({SimpleEventPlugin:null}),r({TapEventPlugin:null}),r({EnterLeaveEventPlugin:null}),r({ChangeEventPlugin:null}),r({SelectEventPlugin:null}),r({BeforeInputEventPlugin:null}),r({AnalyticsEventPlugin:null}),r({MobileSafariClickEventPlugin:null})];t.exports=i},{154:154}],15:[function(e,t,n){var r=e(16),i=e(21),s=e(109),o=e(75),u=e(154),a=r.topLevelTypes,f=o.getFirstReactDOM,l={mouseEnter:{registrationName:u({onMouseEnter:null}),dependencies:[a.topMouseOut,a.topMouseOver]},mouseLeave:{registrationName:u({onMouseLeave:null}),dependencies:[a.topMouseOut,a.topMouseOver]}},c=[null,null],h={eventTypes:l,extractEvents:function(e,t,n,r){if(e===a.topMouseOver&&(r.relatedTarget||r.fromElement))return null;if(e!==a.topMouseOut&&e!==a.topMouseOver)return null;var u;if(t.window===t)u=t;else{var h=t.ownerDocument;u=h?h.defaultView||h.parentWindow:window}var d,v;if(e===a.topMouseOut?(d=t,v=f(r.relatedTarget||r.toElement)||u):(d=u,v=t),d===v)return null;var m=d?o.getID(d):"",g=v?o.getID(v):"",y=s.getPooled(l.mouseLeave,m,r);y.type="mouseleave",y.target=d,y.relatedTarget=v;var b=s.getPooled(l.mouseEnter,g,r);return b.type="mouseenter",b.target=v,b.relatedTarget=d,i.accumulateEnterLeaveDispatches(y,b,m,g),c[0]=y,c[1]=b,c}};t.exports=h},{109:109,154:154,16:16,21:21,75:75}],16:[function(e,t,n){var r=e(153),i=r({bubbled:null,captured:null}),s=r({topBlur:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topReset:null,topScroll:null,topSelectionChange:null,topSubmit:null,topTextInput:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topWheel:null}),o={topLevelTypes:s,PropagationPhases:i};t.exports=o},{153:153}],17:[function(e,t,n){var r=e(126),i={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!0),{remove:function(){e.removeEventListener(t,n,!0)}}):{remove:r}},registerDefault:function(){}};t.exports=i},{126:126}],18:[function(e,t,n){var r=e(19),i=e(20),s=e(115),o=e(132),u=e(147),a={},f=null,l=function(e){if(e){var t=i.executeDispatch,n=r.getPluginModuleForEvent(e);n&&n.executeDispatch&&(t=n.executeDispatch),i.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e)}},c=null,h={injection:{injectMount:i.injection.injectMount,injectInstanceHandle:function(e){c=e},getInstanceHandle:function(){return c},injectEventPluginOrder:r.injectEventPluginOrder,injectEventPluginsByName:r.injectEventPluginsByName},eventNameDispatchConfigs:r.eventNameDispatchConfigs,registrationNameModules:r.registrationNameModules,putListener:function(e,t,n){u(!n||"function"==typeof n);var r=a[t]||(a[t]={});r[e]=n},getListener:function(e,t){var n=a[t];return n&&n[e]},deleteListener:function(e,t){var n=a[t];n&&delete n[e]},deleteAllListeners:function(e){for(var t in a)delete a[t][e]},extractEvents:function(e,t,n,i){for(var o,u=r.plugins,a=0,f=u.length;f>a;a++){var l=u[a];if(l){var c=l.extractEvents(e,t,n,i);c&&(o=s(o,c))}}return o},enqueueEvents:function(e){e&&(f=s(f,e))},processEventQueue:function(){var e=f;f=null,o(e,l),u(!f)},__purge:function(){a={}},__getListenerBank:function(){return a}};t.exports=h},{115:115,132:132,147:147,19:19,20:20}],19:[function(e,t,n){function r(){if(u)for(var e in a){var t=a[e],n=u.indexOf(e);if(o(n>-1),!f.plugins[n]){o(t.extractEvents),f.plugins[n]=t;var r=t.eventTypes;for(var s in r)o(i(r[s],t,s))}}}function i(e,t,n){o(!f.eventNameDispatchConfigs.hasOwnProperty(n)),f.eventNameDispatchConfigs[n]=e;var r=e.phasedRegistrationNames;if(r){for(var i in r)if(r.hasOwnProperty(i)){var u=r[i];s(u,t,n)}return!0}return e.registrationName?(s(e.registrationName,t,n),!0):!1}function s(e,t,n){o(!f.registrationNameModules[e]),f.registrationNameModules[e]=t,f.registrationNameDependencies[e]=t.eventTypes[n].dependencies}var o=e(147),u=null,a={},f={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(e){o(!u),u=Array.prototype.slice.call(e),r()},injectEventPluginsByName:function(e){var t=!1;for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];a.hasOwnProperty(n)&&a[n]===i||(o(!a[n]),a[n]=i,t=!0)}t&&r()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return f.registrationNameModules[t.registrationName]||null;for(var n in t.phasedRegistrationNames)if(t.phasedRegistrationNames.hasOwnProperty(n)){var r=f.registrationNameModules[t.phasedRegistrationNames[n]];if(r)return r}return null},_resetEventPlugins:function(){u=null;for(var e in a)a.hasOwnProperty(e)&&delete a[e];f.plugins.length=0;var t=f.eventNameDispatchConfigs;for(var n in t)t.hasOwnProperty(n)&&delete t[n];var r=f.registrationNameModules;for(var i in r)r.hasOwnProperty(i)&&delete r[i]}};t.exports=f},{147:147}],20:[function(e,t,n){function r(e){return e===m.topMouseUp||e===m.topTouchEnd||e===m.topTouchCancel}function i(e){return e===m.topMouseMove||e===m.topTouchMove}function s(e){return e===m.topMouseDown||e===m.topTouchStart}function o(e,t){var n=e._dispatchListeners,r=e._dispatchIDs;if(Array.isArray(n))for(var i=0;i<n.length&&!e.isPropagationStopped();i++)t(e,n[i],r[i]);else n&&t(e,n,r)}function u(e,t,n){e.currentTarget=v.Mount.getNode(n);var r=t(e,n);return e.currentTarget=null,r}function a(e,t){o(e,t),e._dispatchListeners=null,e._dispatchIDs=null}function f(e){var t=e._dispatchListeners,n=e._dispatchIDs;if(Array.isArray(t)){for(var r=0;r<t.length&&!e.isPropagationStopped();r++)if(t[r](e,n[r]))return n[r]}else if(t&&t(e,n))return n;return null}function l(e){var t=f(e);return e._dispatchIDs=null,e._dispatchListeners=null,t}function c(e){var t=e._dispatchListeners,n=e._dispatchIDs;d(!Array.isArray(t));var r=t?t(e,n):null;return e._dispatchListeners=null,e._dispatchIDs=null,r}function h(e){return!!e._dispatchListeners}var p=e(16),d=e(147),v={Mount:null,injectMount:function(e){v.Mount=e}},m=p.topLevelTypes,g={isEndish:r,isMoveish:i,isStartish:s,executeDirectDispatch:c,executeDispatch:u,executeDispatchesInOrder:a,executeDispatchesInOrderStopAtTrue:l,hasDispatches:h,injection:v,useTouchEvents:!1};t.exports=g},{147:147,16:16}],21:[function(e,t,n){function r(e,t,n){var r=t.dispatchConfig.phasedRegistrationNames[n];return m(e,r)}function i(e,t,n){var i=t?v.bubbled:v.captured,s=r(e,n,i);s&&(n._dispatchListeners=p(n._dispatchListeners,s),n._dispatchIDs=p(n._dispatchIDs,e))}function s(e){e&&e.dispatchConfig.phasedRegistrationNames&&h.injection.getInstanceHandle().traverseTwoPhase(e.dispatchMarker,i,e)}function o(e,t,n){if(n&&n.dispatchConfig.registrationName){var r=n.dispatchConfig.registrationName,i=m(e,r);i&&(n._dispatchListeners=p(n._dispatchListeners,i),n._dispatchIDs=p(n._dispatchIDs,e))}}function u(e){e&&e.dispatchConfig.registrationName&&o(e.dispatchMarker,null,e)}function a(e){d(e,s)}function f(e,t,n,r){h.injection.getInstanceHandle().traverseEnterLeave(n,r,o,e,t)}function l(e){d(e,u)}var c=e(16),h=e(18),p=e(115),d=e(132),v=c.PropagationPhases,m=h.getListener,g={accumulateTwoPhaseDispatches:a,accumulateDirectDispatches:l,accumulateEnterLeaveDispatches:f};t.exports=g},{115:115,132:132,16:16,18:18}],22:[function(e,t,n){var r="undefined"!=typeof window&&!!window.document&&!!window.document.createElement,i={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&(!!window.addEventListener||!!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};t.exports=i},{}],23:[function(e,t,n){function r(e){this._root=e,this._startText=this.getText(),this._fallbackText=null}var i=e(30),s=e(29),o=e(142);s(r.prototype,{getText:function(){return"value"in this._root?this._root.value:this._root[o()]},getData:function(){if(this._fallbackText)return this._fallbackText;var e,t,n=this._startText,r=n.length,i=this.getText(),s=i.length;for(e=0;r>e&&n[e]===i[e];e++);var o=r-e;for(t=1;o>=t&&n[r-t]===i[s-t];t++);var u=t>1?1-t:void 0;return this._fallbackText=i.slice(e,u),this._fallbackText}}),i.addPoolingTo(r),t.exports=r},{142:142,29:29,30:30}],24:[function(e,t,n){var r,i=e(11),s=e(22),o=i.injection.MUST_USE_ATTRIBUTE,u=i.injection.MUST_USE_PROPERTY,a=i.injection.HAS_BOOLEAN_VALUE,f=i.injection.HAS_SIDE_EFFECTS,l=i.injection.HAS_NUMERIC_VALUE,c=i.injection.HAS_POSITIVE_NUMERIC_VALUE,h=i.injection.HAS_OVERLOADED_BOOLEAN_VALUE;if(s.canUseDOM){var p=document.implementation;r=p&&p.hasFeature&&p.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}var d={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,acceptCharset:null,accessKey:null,action:null,allowFullScreen:o|a,allowTransparency:o,alt:null,async:a,autoComplete:null,autoPlay:a,cellPadding:null,cellSpacing:null,charSet:o,checked:u|a,classID:o,className:r?o:u,cols:o|c,colSpan:null,content:null,contentEditable:null,contextMenu:o,controls:u|a,coords:null,crossOrigin:null,data:null,dateTime:o,defer:a,dir:null,disabled:o|a,download:h,draggable:null,encType:null,form:o,formAction:o,formEncType:o,formMethod:o,formNoValidate:a,formTarget:o,frameBorder:o,headers:null,height:o,hidden:o|a,high:null,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:u,label:null,lang:null,list:o,loop:u|a,low:null,manifest:o,marginHeight:null,marginWidth:null,max:null,maxLength:o,media:o,mediaGroup:null,method:null,min:null,multiple:u|a,muted:u|a,name:null,noValidate:a,open:a,optimum:null,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:u|a,rel:null,required:a,role:o,rows:o|c,rowSpan:null,sandbox:null,scope:null,scoped:a,scrolling:null,seamless:o|a,selected:u|a,shape:null,size:o|c,sizes:o,span:c,spellCheck:null,src:null,srcDoc:u,srcSet:o,start:l,step:null,style:null,tabIndex:null,target:null,title:null,type:null,useMap:null,value:u|f,width:o,wmode:o,autoCapitalize:null,autoCorrect:null,itemProp:o,itemScope:o|a,itemType:o,itemID:o,itemRef:o,property:null,unselectable:o},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{autoCapitalize:"autocapitalize",autoComplete:"autocomplete",autoCorrect:"autocorrect",autoFocus:"autofocus",autoPlay:"autoplay",encType:"encoding",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};t.exports=d},{11:11,22:22}],25:[function(e,t,n){var r=e(73),i=e(92),s={linkState:function(e){return new r(this.state[e],i.createStateKeySetter(this,e))}};t.exports=s},{73:73,92:92}],26:[function(e,t,n){function r(e){f(null==e.props.checkedLink||null==e.props.valueLink)}function i(e){r(e),f(null==e.props.value&&null==e.props.onChange)}function s(e){r(e),f(null==e.props.checked&&null==e.props.onChange)}function o(e){this.props.valueLink.requestChange(e.target.value)}function u(e){this.props.checkedLink.requestChange(e.target.checked)}var a=e(84),f=e(147),l={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},c={Mixin:{propTypes:{value:function(e,t,n){return!e[t]||l[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t,n){return!e[t]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:a.func}},getValue:function(e){return e.props.valueLink?(i(e),e.props.valueLink.value):e.props.value},getChecked:function(e){return e.props.checkedLink?(s(e),e.props.checkedLink.value):e.props.checked},getOnChange:function(e){return e.props.valueLink?(i(e),o):e.props.checkedLink?(s(e),u):e.props.onChange}};t.exports=c},{147:147,84:84}],27:[function(e,t,n){function r(e){e.remove()}var i=e(33),s=e(115),o=e(132),u=e(147),a={trapBubbledEvent:function(e,t){u(this.isMounted());var n=this.getDOMNode();u(n);var r=i.trapBubbledEvent(e,t,n);this._localEventListeners=s(this._localEventListeners,r)},componentWillUnmount:function(){this._localEventListeners&&o(this._localEventListeners,r)}};t.exports=a},{115:115,132:132,147:147,33:33}],28:[function(e,t,n){var r=e(16),i=e(126),s=r.topLevelTypes,o={eventTypes:null,extractEvents:function(e,t,n,r){if(e===s.topTouchStart){var o=r.target;o&&!o.onclick&&(o.onclick=i)}}};t.exports=o},{126:126,16:16}],29:[function(e,t,n){function r(e,t){if(null==e)throw new TypeError("Object.assign target cannot be null or undefined");for(var n=Object(e),r=Object.prototype.hasOwnProperty,i=1;i<arguments.length;i++){var s=arguments[i];if(null!=s){var o=Object(s);for(var u in o)r.call(o,u)&&(n[u]=o[u])}}return n}t.exports=r},{}],30:[function(e,t,n){var r=e(147),i=function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)},s=function(e,t){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,e,t),r}return new n(e,t)},o=function(e,t,n){var r=this;if(r.instancePool.length){var i=r.instancePool.pop();return r.call(i,e,t,n),i}return new r(e,t,n)},u=function(e,t,n,r,i){var s=this;if(s.instancePool.length){var o=s.instancePool.pop();return s.call(o,e,t,n,r,i),o}return new s(e,t,n,r,i)},a=function(e){var t=this;r(e instanceof t),e.destructor&&e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},f=10,l=i,c=function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||l,n.poolSize||(n.poolSize=f),n.release=a,n},h={addPoolingTo:c,oneArgumentPooler:i,twoArgumentPooler:s,threeArgumentPooler:o,fiveArgumentPooler:u};t.exports=h},{147:147}],31:[function(e,t,n){var r=e(20),i=e(37),s=e(39),o=e(38),u=e(44),a=e(45),f=e(61),l=(e(62),e(46)),c=e(57),h=e(60),p=e(70),d=e(75),v=e(80),m=e(84),g=e(87),y=e(90),b=e(29),w=e(129),E=e(157);h.inject();var S=f.createElement,x=f.createFactory,T=f.cloneElement,N=v.measure("React","render",d.render),C={Children:{map:i.map,forEach:i.forEach,count:i.count,only:E},Component:s,DOM:l,PropTypes:m,initializeTouchEvents:function(e){r.useTouchEvents=e},createClass:o.createClass,createElement:S,cloneElement:T,createFactory:x,createMixin:function(e){return e},constructAndRenderComponent:d.constructAndRenderComponent,constructAndRenderComponentByID:d.constructAndRenderComponentByID,findDOMNode:w,render:N,renderToString:y.renderToString,renderToStaticMarkup:y.renderToStaticMarkup,unmountComponentAtNode:d.unmountComponentAtNode,isValidElement:f.isValidElement,withContext:u.withContext,__spread:b};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({CurrentOwner:a,InstanceHandles:p,Mount:d,Reconciler:g,TextComponent:c}),C.version="0.13.3",t.exports=C},{129:129,157:157,20:20,29:29,37:37,38:38,39:39,44:44,45:45,46:46,57:57,60:60,61:61,62:62,70:70,75:75,80:80,84:84,87:87,90:90}],32:[function(e,t,n){var r=e(129),i={getDOMNode:function(){return r(this)}};t.exports=i},{129:129}],33:[function(e,t,n){function r(e){return Object.prototype.hasOwnProperty.call(e,v)||(e[v]=p++,c[e[v]]={}),c[e[v]]}var i=e(16),s=e(18),o=e(19),u=e(65),a=e(114),f=e(29),l=e(148),c={},h=!1,p=0,d={topBlur:"blur",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topScroll:"scroll",topSelectionChange:"selectionchange",topTextInput:"textInput",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topWheel:"wheel"},v="_reactListenersID"+String(Math.random()).slice(2),m=f({},u,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(m.handleTopLevel),m.ReactEventListener=e}},setEnabled:function(e){m.ReactEventListener&&m.ReactEventListener.setEnabled(e)},isEnabled:function(){return!!m.ReactEventListener&&!!m.ReactEventListener.isEnabled()},listenTo:function(e,t){for(var n=t,s=r(n),u=o.registrationNameDependencies[e],a=i.topLevelTypes,f=0,c=u.length;c>f;f++){var h=u[f];s.hasOwnProperty(h)&&s[h]||(h===a.topWheel?l("wheel")?m.ReactEventListener.trapBubbledEvent(a.topWheel,"wheel",n):l("mousewheel")?m.ReactEventListener.trapBubbledEvent(a.topWheel,"mousewheel",n):m.ReactEventListener.trapBubbledEvent(a.topWheel,"DOMMouseScroll",n):h===a.topScroll?l("scroll",!0)?m.ReactEventListener.trapCapturedEvent(a.topScroll,"scroll",n):m.ReactEventListener.trapBubbledEvent(a.topScroll,"scroll",m.ReactEventListener.WINDOW_HANDLE):h===a.topFocus||h===a.topBlur?(l("focus",!0)?(m.ReactEventListener.trapCapturedEvent(a.topFocus,"focus",n),m.ReactEventListener.trapCapturedEvent(a.topBlur,"blur",n)):l("focusin")&&(m.ReactEventListener.trapBubbledEvent(a.topFocus,"focusin",n),m.ReactEventListener.trapBubbledEvent(a.topBlur,"focusout",n)),s[a.topBlur]=!0,s[a.topFocus]=!0):d.hasOwnProperty(h)&&m.ReactEventListener.trapBubbledEvent(h,d[h],n),s[h]=!0)}},trapBubbledEvent:function(e,t,n){return m.ReactEventListener.trapBubbledEvent(e,t,n)},trapCapturedEvent:function(e,t,n){return m.ReactEventListener.trapCapturedEvent(e,t,n)},ensureScrollValueMonitoring:function(){if(!h){var e=a.refreshScrollValues;m.ReactEventListener.monitorScrollValue(e),h=!0}},eventNameDispatchConfigs:s.eventNameDispatchConfigs,registrationNameModules:s.registrationNameModules,putListener:s.putListener,getListener:s.getListener,deleteListener:s.deleteListener,deleteAllListeners:s.deleteAllListeners});t.exports=m},{114:114,148:148,16:16,18:18,19:19,29:29,65:65}],34:[function(e,t,n){var r=e(31),i=e(29),s=r.createFactory(e(95)),o=r.createFactory(e(35)),u=r.createClass({displayName:"ReactCSSTransitionGroup",propTypes:{transitionName:r.PropTypes.string.isRequired,transitionAppear:r.PropTypes.bool,transitionEnter:r.PropTypes.bool,transitionLeave:r.PropTypes.bool},getDefaultProps:function(){return{transitionAppear:!1,transitionEnter:!0,transitionLeave:!0}},_wrapChild:function(e){return o({name:this.props.transitionName,appear:this.props.transitionAppear,enter:this.props.transitionEnter,leave:this.props.transitionLeave},e)},render:function(){return s(i({},this.props,{childFactory:this._wrapChild}))}});t.exports=u},{29:29,31:31,35:35,95:95}],35:[function(e,t,n){var r=e(31),i=e(4),s=e(94),o=e(157),u=(e(166),17),a=r.createClass({displayName:"ReactCSSTransitionGroupChild",transition:function(e,t){var n=this.getDOMNode(),r=this.props.name+"-"+e,o=r+"-active",u=function(e){e&&e.target!==n||(i.removeClass(n,r),i.removeClass(n,o),s.removeEndEventListener(n,u),t&&t())};s.addEndEventListener(n,u),i.addClass(n,r),this.queueClass(o)},queueClass:function(e){this.classNameQueue.push(e),this.timeout||(this.timeout=setTimeout(this.flushClassNameQueue,u))},flushClassNameQueue:function(){this.isMounted()&&this.classNameQueue.forEach(i.addClass.bind(i,this.getDOMNode())),this.classNameQueue.length=0,this.timeout=null},componentWillMount:function(){this.classNameQueue=[]},componentWillUnmount:function(){this.timeout&&clearTimeout(this.timeout)},componentWillAppear:function(e){this.props.appear?this.transition("appear",e):e()},componentWillEnter:function(e){this.props.enter?this.transition("enter",e):e()},componentWillLeave:function(e){this.props.leave?this.transition("leave",e):e()},render:function(){return o(this.props.children)}});t.exports=a},{157:157,166:166,31:31,4:4,94:94}],36:[function(e,t,n){var r=e(87),i=e(130),s=e(146),o=e(162),u={instantiateChildren:function(e,t,n){var r=i(e);for(var o in r)if(r.hasOwnProperty(o)){var u=r[o],a=s(u,null);r[o]=a}return r},updateChildren:function(e,t,n,u){var f=i(t);if(!f&&!e)return null;var l;for(l in f)if(f.hasOwnProperty(l)){var c=e&&e[l],h=c&&c._currentElement,p=f[l];if(o(h,p))r.receiveComponent(c,p,n,u),f[l]=c;else{c&&r.unmountComponent(c,l);var d=s(p,null);f[l]=d}}for(l in e)!e.hasOwnProperty(l)||f&&f.hasOwnProperty(l)||r.unmountComponent(e[l]);return f},unmountChildren:function(e){for(var t in e){var n=e[t];r.unmountComponent(n)}}};t.exports=u},{130:130,146:146,162:162,87:87}],37:[function(e,t,n){function r(e,t){this.forEachFunction=e,this.forEachContext=t}function i(e,t,n,r){var i=e;i.forEachFunction.call(i.forEachContext,t,r)}function s(e,t,n){if(null==e)return e;var s=r.getPooled(t,n);p(e,i,s),r.release(s)}function o(e,t,n){this.mapResult=e,this.mapFunction=t,this.mapContext=n}function u(e,t,n,r){var i=e,s=i.mapResult,o=!s.hasOwnProperty(n);if(o){var u=i.mapFunction.call(i.mapContext,t,r);s[n]=u}}function a(e,t,n){if(null==e)return e;var r={},i=o.getPooled(r,t,n);return p(e,u,i),o.release(i),h.create(r)}function f(e,t,n,r){return null}function l(e,t){return p(e,f,null)}var c=e(30),h=e(67),p=e(164),d=(e(166),c.twoArgumentPooler),v=c.threeArgumentPooler;c.addPoolingTo(r,d),c.addPoolingTo(o,v);var m={forEach:s,map:a,count:l};t.exports=m},{164:164,166:166,30:30,67:67}],38:[function(e,t,n){function r(e,t){var n=T.hasOwnProperty(t)?T[t]:null;C.hasOwnProperty(t)&&y(n===S.OVERRIDE_BASE),e.hasOwnProperty(t)&&y(n===S.DEFINE_MANY||n===S.DEFINE_MANY_MERGED)}function i(e,t){if(t){y("function"!=typeof t),y(!h.isValidElement(t));var n=e.prototype;t.hasOwnProperty(E)&&N.mixins(e,t.mixins);for(var i in t)if(t.hasOwnProperty(i)&&i!==E){var s=t[i];if(r(n,i),N.hasOwnProperty(i))N[i](e,s);else{var o=T.hasOwnProperty(i),f=n.hasOwnProperty(i),l=s&&s.__reactDontBind,c="function"==typeof s,p=c&&!o&&!f&&!l;if(p)n.__reactAutoBindMap||(n.__reactAutoBindMap={}),n.__reactAutoBindMap[i]=s,n[i]=s;else if(f){var d=T[i];y(o&&(d===S.DEFINE_MANY_MERGED||d===S.DEFINE_MANY)),d===S.DEFINE_MANY_MERGED?n[i]=u(n[i],s):d===S.DEFINE_MANY&&(n[i]=a(n[i],s))}else n[i]=s}}}}function s(e,t){if(t)for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){var i=n in N;y(!i);var s=n in e;y(!s),e[n]=r}}}function o(e,t){y(e&&t&&"object"==typeof e&&"object"==typeof t);for(var n in t)t.hasOwnProperty(n)&&(y(void 0===e[n]),e[n]=t[n]);return e}function u(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var i={};return o(i,n),o(i,r),i}}function a(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function f(e,t){var n=t.bind(e);return n}function l(e){for(var t in e.__reactAutoBindMap)if(e.__reactAutoBindMap.hasOwnProperty(t)){var n=e.__reactAutoBindMap[t];e[t]=f(e,p.guard(n,e.constructor.displayName+"."+t))}}var c=e(39),h=(e(45),e(61)),p=e(64),d=e(71),v=e(72),m=(e(83),e(82),e(96)),g=e(29),y=e(147),b=e(153),w=e(154),E=(e(166),w({mixins:null})),S=b({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),x=[],T={mixins:S.DEFINE_MANY,statics:S.DEFINE_MANY,propTypes:S.DEFINE_MANY,contextTypes:S.DEFINE_MANY,childContextTypes:S.DEFINE_MANY,getDefaultProps:S.DEFINE_MANY_MERGED,getInitialState:S.DEFINE_MANY_MERGED,getChildContext:S.DEFINE_MANY_MERGED,render:S.DEFINE_ONCE,componentWillMount:S.DEFINE_MANY,componentDidMount:S.DEFINE_MANY,componentWillReceiveProps:S.DEFINE_MANY,shouldComponentUpdate:S.DEFINE_ONCE,componentWillUpdate:S.DEFINE_MANY,componentDidUpdate:S.DEFINE_MANY,componentWillUnmount:S.DEFINE_MANY,updateComponent:S.OVERRIDE_BASE},N={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)i(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=g({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=g({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=u(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=g({},e.propTypes,t)},statics:function(e,t){s(e,t)}},C={replaceState:function(e,t){m.enqueueReplaceState(this,e),t&&m.enqueueCallback(this,t)},isMounted:function(){var e=d.get(this);return e&&e!==v.currentlyMountingInstance},setProps:function(e,t){m.enqueueSetProps(this,e),t&&m.enqueueCallback(this,t)},replaceProps:function(e,t){m.enqueueReplaceProps(this,e),t&&m.enqueueCallback(this,t)}},k=function(){};g(k.prototype,c.prototype,C);var L={createClass:function(e){var t=function(e,t){this.__reactAutoBindMap&&l(this),this.props=e,this.context=t,this.state=null;var n=this.getInitialState?this.getInitialState():null;y("object"==typeof n&&!Array.isArray(n)),this.state=n};t.prototype=new k,t.prototype.constructor=t,x.forEach(i.bind(null,t)),i(t,e),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),y(t.prototype.render);for(var n in T)t.prototype[n]||(t.prototype[n]=null);return t.type=t,t},injection:{injectMixin:function(e){x.push(e)}}};t.exports=L},{147:147,153:153,154:154,166:166,29:29,39:39,45:45,61:61,64:64,71:71,72:72,82:82,83:83,96:96}],39:[function(e,t,n){function r(e,t){this.props=e,this.context=t}var i=e(96),s=e(147);e(166),r.prototype.setState=function(e,t){s("object"==typeof e||"function"==typeof e||null==e),i.enqueueSetState(this,e),t&&i.enqueueCallback(this,t)},r.prototype.forceUpdate=function(e){i.enqueueForceUpdate(this),e&&i.enqueueCallback(this,e)},t.exports=r},{147:147,166:166,96:96}],40:[function(e,t,n){var r=e(50),i=e(75),s={processChildrenUpdates:r.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkupByID:r.dangerouslyReplaceNodeWithMarkupByID,unmountIDFromEnvironment:function(e){i.purgeID(e)}};t.exports=s},{50:50,75:75}],41:[function(e,t,n){var r=e(147),i=!1,s={unmountIDFromEnvironment:null,replaceNodeWithMarkupByID:null,processChildrenUpdates:null,injection:{injectEnvironment:function(e){r(!i),s.unmountIDFromEnvironment=e.unmountIDFromEnvironment,s.replaceNodeWithMarkupByID=e.replaceNodeWithMarkupByID,s.processChildrenUpdates=e.processChildrenUpdates,i=!0}}};t.exports=s},{147:147}],42:[function(e,t,n){var r=e(161),i={shouldComponentUpdate:function(e,t){return!r(this.props,e)||!r(this.state,t)}};t.exports=i},{161:161}],43:[function(e,t,n){function r(e){var t=e._currentElement._owner||null;if(t){var n=t.getName();if(n)return" Check the render method of `"+n+"`."}return""}var i=e(41),s=e(44),o=e(45),u=e(61),a=(e(62),e(71)),f=e(72),l=e(78),c=e(80),h=e(83),p=(e(82),e(87)),d=e(97),v=e(29),m=e(127),g=e(147),y=e(162),b=(e(166),1),w={construct:function(e){this._currentElement=e,this._rootNodeID=null,this._instance=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._isTopLevel=!1,this._pendingCallbacks=null},mountComponent:function(e,t,n){this._context=n,this._mountOrder=b++,this._rootNodeID=e;var r=this._processProps(this._currentElement.props),i=this._processContext(this._currentElement._context),s=l.getComponentClassForElement(this._currentElement),o=new s(r,i);o.props=r,o.context=i,o.refs=m,this._instance=o,a.set(o,this);var u=o.state;void 0===u&&(o.state=u=null),g("object"==typeof u&&!Array.isArray(u)),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1;var c,h,d=f.currentlyMountingInstance;f.currentlyMountingInstance=this;try{o.componentWillMount&&(o.componentWillMount(),this._pendingStateQueue&&(o.state=this._processPendingState(o.props,o.context))),c=this._getValidatedChildContext(n),h=this._renderValidatedComponent(c)}finally{f.currentlyMountingInstance=d}this._renderedComponent=this._instantiateReactComponent(h,this._currentElement.type);var v=p.mountComponent(this._renderedComponent,e,t,this._mergeChildContext(n,c));return o.componentDidMount&&t.getReactMountReady().enqueue(o.componentDidMount,o),v},unmountComponent:function(){var e=this._instance;if(e.componentWillUnmount){var t=f.currentlyUnmountingInstance;f.currentlyUnmountingInstance=this;try{e.componentWillUnmount()}finally{f.currentlyUnmountingInstance=t}}p.unmountComponent(this._renderedComponent),this._renderedComponent=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=null,a.remove(e)},_setPropsInternal:function(e,t){var n=this._pendingElement||this._currentElement;this._pendingElement=u.cloneAndReplaceProps(n,v({},n.props,e)),d.enqueueUpdate(this,t)},_maskContext:function(e){var t=null;if("string"==typeof this._currentElement.type)return m;var n=this._currentElement.type.contextTypes;if(!n)return m;t={};for(var r in n)t[r]=e[r];return t},_processContext:function(e){var t=this._maskContext(e);return t},_getValidatedChildContext:function(e){var t=this._instance,n=t.getChildContext&&t.getChildContext();if(n){g("object"==typeof t.constructor.childContextTypes);for(var r in n)g(r in t.constructor.childContextTypes);return n}return null},_mergeChildContext:function(e,t){return t?v({},e,t):e},_processProps:function(e){return e},_checkPropTypes:function(e,t,n){var i=this.getName();for(var s in e)if(e.hasOwnProperty(s)){var o;try{g("function"==typeof e[s]),o=e[s](t,s,i,n)}catch(u){o=u}o instanceof Error&&(r(this),n===h.prop)}},receiveComponent:function(e,t,n){var r=this._currentElement,i=this._context;this._pendingElement=null,this.updateComponent(t,r,e,i,n)},performUpdateIfNecessary:function(e){null!=this._pendingElement&&p.receiveComponent(this,this._pendingElement||this._currentElement,e,this._context),(null!==this._pendingStateQueue||this._pendingForceUpdate)&&this.updateComponent(e,this._currentElement,this._currentElement,this._context,this._context)},_warnIfContextsDiffer:function(e,t){e=this._maskContext(e),t=this._maskContext(t);for(var n=Object.keys(t).sort(),r=(this.getName()||"ReactCompositeComponent",0);r<n.length;r++)n[r]},updateComponent:function(e,t,n,r,i){var s=this._instance,o=s.context,u=s.props;t!==n&&(o=this._processContext(n._context),u=this._processProps(n.props),s.componentWillReceiveProps&&s.componentWillReceiveProps(u,o));var a=this._processPendingState(u,o),f=this._pendingForceUpdate||!s.shouldComponentUpdate||s.shouldComponentUpdate(u,a,o);f?(this._pendingForceUpdate=!1,this._performComponentUpdate(n,u,a,o,e,i)):(this._currentElement=n,this._context=i,s.props=u,s.state=a,s.context=o)},_processPendingState:function(e,t){var n=this._instance,r=this._pendingStateQueue,i=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!r)return n.state;if(i&&1===r.length)return r[0];for(var s=v({},i?r[0]:n.state),o=i?1:0;o<r.length;o++){var u=r[o];v(s,"function"==typeof u?u.call(n,s,e,t):u)}return s},_performComponentUpdate:function(e,t,n,r,i,s){var o=this._instance,u=o.props,a=o.state,f=o.context;o.componentWillUpdate&&o.componentWillUpdate(t,n,r),this._currentElement=e,this._context=s,o.props=t,o.state=n,o.context=r,this._updateRenderedComponent(i,s),o.componentDidUpdate&&i.getReactMountReady().enqueue(o.componentDidUpdate.bind(o,u,a,f),o)},_updateRenderedComponent:function(e,t){var n=this._renderedComponent,r=n._currentElement,i=this._getValidatedChildContext(),s=this._renderValidatedComponent(i);if(y(r,s))p.receiveComponent(n,s,e,this._mergeChildContext(t,i));else{var o=this._rootNodeID,u=n._rootNodeID;p.unmountComponent(n),this._renderedComponent=this._instantiateReactComponent(s,this._currentElement.type);var a=p.mountComponent(this._renderedComponent,o,e,this._mergeChildContext(t,i));this._replaceNodeWithMarkupByID(u,a)}},_replaceNodeWithMarkupByID:function(e,t){i.replaceNodeWithMarkupByID(e,t)},_renderValidatedComponentWithoutOwnerOrContext:function(){var e=this._instance,t=e.render();return t},_renderValidatedComponent:function(e){var t,n=s.current;s.current=this._mergeChildContext(this._currentElement._context,e),o.current=this;try{t=this._renderValidatedComponentWithoutOwnerOrContext()}finally{s.current=n,o.current=null}return g(null===t||t===!1||u.isValidElement(t)),t},attachRef:function(e,t){var n=this.getPublicInstance(),r=n.refs===m?n.refs={}:n.refs;r[e]=t.getPublicInstance()},detachRef:function(e){var t=this.getPublicInstance().refs;delete t[e]},getName:function(){var e=this._currentElement.type,t=this._instance&&this._instance.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||null},getPublicInstance:function(){return this._instance},_instantiateReactComponent:null};c.measureMethods(w,"ReactCompositeComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent",_renderValidatedComponent:"_renderValidatedComponent"});var E={Mixin:w};t.exports=E},{127:127,147:147,162:162,166:166,29:29,41:41,44:44,45:45,61:61,62:62,71:71,72:72,78:78,80:80,82:82,83:83,87:87,97:97}],44:[function(e,t,n){var r=e(29),i=e(127),s=(e(166),{current:i,withContext:function(e,t){var n,i=s.current;s.current=r({},i,e);try{n=t()}finally{s.current=i}return n}});t.exports=s},{127:127,166:166,29:29}],45:[function(e,t,n){var r={current:null};t.exports=r},{}],46:[function(e,t,n){function r(e){return i.createFactory(e)}var i=e(61),s=(e(62),e(155)),o=s({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul","var":"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},r);t.exports=o},{155:155,61:61,62:62}],47:[function(e,t,n){var r=e(2),i=e(32),s=e(38),o=e(61),u=e(153),a=o.createFactory("button"),f=u({onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0}),l=s.createClass({displayName:"ReactDOMButton",tagName:"BUTTON",mixins:[r,i],render:function(){var e={};for(var t in this.props)!this.props.hasOwnProperty(t)||this.props.disabled&&f[t]||(e[t]=this.props[t]);return a(e,this.props.children)}});t.exports=l},{153:153,2:2,32:32,38:38,61:61}],48:[function(e,t,n){function r(e){e&&(null!=e.dangerouslySetInnerHTML&&(g(null==e.children),g("object"==typeof e.dangerouslySetInnerHTML&&"__html"in e.dangerouslySetInnerHTML)),g(null==e.style||"object"==typeof e.style))}function i(e,t,n,r){var i=h.findReactContainerForID(e);if(i){var s=i.nodeType===T?i.ownerDocument:i;w(t,s)}r.getPutListenerQueue().enqueuePutListener(e,t,n)}function s(e){A.call(L,e)||(g(k.test(e)),L[e]=!0)}function o(e){s(e),this._tag=e,this._renderedChildren=null,this._previousStyleCopy=null,this._rootNodeID=null}var u=e(6),a=e(11),f=e(12),l=e(33),c=e(40),h=e(75),p=e(76),d=e(80),v=e(29),m=e(128),g=e(147),y=(e(148),e(154)),b=(e(166),l.deleteListener),w=l.listenTo,E=l.registrationNameModules,S={string:!0,number:!0},x=y({style:null}),T=1,N=null,C={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},k=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,L={},A={}.hasOwnProperty;o.displayName="ReactDOMComponent",o.Mixin={construct:function(e){this._currentElement=e},mountComponent:function(e,t,n){this._rootNodeID=e,r(this._currentElement.props);var i=C[this._tag]?"":"</"+this._tag+">";return this._createOpenTagMarkupAndPutListeners(t)+this._createContentMarkup(t,n)+i},_createOpenTagMarkupAndPutListeners:function(e){var t=this._currentElement.props,n="<"+this._tag;for(var r in t)if(t.hasOwnProperty(r)){var s=t[r];if(null!=s)if(E.hasOwnProperty(r))i(this._rootNodeID,r,s,e);else{r===x&&(s&&(s=this._previousStyleCopy=v({},t.style)),s=u.createMarkupForStyles(s));var o=f.createMarkupForProperty(r,s);o&&(n+=" "+o)}}if(e.renderToStaticMarkup)return n+">";var a=f.createMarkupForID(this._rootNodeID);return n+" "+a+">"},_createContentMarkup:function(e,t){var n="";("listing"===this._tag||"pre"===this._tag||"textarea"===this._tag)&&(n="\n");var r=this._currentElement.props,i=r.dangerouslySetInnerHTML;if(null!=i){if(null!=i.__html)return n+i.__html}else{var s=S[typeof r.children]?r.children:null,o=null!=s?null:r.children;if(null!=s)return n+m(s);if(null!=o){var u=this.mountChildren(o,e,t);return n+u.join("")}}return n},receiveComponent:function(e,t,n){var r=this._currentElement;this._currentElement=e,this.updateComponent(t,r,e,n)},updateComponent:function(e,t,n,i){r(this._currentElement.props),this._updateDOMProperties(t.props,e),this._updateDOMChildren(t.props,e,i)},_updateDOMProperties:function(e,t){var n,r,s,o=this._currentElement.props;for(n in e)if(!o.hasOwnProperty(n)&&e.hasOwnProperty(n))if(n===x){var u=this._previousStyleCopy;for(r in u)u.hasOwnProperty(r)&&(s=s||{},s[r]="");this._previousStyleCopy=null}else E.hasOwnProperty(n)?b(this._rootNodeID,n):(a.isStandardName[n]||a.isCustomAttribute(n))&&N.deletePropertyByID(this._rootNodeID,n);for(n in o){var f=o[n],l=n===x?this._previousStyleCopy:e[n];if(o.hasOwnProperty(n)&&f!==l)if(n===x)if(f?f=this._previousStyleCopy=v({},f):this._previousStyleCopy=null,l){for(r in l)!l.hasOwnProperty(r)||f&&f.hasOwnProperty(r)||(s=s||{},s[r]="");for(r in f)f.hasOwnProperty(r)&&l[r]!==f[r]&&(s=s||{},s[r]=f[r])}else s=f;else E.hasOwnProperty(n)?i(this._rootNodeID,n,f,t):(a.isStandardName[n]||a.isCustomAttribute(n))&&N.updatePropertyByID(this._rootNodeID,n,f)}s&&N.updateStylesByID(this._rootNodeID,s)},_updateDOMChildren:function(e,t,n){var r=this._currentElement.props,i=S[typeof e.children]?e.children:null,s=S[typeof r.children]?r.children:null,o=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,u=r.dangerouslySetInnerHTML&&r.dangerouslySetInnerHTML.__html,a=null!=i?null:e.children,f=null!=s?null:r.children,l=null!=i||null!=o,c=null!=s||null!=u;null!=a&&null==f?this.updateChildren(null,t,n):l&&!c&&this.updateTextContent(""),null!=s?i!==s&&this.updateTextContent(""+s):null!=u?o!==u&&N.updateInnerHTMLByID(this._rootNodeID,u):null!=f&&this.updateChildren(f,t,n)},unmountComponent:function(){this.unmountChildren(),l.deleteAllListeners(this._rootNodeID),c.unmountIDFromEnvironment(this._rootNodeID),this._rootNodeID=null}},d.measureMethods(o,"ReactDOMComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent"}),v(o.prototype,o.Mixin,p.Mixin),o.injection={injectIDOperations:function(e){o.BackendIDOperations=N=e}},t.exports=o},{11:11,12:12,128:128,147:147,148:148,154:154,166:166,29:29,33:33,40:40,6:6,75:75,76:76,80:80}],49:[function(e,t,n){var r=e(16),i=e(27),s=e(32),o=e(38),u=e(61),a=u.createFactory("form"),f=o.createClass({displayName:"ReactDOMForm",tagName:"FORM",mixins:[s,i],render:function(){return a(this.props)},componentDidMount:function(){this.trapBubbledEvent(r.topLevelTypes.topReset,"reset"),this.trapBubbledEvent(r.topLevelTypes.topSubmit,"submit")}});t.exports=f},{16:16,27:27,32:32,38:38,61:61}],50:[function(e,t,n){var r=e(6),i=e(10),s=e(12),o=e(75),u=e(80),a=e(147),f=e(159),l={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",style:"`style` must be set using `updateStylesByID()`."},c={updatePropertyByID:function(e,t,n){var r=o.getNode(e);a(!l.hasOwnProperty(t)),null!=n?s.setValueForProperty(r,t,n):s.deleteValueForProperty(r,t)},deletePropertyByID:function(e,t,n){var r=o.getNode(e);a(!l.hasOwnProperty(t)),s.deleteValueForProperty(r,t,n)},updateStylesByID:function(e,t){var n=o.getNode(e);r.setValueForStyles(n,t)},updateInnerHTMLByID:function(e,t){var n=o.getNode(e);f(n,t)},updateTextContentByID:function(e,t){var n=o.getNode(e);i.updateTextContent(n,t)},dangerouslyReplaceNodeWithMarkupByID:function(e,t){var n=o.getNode(e);i.dangerouslyReplaceNodeWithMarkup(n,t)},dangerouslyProcessChildrenUpdates:function(e,t){for(var n=0;n<e.length;n++)e[n].parentNode=o.getNode(e[n].parentID);i.processUpdates(e,t)}};u.measureMethods(c,"ReactDOMIDOperations",{updatePropertyByID:"updatePropertyByID",deletePropertyByID:"deletePropertyByID",updateStylesByID:"updateStylesByID",updateInnerHTMLByID:"updateInnerHTMLByID",updateTextContentByID:"updateTextContentByID",dangerouslyReplaceNodeWithMarkupByID:"dangerouslyReplaceNodeWithMarkupByID",dangerouslyProcessChildrenUpdates:"dangerouslyProcessChildrenUpdates"}),t.exports=c},{10:10,12:12,147:147,159:159,6:6,75:75,80:80}],51:[function(e,t,n){var r=e(16),i=e(27),s=e(32),o=e(38),u=e(61),a=u.createFactory("iframe"),f=o.createClass({displayName:"ReactDOMIframe",tagName:"IFRAME",mixins:[s,i],render:function(){return a(this.props)},componentDidMount:function(){this.trapBubbledEvent(r.topLevelTypes.topLoad,"load")}});t.exports=f},{16:16,27:27,32:32,38:38,61:61}],52:[function(e,t,n){var r=e(16),i=e(27),s=e(32),o=e(38),u=e(61),a=u.createFactory("img"),f=o.createClass({displayName:"ReactDOMImg",tagName:"IMG",mixins:[s,i],render:function(){return a(this.props)},componentDidMount:function(){this.trapBubbledEvent(r.topLevelTypes.topLoad,"load"),this.trapBubbledEvent(r.topLevelTypes.topError,"error")}});t.exports=f},{16:16,27:27,32:32,38:38,61:61}],53:[function(e,t,n){function r(){this.isMounted()&&this.forceUpdate()}var i=e(2),s=e(12),o=e(26),u=e(32),a=e(38),f=e(61),l=e(75),c=e(97),h=e(29),p=e(147),d=f.createFactory("input"),v={},m=a.createClass({displayName:"ReactDOMInput",tagName:"INPUT",mixins:[i,o.Mixin,u],getInitialState:function(){var e=this.props.defaultValue;return{initialChecked:this.props.defaultChecked||!1,initialValue:null!=e?e:null}},render:function(){var e=h({},this.props);e.defaultChecked=null,e.defaultValue=null;var t=o.getValue(this);e.value=null!=t?t:this.state.initialValue;var n=o.getChecked(this);return e.checked=null!=n?n:this.state.initialChecked,e.onChange=this._handleChange,d(e,this.props.children)},componentDidMount:function(){var e=l.getID(this.getDOMNode());v[e]=this},componentWillUnmount:function(){var e=this.getDOMNode(),t=l.getID(e);delete v[t]},componentDidUpdate:function(e,t,n){var r=this.getDOMNode();null!=this.props.checked&&s.setValueForProperty(r,"checked",this.props.checked||!1);var i=o.getValue(this);null!=i&&s.setValueForProperty(r,"value",""+i)},_handleChange:function(e){var t,n=o.getOnChange(this);n&&(t=n.call(this,e)),c.asap(r,this);var i=this.props.name;if("radio"===this.props.type&&null!=i){for(var s=this.getDOMNode(),u=s;u.parentNode;)u=u.parentNode;for(var a=u.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),f=0,h=a.length;h>f;f++){var d=a[f];if(d!==s&&d.form===s.form){var m=l.getID(d);p(m);var g=v[m];p(g),c.asap(r,g)}}}return t}});t.exports=m},{12:12,147:147,2:2,26:26,29:29,32:32,38:38,61:61,75:75,97:97}],54:[function(e,t,n){var r=e(32),i=e(38),s=e(61),o=(e(166),s.createFactory("option")),u=i.createClass({displayName:"ReactDOMOption",tagName:"OPTION",mixins:[r],componentWillMount:function(){},render:function(){return o(this.props,this.props.children)}});t.exports=u},{166:166,32:32,38:38,61:61}],55:[function(e,t,n){function r(){if(this._pendingUpdate){this._pendingUpdate=!1;var e=u.getValue(this);null!=e&&this.isMounted()&&s(this,e)}}function i(e,t,n){if(null==e[t])return null;if(e.multiple){if(!Array.isArray(e[t]))return new Error("The `"+t+"` prop supplied to <select> must be an array if `multiple` is true.")}else if(Array.isArray(e[t]))return new Error("The `"+t+"` prop supplied to <select> must be a scalar value if `multiple` is false.")}function s(e,t){var n,r,i,s=e.getDOMNode().options;if(e.props.multiple){for(n={},r=0,i=t.length;i>r;r++)n[""+t[r]]=!0;for(r=0,i=s.length;i>r;r++){var o=n.hasOwnProperty(s[r].value);s[r].selected!==o&&(s[r].selected=o)}}else{for(n=""+t,r=0,i=s.length;i>r;r++)if(s[r].value===n)return void (s[r].selected=!0);s.length&&(s[0].selected=!0)}}var o=e(2),u=e(26),a=e(32),f=e(38),l=e(61),c=e(97),h=e(29),p=l.createFactory("select"),d=f.createClass({displayName:"ReactDOMSelect",tagName:"SELECT",mixins:[o,u.Mixin,a],propTypes:{defaultValue:i,value:i},render:function(){var e=h({},this.props);return e.onChange=this._handleChange,e.value=null,p(e,this.props.children)},componentWillMount:function(){this._pendingUpdate=!1},componentDidMount:function(){var e=u.getValue(this);null!=e?s(this,e):null!=this.props.defaultValue&&s(this,this.props.defaultValue)},componentDidUpdate:function(e){var t=u.getValue(this);null!=t?(this._pendingUpdate=!1,s(this,t)):!e.multiple!=!this.props.multiple&&(null!=this.props.defaultValue?s(this,this.props.defaultValue):s(this,this.props.multiple?[]:""))},_handleChange:function(e){var t,n=u.getOnChange(this);return n&&(t=n.call(this,e)),this._pendingUpdate=!0,c.asap(r,this),t}});t.exports=d},{2:2,26:26,29:29,32:32,38:38,61:61,97:97}],56:[function(e,t,n){function r(e,t,n,r){return e===n&&t===r}function i(e){var t=document.selection,n=t.createRange(),r=n.text.length,i=n.duplicate();i.moveToElementText(e),i.setEndPoint("EndToStart",n);var s=i.text.length,o=s+r;return{start:s,end:o}}function s(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var n=t.anchorNode,i=t.anchorOffset,s=t.focusNode,o=t.focusOffset,u=t.getRangeAt(0),a=r(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),f=a?0:u.toString().length,l=u.cloneRange();l.selectNodeContents(e),l.setEnd(u.startContainer,u.startOffset);var c=r(l.startContainer,l.startOffset,l.endContainer,l.endOffset),h=c?0:l.toString().length,p=h+f,d=document.createRange();d.setStart(n,i),d.setEnd(s,o);var v=d.collapsed;return{start:v?p:h,end:v?h:p}}function o(e,t){var n,r,i=document.selection.createRange().duplicate();"undefined"==typeof t.end?(n=t.start,r=n):t.start>t.end?(n=t.end,r=t.start):(n=t.start,r=t.end),i.moveToElementText(e),i.moveStart("character",n),i.setEndPoint("EndToStart",i),i.moveEnd("character",r-n),i.select()}function u(e,t){if(window.getSelection){var n=window.getSelection(),r=e[l()].length,i=Math.min(t.start,r),s="undefined"==typeof t.end?i:Math.min(t.end,r);if(!n.extend&&i>s){var o=s;s=i,i=o}var u=f(e,i),a=f(e,s);if(u&&a){var c=document.createRange();c.setStart(u.node,u.offset),n.removeAllRanges(),i>s?(n.addRange(c),n.extend(a.node,a.offset)):(c.setEnd(a.node,a.offset),n.addRange(c))}}}var a=e(22),f=e(140),l=e(142),c=a.canUseDOM&&"selection"in document&&!("getSelection"in window),h={getOffsets:c?i:s,setOffsets:c?o:u};t.exports=h},{140:140,142:142,22:22}],57:[function(e,t,n){var r=e(12),i=e(40),s=e(48),o=e(29),u=e(128),a=function(e){};o(a.prototype,{construct:function(e){this._currentElement=e,this._stringText=""+e,this._rootNodeID=null,this._mountIndex=0},mountComponent:function(e,t,n){this._rootNodeID=e;var i=u(this._stringText);return t.renderToStaticMarkup?i:"<span "+r.createMarkupForID(e)+">"+i+"</span>"},receiveComponent:function(e,t){if(e!==this._currentElement){this._currentElement=e;var n=""+e;n!==this._stringText&&(this._stringText=n,s.BackendIDOperations.updateTextContentByID(this._rootNodeID,n))}},unmountComponent:function(){i.unmountIDFromEnvironment(this._rootNodeID)}}),t.exports=a},{12:12,128:128,29:29,40:40,48:48}],58:[function(e,t,n){function r(){this.isMounted()&&this.forceUpdate()}var i=e(2),s=e(12),o=e(26),u=e(32),a=e(38),f=e(61),l=e(97),c=e(29),h=e(147),p=(e(166),f.createFactory("textarea")),d=a.createClass({displayName:"ReactDOMTextarea",tagName:"TEXTAREA",mixins:[i,o.Mixin,u],getInitialState:function(){var e=this.props.defaultValue,t=this.props.children;null!=t&&(h(null==e),Array.isArray(t)&&(h(t.length<=1),t=t[0]),e=""+t),null==e&&(e="");var n=o.getValue(this);return{initialValue:""+(null!=n?n:e)}},render:function(){var e=c({},this.props);return h(null==e.dangerouslySetInnerHTML),e.defaultValue=null,e.value=null,e.onChange=this._handleChange,p(e,this.state.initialValue)},componentDidUpdate:function(e,t,n){var r=o.getValue(this);if(null!=r){var i=this.getDOMNode();s.setValueForProperty(i,"value",""+r)}},_handleChange:function(e){var t,n=o.getOnChange(this);return n&&(t=n.call(this,e)),l.asap(r,this),t}});t.exports=d},{12:12,147:147,166:166,2:2,26:26,29:29,32:32,38:38,61:61,97:97}],59:[function(e,t,n){function r(){this.reinitializeTransaction()}var i=e(97),s=e(113),o=e(29),u=e(126),a={initialize:u,close:function(){h.isBatchingUpdates=!1}},f={initialize:u,close:i.flushBatchedUpdates.bind(i)},l=[f,a];o(r.prototype,s.Mixin,{getTransactionWrappers:function(){return l}});var c=new r,h={isBatchingUpdates:!1,batchedUpdates:function(e,t,n,r,i){var s=h.isBatchingUpdates;h.isBatchingUpdates=!0,s?e(t,n,r,i):c.perform(e,null,t,n,r,i)}};t.exports=h},{113:113,126:126,29:29,97:97}],60:[function(e,t,n){function r(e){return d.createClass({tagName:e.toUpperCase(),render:function(){return new L(e,null,null,null,null,this.props)}})}function i(){O.EventEmitter.injectReactEventListener(A),O.EventPluginHub.injectEventPluginOrder(a),O.EventPluginHub.injectInstanceHandle(M),O.EventPluginHub.injectMount(_),O.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:B,EnterLeaveEventPlugin:f,ChangeEventPlugin:o,MobileSafariClickEventPlugin:h,SelectEventPlugin:P,BeforeInputEventPlugin:s}),O.NativeComponent.injectGenericComponentClass(g),O.NativeComponent.injectTextComponentClass(k),O.NativeComponent.injectAutoWrapper(r),O.Class.injectMixin(p),O.NativeComponent.injectComponentClasses({button:y,form:b,iframe:S,img:w,input:x,option:T,select:N,textarea:C,html:F("html"),head:F("head"),body:F("body")}),O.DOMProperty.injectDOMPropertyConfig(c),O.DOMProperty.injectDOMPropertyConfig(j),O.EmptyComponent.injectEmptyComponent("noscript"),O.Updates.injectReconcileTransaction(D),O.Updates.injectBatchingStrategy(m),O.RootIndex.injectCreateReactRootIndex(l.canUseDOM?u.createReactRootIndex:H.createReactRootIndex),O.Component.injectEnvironment(v),O.DOMComponent.injectIDOperations(E)}var s=e(3),o=e(8),u=e(9),a=e(14),f=e(15),l=e(22),c=e(24),h=e(28),p=e(32),d=e(38),v=e(40),m=e(59),g=e(48),y=e(47),b=e(49),w=e(52),E=e(50),S=e(51),x=e(53),T=e(54),N=e(55),C=e(58),k=e(57),L=e(61),A=e(66),O=e(68),M=e(70),_=e(75),D=e(86),P=e(99),H=e(100),B=e(101),j=e(98),F=e(122);t.exports={inject:i}},{100:100,101:101,122:122,14:14,15:15,22:22,24:24,28:28,3:3,32:32,38:38,40:40,47:47,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,57:57,58:58,59:59,61:61,66:66,68:68,70:70,75:75,8:8,86:86,9:9,98:98,99:99}],61:[function(e,t,n){var r=e(44),i=e(45),s=e(29),o=(e(166),{key:!0,ref:!0}),u=function(e,t,n,r,i,s){this.type=e,this.key=t,this.ref=n,this._owner=r,this._context=i,this.props=s};u.prototype={_isReactElement:!0},u.createElement=function(e,t,n){var s,f={},l=null,c=null;if(null!=t){c=void 0===t.ref?null:t.ref,l=void 0===t.key?null:""+t.key;for(s in t)t.hasOwnProperty(s)&&!o.hasOwnProperty(s)&&(f[s]=t[s])}var h=arguments.length-2;if(1===h)f.children=n;else if(h>1){for(var p=Array(h),d=0;h>d;d++)p[d]=arguments[d+2];f.children=p}if(e&&e.defaultProps){var v=e.defaultProps;for(s in v)"undefined"==typeof f[s]&&(f[s]=v[s])}return new u(e,l,c,i.current,r.current,f)},u.createFactory=function(e){var t=u.createElement.bind(null,e);return t.type=e,t},u.cloneAndReplaceProps=function(e,t){var n=new u(e.type,e.key,e.ref,e._owner,e._context,t);return n},u.cloneElement=function(e,t,n){var r,f=s({},e.props),l=e.key,c=e.ref,h=e._owner;if(null!=t){void 0!==t.ref&&(c=t.ref,h=i.current),void 0!==t.key&&(l=""+t.key);for(r in t)t.hasOwnProperty(r)&&!o.hasOwnProperty(r)&&(f[r]=t[r])}var p=arguments.length-2;if(1===p)f.children=n;else if(p>1){for(var d=Array(p),v=0;p>v;v++)d[v]=arguments[v+2];f.children=d}return new u(e.type,l,c,h,e._context,f)},u.isValidElement=function(e){var t=!!e&&!!e._isReactElement;return t},t.exports=u},{166:166,29:29,44:44,45:45}],62:[function(e,t,n){function r(){if(y.current){var e=y.current.getName();if(e)return" Check the render method of `"+e+"`."}return""}function i(e){var t=e&&e.getPublicInstance();if(!t)return void 0;var n=t.constructor;return n?n.displayName||n.name||void 0:void 0}function s(){var e=y.current;return e&&i(e)||void 0}function o(e,t){e._store.validated||null!=e.key||(e._store.validated=!0,a('Each child in an array or iterator should have a unique "key" prop.',e,t))}function u(e,t,n){T.test(e)&&a("Child objects should have non-numeric keys so ordering is preserved.",t,n)}function a(e,t,n){var r=s(),o="string"==typeof n?n:n.displayName||n.name,u=r||o,a=S[e]||(S[e]={});if(!a.hasOwnProperty(u)){a[u]=!0;var f="";if(t&&t._owner&&t._owner!==y.current){var l=i(t._owner);f=" It was passed a child from "+l+"."}}}function f(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++){var r=e[n];v.isValidElement(r)&&o(r,t)}else if(v.isValidElement(e))e._store.validated=!0;else if(e){var i=w(e);if(i){if(i!==e.entries)for(var s,a=i.call(e);!(s=a.next()).done;)v.isValidElement(s.value)&&o(s.value,t)}else if("object"==typeof e){var f=m.extractIfFragment(e);for(var l in f)f.hasOwnProperty(l)&&u(l,f[l],t)}}}function l(e,t,n,i){for(var s in t)if(t.hasOwnProperty(s)){var o;try{E("function"==typeof t[s]),o=t[s](n,s,e,i)}catch(u){o=u}o instanceof Error&&!(o.message in x)&&(x[o.message]=!0,r(this))}}function c(e,t){var n=t.type,r="string"==typeof n?n:n.displayName,i=t._owner?t._owner.getPublicInstance().constructor.displayName:null,s=e+"|"+r+"|"+i;if(!N.hasOwnProperty(s)){N[s]=!0;var o="";r&&(o=" <"+r+" />");var u="";i&&(u=" The element was created by "+i+".")}}function h(e,t){return e!==e?t!==t:0===e&&0===t?1/e===1/t:e===t}function p(e){if(e._store){var t=e._store.originalProps,n=e.props;for(var r in n)n.hasOwnProperty(r)&&(t.hasOwnProperty(r)&&h(t[r],n[r])||(c(r,e),t[r]=n[r]))}}function d(e){if(null!=e.type){var t=b.getComponentClassForElement(e),n=t.displayName||t.name;t.propTypes&&l(n,t.propTypes,e.props,g.prop),"function"==typeof t.getDefaultProps}}var v=e(61),m=e(67),g=e(83),y=(e(82),e(45)),b=e(78),w=e(138),E=e(147),S=(e(166),{}),x={},T=/^\d+$/,N={},C={checkAndWarnForMutatedProps:p,createElement:function(e,t,n){var r=v.createElement.apply(this,arguments);if(null==r)return r;for(var i=2;i<arguments.length;i++)f(arguments[i],e);return d(r),r},createFactory:function(e){var t=C.createElement.bind(null,e);return t.type=e,t},cloneElement:function(e,t,n){for(var r=v.cloneElement.apply(this,arguments),i=2;i<arguments.length;i++)f(arguments[i],r.type);return d(r),r}};t.exports=C},{138:138,147:147,166:166,45:45,61:61,67:67,78:78,82:82,83:83}],63:[function(e,t,n){function r(e){l[e]=!0}function i(e){delete l[e]}function s(e){return!!l[e]}var o,u=e(61),a=e(71),f=e(147),l={},c={injectEmptyComponent:function(e){o=u.createFactory(e)}},h=function(){};h.prototype.componentDidMount=function(){var e=a.get(this);e&&r(e._rootNodeID)},h.prototype.componentWillUnmount=function(){var e=a.get(this);e&&i(e._rootNodeID)},h.prototype.render=function(){return f(o),o()};var p=u.createElement(h),d={emptyElement:p,injection:c,isNullComponentID:s};t.exports=d},{147:147,61:61,71:71}],64:[function(e,t,n){var r={guard:function(e,t){return e}};t.exports=r},{}],65:[function(e,t,n){function r(e){i.enqueueEvents(e),i.processEventQueue()}var i=e(18),s={handleTopLevel:function(e,t,n,s){var u=i.extractEvents(e,t,n,s);r(u)}};t.exports=s},{18:18}],66:[function(e,t,n){function r(e){var t=c.getID(e),n=l.getReactRootIDFromNodeID(t),r=c.findReactContainerForID(n),i=c.getFirstReactDOM(r);return i}function i(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function s(e){for(var t=c.getFirstReactDOM(d(e.nativeEvent))||window,n=t;n;)e.ancestors.push(n),n=r(n);for(var i=0,s=e.ancestors.length;s>i;i++){t=e.ancestors[i];var o=c.getID(t)||"";m._handleTopLevel(e.topLevelType,t,o,e.nativeEvent)}}function o(e){var t=v(window);e(t)}var u=e(17),a=e(22),f=e(30),l=e(70),c=e(75),h=e(97),p=e(29),d=e(137),v=e(143);p(i.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),f.addPoolingTo(i,f.twoArgumentPooler);var m={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:a.canUseDOM?window:null,setHandleTopLevel:function(e){m._handleTopLevel=e},setEnabled:function(e){m._enabled=!!e},isEnabled:function(){return m._enabled},trapBubbledEvent:function(e,t,n){var r=n;return r?u.listen(r,t,m.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,t,n){var r=n;return r?u.capture(r,t,m.dispatchEvent.bind(null,e)):null},monitorScrollValue:function(e){var t=o.bind(null,e);u.listen(window,"scroll",t)},dispatchEvent:function(e,t){if(m._enabled){var n=i.getPooled(e,t);try{h.batchedUpdates(s,n)}finally{i.release(n)}}}};t.exports=m},{137:137,143:143,17:17,22:22,29:29,30:30,70:70,75:75,97:97}],67:[function(e,t,n){var r=(e(61),e(166),{create:function(e){return e},extract:function(e){return e},extractIfFragment:function(e){return e}});t.exports=r},{166:166,61:61}],68:[function(e,t,n){var r=e(11),i=e(18),s=e(41),o=e(38),u=e(63),a=e(33),f=e(78),l=e(48),c=e(80),h=e(89),p=e(97),d={Component:s.injection,Class:o.injection,DOMComponent:l.injection,DOMProperty:r.injection,EmptyComponent:u.injection,EventPluginHub:i.injection,EventEmitter:a.injection,NativeComponent:f.injection,Perf:c.injection,RootIndex:h.injection,Updates:p.injection};t.exports=d},{11:11,18:18,33:33,38:38,41:41,48:48,63:63,78:78,80:80,89:89,97:97}],69:[function(e,t,n){function r(e){return s(document.documentElement,e)}var i=e(56),s=e(120),o=e(131),u=e(133),a={hasSelectionCapabilities:function(e){return e&&("INPUT"===e.nodeName&&"text"===e.type||"TEXTAREA"===e.nodeName||"true"===e.contentEditable)},getSelectionInformation:function(){var e=u();return{focusedElem:e,selectionRange:a.hasSelectionCapabilities(e)?a.getSelection(e):null}},restoreSelection:function(e){var t=u(),n=e.focusedElem,i=e.selectionRange;t!==n&&r(n)&&(a.hasSelectionCapabilities(n)&&a.setSelection(n,i),o(n))},getSelection:function(e){var t;if("selectionStart"in e)t={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&"INPUT"===e.nodeName){var n=document.selection.createRange();n.parentElement()===e&&(t={start:-n.moveStart("character",-e.value.length),end:-n.moveEnd("character",-e.value.length)})}else t=i.getOffsets(e);return t||{start:0,end:0}},setSelection:function(e,t){var n=t.start,r=t.end;if("undefined"==typeof r&&(r=n),"selectionStart"in e)e.selectionStart=n,e.selectionEnd=Math.min(r,e.value.length);else if(document.selection&&"INPUT"===e.nodeName){var s=e.createTextRange();s.collapse(!0),s.moveStart("character",n),s.moveEnd("character",r-n),s.select()}else i.setOffsets(e,t)}};t.exports=a},{120:120,131:131,133:133,56:56}],70:[function(e,t,n){function r(e){return p+e.toString(36)}function i(e,t){return e.charAt(t)===p||t===e.length}function s(e){return""===e||e.charAt(0)===p&&e.charAt(e.length-1)!==p}function o(e,t){return 0===t.indexOf(e)&&i(t,e.length)}function u(e){return e?e.substr(0,e.lastIndexOf(p)):""}function a(e,t){if(h(s(e)&&s(t)),h(o(e,t)),e===t)return e;var n,r=e.length+d;for(n=r;n<t.length&&!i(t,n);n++);return t.substr(0,n)}function f(e,t){var n=Math.min(e.length,t.length);if(0===n)return"";for(var r=0,o=0;n>=o;o++)if(i(e,o)&&i(t,o))r=o;else if(e.charAt(o)!==t.charAt(o))break;var u=e.substr(0,r);return h(s(u)),u}function l(e,t,n,r,i,s){e=e||"",t=t||"",h(e!==t);var f=o(t,e);h(f||o(e,t));for(var l=0,c=f?u:a,p=e;;p=c(p,t)){var d;if(i&&p===e||s&&p===t||(d=n(p,f,r)),d===!1||p===t)break;h(l++<v)}}var c=e(89),h=e(147),p=".",d=p.length,v=100,m={createReactRootID:function(){return r(c.createReactRootIndex())},createReactID:function(e,t){return e+t},getReactRootIDFromNodeID:function(e){if(e&&e.charAt(0)===p&&e.length>1){var t=e.indexOf(p,1);return t>-1?e.substr(0,t):e}return null},traverseEnterLeave:function(e,t,n,r,i){var s=f(e,t);s!==e&&l(e,s,n,r,!1,!0),s!==t&&l(s,t,n,i,!0,!1)},traverseTwoPhase:function(e,t,n){e&&(l("",e,t,n,!0,!1),l(e,"",t,n,!1,!0))},traverseAncestors:function(e,t,n){l("",e,t,n,!0,!1)},_getFirstCommonAncestorID:f,_getNextDescendantID:a,isAncestorIDOf:o,SEPARATOR:p};t.exports=m},{147:147,89:89}],71:[function(e,t,n){var r={remove:function(e){e._reactInternalInstance=void 0},get:function(e){return e._reactInternalInstance},has:function(e){return void 0!==e._reactInternalInstance},set:function(e,t){e._reactInternalInstance=t}};t.exports=r},{}],72:[function(e,t,n){var r={currentlyMountingInstance:null,currentlyUnmountingInstance:null};t.exports=r},{}],73:[function(e,t,n){function r(e,t){this.value=e,this.requestChange=t}function i(e){var t={value:"undefined"==typeof e?s.PropTypes.any.isRequired:e.isRequired,requestChange:s.PropTypes.func.isRequired};return s.PropTypes.shape(t)}var s=e(31);r.PropTypes={link:i},t.exports=r},{31:31}],74:[function(e,t,n){var r=e(116),i={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var t=r(e);return e.replace(">"," "+i.CHECKSUM_ATTR_NAME+'="'+t+'">')},canReuseMarkup:function(e,t){var n=t.getAttribute(i.CHECKSUM_ATTR_NAME);n=n&&parseInt(n,10);var s=r(e);return s===n}};t.exports=i},{116:116}],75:[function(e,t,n){function r(e,t){for(var n=Math.min(e.length,t.length),r=0;n>r;r++)if(e.charAt(r)!==t.charAt(r))return r;return e.length===t.length?-1:n}function i(e){var t=A(e);return t&&z.getID(t)}function s(e){var t=o(e);if(t)if(B.hasOwnProperty(t)){var n=B[t];n!==e&&(M(!l(n,t)),B[t]=e)}else B[t]=e;return t}function o(e){return e&&e.getAttribute&&e.getAttribute(H)||""}function u(e,t){var n=o(e);n!==t&&delete B[n],e.setAttribute(H,t),B[t]=e}function a(e){return B.hasOwnProperty(e)&&l(B[e],e)||(B[e]=z.findReactNodeByID(e)),B[e]}function f(e){var t=E.get(e)._rootNodeID;return b.isNullComponentID(t)?null:(B.hasOwnProperty(t)&&l(B[t],t)||(B[t]=z.findReactNodeByID(t)),B[t])}function l(e,t){if(e){M(o(e)===t);var n=z.findReactContainerForID(t);if(n&&L(n,e))return!0}return!1}function c(e){delete B[e]}function h(e){var t=B[e];return t&&l(t,e)?void (U=t):!1}function p(e){U=null,w.traverseAncestors(e,h);var t=U;return U=null,t}function d(e,t,n,r,i){var s=T.mountComponent(e,t,r,k);e._isTopLevel=!0,z._mountImageIntoNode(s,n,i)}function v(e,t,n,r){var i=C.ReactReconcileTransaction.getPooled();i.perform(d,null,e,t,n,i,r),C.ReactReconcileTransaction.release(i)}var m=e(11),g=e(33),y=(e(45),e(61)),b=(e(62),e(63)),w=e(70),E=e(71),S=e(74),x=e(80),T=e(87),N=e(96),C=e(97),k=e(127),L=e(120),A=e(141),O=e(146),M=e(147),_=e(159),D=e(162),P=(e(166),w.SEPARATOR),H=m.ID_ATTRIBUTE_NAME,B={},j=1,F=9,I={},q={},R=[],U=null,z={_instancesByReactRootID:I,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,n,r){return z.scrollMonitor(n,function(){N.enqueueElementInternal(e,t),r&&N.enqueueCallbackInternal(e,r)}),e},_registerComponent:function(e,t){M(t&&(t.nodeType===j||t.nodeType===F)),g.ensureScrollValueMonitoring();var n=z.registerContainer(t);return I[n]=e,n},_renderNewRootComponent:function(e,t,n){var r=O(e,null),i=z._registerComponent(r,t);return C.batchedUpdates(v,r,i,t,n),r},render:function(e,t,n){M(y.isValidElement(e));var r=I[i(t)];if(r){var s=r._currentElement;if(D(s,e))return z._updateRootComponent(r,e,t,n).getPublicInstance();z.unmountComponentAtNode(t)}var o=A(t),u=o&&z.isRenderedByReact(o),a=u&&!r,f=z._renderNewRootComponent(e,t,a).getPublicInstance();return n&&n.call(f),f},constructAndRenderComponent:function(e,t,n){var r=y.createElement(e,t);return z.render(r,n)},constructAndRenderComponentByID:function(e,t,n){var r=document.getElementById(n);return M(r),z.constructAndRenderComponent(e,t,r)},registerContainer:function(e){var t=i(e);return t&&(t=w.getReactRootIDFromNodeID(t)),t||(t=w.createReactRootID()),q[t]=e,t},unmountComponentAtNode:function(e){M(e&&(e.nodeType===j||e.nodeType===F));var t=i(e),n=I[t];return n?(z.unmountComponentFromNode(n,e),delete I[t],delete q[t],!0):!1},unmountComponentFromNode:function(e,t){for(T.unmountComponent(e),t.nodeType===F&&(t=t.documentElement);t.lastChild;)t.removeChild(t.lastChild)},findReactContainerForID:function(e){var t=w.getReactRootIDFromNodeID(e),n=q[t];return n},findReactNodeByID:function(e){var t=z.findReactContainerForID(e);return z.findComponentRoot(t,e)},isRenderedByReact:function(e){if(1!==e.nodeType)return!1;var t=z.getID(e);return t?t.charAt(0)===P:!1},getFirstReactDOM:function(e){for(var t=e;t&&t.parentNode!==t;){if(z.isRenderedByReact(t))return t;t=t.parentNode}return null},findComponentRoot:function(e,t){var n=R,r=0,i=p(t)||e;for(n[0]=i.firstChild,n.length=1;r<n.length;){for(var s,o=n[r++];o;){var u=z.getID(o);u?t===u?s=o:w.isAncestorIDOf(u,t)&&(n.length=r=0,n.push(o.firstChild)):n.push(o.firstChild),o=o.nextSibling}if(s)return n.length=0,s}n.length=0,M(!1)},_mountImageIntoNode:function(e,t,n){if(M(t&&(t.nodeType===j||t.nodeType===F)),n){var i=A(t);if(S.canReuseMarkup(e,i))return;var s=i.getAttribute(S.CHECKSUM_ATTR_NAME);i.removeAttribute(S.CHECKSUM_ATTR_NAME);var o=i.outerHTML;i.setAttribute(S.CHECKSUM_ATTR_NAME,s);var u=r(e,o);" (client) "+e.substring(u-20,u+20)+"\n (server) "+o.substring(u-20,u+20),M(t.nodeType!==F)}M(t.nodeType!==F),_(t,e)},getReactRootID:i,getID:s,setID:u,getNode:a,getNodeFromInstance:f,purgeID:c};x.measureMethods(z,"ReactMount",{_renderNewRootComponent:"_renderNewRootComponent",_mountImageIntoNode:"_mountImageIntoNode"}),t.exports=z},{11:11,120:120,127:127,141:141,146:146,147:147,159:159,162:162,166:166,33:33,45:45,61:61,62:62,63:63,70:70,71:71,74:74,80:80,87:87,96:96,97:97}],76:[function(e,t,n){function r(e,t,n){d.push({parentID:e,parentNode:null,type:l.INSERT_MARKUP,markupIndex:v.push(t)-1,textContent:null,fromIndex:null,toIndex:n})}function i(e,t,n){d.push({parentID:e,parentNode:null,type:l.MOVE_EXISTING,markupIndex:null,textContent:null,fromIndex:t,toIndex:n})}function s(e,t){d.push({parentID:e,parentNode:null,type:l.REMOVE_NODE,markupIndex:null,textContent:null,fromIndex:t,toIndex:null})}function o(e,t){d.push({parentID:e,parentNode:null,type:l.TEXT_CONTENT,markupIndex:null,textContent:t,fromIndex:null,toIndex:null})}function u(){d.length&&(f.processChildrenUpdates(d,v),a())}function a(){d.length=0,v.length=0}var f=e(41),l=e(77),c=e(87),h=e(36),p=0,d=[],v=[],m={Mixin:{mountChildren:function(e,t,n){var r=h.instantiateChildren(e,t,n);this._renderedChildren=r;var i=[],s=0;for(var o in r)if(r.hasOwnProperty(o)){var u=r[o],a=this._rootNodeID+o,f=c.mountComponent(u,a,t,n);u._mountIndex=s,i.push(f),s++}return i},updateTextContent:function(e){p++;var t=!0;try{var n=this._renderedChildren;h.unmountChildren(n);for(var r in n)n.hasOwnProperty(r)&&this._unmountChildByName(n[r],r);this.setTextContent(e),t=!1}finally{p--,p||(t?a():u())}},updateChildren:function(e,t,n){p++;var r=!0;try{this._updateChildren(e,t,n),r=!1}finally{p--,p||(r?a():u())}},_updateChildren:function(e,t,n){var r=this._renderedChildren,i=h.updateChildren(r,e,t,n);if(this._renderedChildren=i,i||r){var s,o=0,u=0;for(s in i)if(i.hasOwnProperty(s)){var a=r&&r[s],f=i[s];a===f?(this.moveChild(a,u,o),o=Math.max(a._mountIndex,o),a._mountIndex=u):(a&&(o=Math.max(a._mountIndex,o),this._unmountChildByName(a,s)),this._mountChildByNameAtIndex(f,s,u,t,n)),u++}for(s in r)!r.hasOwnProperty(s)||i&&i.hasOwnProperty(s)||this._unmountChildByName(r[s],s)}},unmountChildren:function(){var e=this._renderedChildren;h.unmountChildren(e),this._renderedChildren=null},moveChild:function(e,t,n){e._mountIndex<n&&i(this._rootNodeID,e._mountIndex,t)},createChild:function(e,t){r(this._rootNodeID,t,e._mountIndex)},removeChild:function(e){s(this._rootNodeID,e._mountIndex)},setTextContent:function(e){o(this._rootNodeID,e)},_mountChildByNameAtIndex:function(e,t,n,r,i){var s=this._rootNodeID+t,o=c.mountComponent(e,s,r,i);e._mountIndex=n,this.createChild(e,o)},_unmountChildByName:function(e,t){this.removeChild(e),e._mountIndex=null}}};t.exports=m},{36:36,41:41,77:77,87:87}],77:[function(e,t,n){var r=e(153),i=r({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,TEXT_CONTENT:null});t.exports=i},{153:153}],78:[function(e,t,n){function r(e){if("function"==typeof e.type)return e.type;var t=e.type,n=c[t];return null==n&&(c[t]=n=f(t)),n}function i(e){return a(l),new l(e.type,e.props)}function s(e){return new h(e)}function o(e){return e instanceof h}var u=e(29),a=e(147),f=null,l=null,c={},h=null,p={injectGenericComponentClass:function(e){l=e},injectTextComponentClass:function(e){h=e},injectComponentClasses:function(e){u(c,e)},injectAutoWrapper:function(e){f=e}},d={getComponentClassForElement:r,createInternalComponent:i,createInstanceForText:s,isTextComponent:o,injection:p};t.exports=d},{147:147,29:29}],79:[function(e,t,n){var r=e(147),i={isValidOwner:function(e){return!!e&&"function"==typeof e.attachRef&&"function"==typeof e.detachRef},addComponentAsRefTo:function(e,t,n){r(i.isValidOwner(n)),n.attachRef(t,e)},removeComponentAsRefFrom:function(e,t,n){r(i.isValidOwner(n)),n.getPublicInstance().refs[t]===e.getPublicInstance()&&n.detachRef(t)}};t.exports=i},{147:147}],80:[function(e,t,n){function r(e,t,n){return n}var i={enableMeasure:!1,storedMeasure:r,measureMethods:function(e,t,n){},measure:function(e,t,n){return n},injection:{injectMeasure:function(e){i.storedMeasure=e}}};t.exports=i},{}],81:[function(e,t,n){function r(e){return function(t,n,r){t.hasOwnProperty(n)?t[n]=e(t[n],r):t[n]=r}}function i(e,t){for(var n in t)if(t.hasOwnProperty(n)){var r=f[n];r&&f.hasOwnProperty(n)?r(e,n,t[n]):e.hasOwnProperty(n)||(e[n]=t[n])}return e}var s=e(29),o=e(126),u=e(152),a=r(function(e,t){return s({},t,e)}),f={children:o,className:r(u),style:a},l={mergeProps:function(e,t){return i(s({},e),t)}};t.exports=l},{126:126,152:152,29:29}],82:[function(e,t,n){var r={};t.exports=r},{}],83:[function(e,t,n){var r=e(153),i=r({prop:null,context:null,childContext:null});t.exports=i},{153:153}],84:[function(e,t,n){function r(e){function t(t,n,r,i,s){if(i=i||E,null==n[r]){var o=b[s];return t?new Error("Required "+o+" `"+r+"` was not specified in "+("`"+i+"`.")):null}return e(n,r,i,s)}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function i(e){function t(t,n,r,i){var s=t[n],o=v(s);if(o!==e){var u=b[i],a=m(s);return new Error("Invalid "+u+" `"+n+"` of type `"+a+"` "+("supplied to `"+r+"`, expected `"+e+"`."))}return null}return r(t)}function s(){return r(w.thatReturns(null))}function o(e){function t(t,n,r,i){var s=t[n];if(!Array.isArray(s)){var o=b[i],u=v(s);return new Error("Invalid "+o+" `"+n+"` of type "+("`"+u+"` supplied to `"+r+"`, expected an array."))}for(var a=0;a<s.length;a++){var f=e(s,a,r,i);if(f instanceof Error)return f}return null}return r(t)}function u(){function e(e,t,n,r){if(!g.isValidElement(e[t])){var i=b[r];return new Error("Invalid "+i+" `"+t+"` supplied to "+("`"+n+"`, expected a ReactElement."))}return null}return r(e)}function a(e){function t(t,n,r,i){if(t[n]instanceof e)return null;var s=b[i],o=e.name||E;return new Error("Invalid "+s+" `"+n+"` supplied to "+("`"+r+"`, expected instance of `"+o+"`."))}return r(t)}function f(e){function t(t,n,r,i){for(var s=t[n],o=0;o<e.length;o++)if(s===e[o])return null;var u=b[i],a=JSON.stringify(e);return new Error("Invalid "+u+" `"+n+"` of value `"+s+"` "+("supplied to `"+r+"`, expected one of "+a+"."))}return r(t)}function l(e){function t(t,n,r,i){var s=t[n],o=v(s);if("object"!==o){var u=b[i];return new Error("Invalid "+u+" `"+n+"` of type "+("`"+o+"` supplied to `"+r+"`, expected an object."))}for(var a in s)if(s.hasOwnProperty(a)){var f=e(s,a,r,i);if(f instanceof Error)return f}return null}return r(t)}function c(e){function t(t,n,r,i){for(var s=0;s<e.length;s++){var o=e[s];if(null==o(t,n,r,i))return null}var u=b[i];return new Error("Invalid "+u+" `"+n+"` supplied to "+("`"+r+"`."))}return r(t)}function h(){function e(e,t,n,r){if(!d(e[t])){var i=b[r];return new Error("Invalid "+i+" `"+t+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return null}return r(e)}function p(e){function t(t,n,r,i){var s=t[n],o=v(s);if("object"!==o){var u=b[i];return new Error("Invalid "+u+" `"+n+"` of type `"+o+"` "+("supplied to `"+r+"`, expected `object`."))}for(var a in e){var f=e[a];if(f){var l=f(s,a,r,i);if(l)return l}}return null}return r(t)}function d(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(d);if(null===e||g.isValidElement(e))return!0;e=y.extractIfFragment(e);for(var t in e)if(!d(e[t]))return!1;return!0;default:return!1}}function v(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":t}function m(e){var t=v(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}var g=e(61),y=e(67),b=e(82),w=e(126),E="<<anonymous>>",S=u(),x=h(),T={array:i("array"),bool:i("boolean"),func:i("function"),number:i("number"),object:i("object"),string:i("string"),any:s(),arrayOf:o,element:S,instanceOf:a,node:x,objectOf:l,oneOf:f,oneOfType:c,shape:p};t.exports=T},{126:126,61:61,67:67,82:82}],85:[function(e,t,n){function r(){this.listenersToPut=[]}var i=e(30),s=e(33),o=e(29);o(r.prototype,{enqueuePutListener:function(e,t,n){this.listenersToPut.push({rootNodeID:e,propKey:t,propValue:n})},putListeners:function(){for(var e=0;e<this.listenersToPut.length;e++){var t=this.listenersToPut[e];s.putListener(t.rootNodeID,t.propKey,t.propValue)}},reset:function(){this.listenersToPut.length=0},destructor:function(){this.reset()}}),i.addPoolingTo(r),t.exports=r},{29:29,30:30,33:33}],86:[function(e,t,n){function r(){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=i.getPooled(null),this.putListenerQueue=a.getPooled()}var i=e(7),s=e(30),o=e(33),u=e(69),a=e(85),f=e(113),l=e(29),c={initialize:u.getSelectionInformation,close:u.restoreSelection},h={initialize:function(){var e=o.isEnabled();return o.setEnabled(!1),e},close:function(e){o.setEnabled(e)}},p={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},d={initialize:function(){this.putListenerQueue.reset()},close:function(){this.putListenerQueue.putListeners()}},v=[d,c,h,p],m={getTransactionWrappers:function(){return v},getReactMountReady:function(){return this.reactMountReady},getPutListenerQueue:function(){return this.putListenerQueue},destructor:function(){i.release(this.reactMountReady),this.reactMountReady=null,a.release(this.putListenerQueue),this.putListenerQueue=null}};l(r.prototype,f.Mixin,m),s.addPoolingTo(r),t.exports=r},{113:113,29:29,30:30,33:33,69:69,7:7,85:85}],87:[function(e,t,n){function r(){i.attachRefs(this,this._currentElement)}var i=e(88),s=(e(62),{mountComponent:function(e,t,n,i){var s=e.mountComponent(t,n,i);return n.getReactMountReady().enqueue(r,e),s},unmountComponent:function(e){i.detachRefs(e,e._currentElement),e.unmountComponent()},receiveComponent:function(e,t,n,s){var u=e._currentElement;if(t!==u||null==t._owner){var a=i.shouldUpdateRefs(u,t);a&&i.detachRefs(e,u),e.receiveComponent(t,n,s),a&&n.getReactMountReady().enqueue(r,e)}},performUpdateIfNecessary:function(e,t){e.performUpdateIfNecessary(t)}});t.exports=s},{62:62,88:88}],88:[function(e,t,n){function r(e,t,n){"function"==typeof e?e(t.getPublicInstance()):s.addComponentAsRefTo(t,e,n)}function i(e,t,n){"function"==typeof e?e(null):s.removeComponentAsRefFrom(t,e,n)}var s=e(79),o={};o.attachRefs=function(e,t){var n=t.ref;null!=n&&r(n,e,t._owner)},o.shouldUpdateRefs=function(e,t){return t._owner!==e._owner||t.ref!==e.ref},o.detachRefs=function(e,t){var n=t.ref;null!=n&&i(n,e,t._owner)},t.exports=o},{79:79}],89:[function(e,t,n){var r={injectCreateReactRootIndex:function(e){i.createReactRootIndex=e}},i={createReactRootIndex:null,injection:r};t.exports=i},{}],90:[function(e,t,n){function r(e){c(s.isValidElement(e));var t;try{var n=o.createReactRootID();return t=a.getPooled(!1),t.perform(function(){var r=l(e,null),i=r.mountComponent(n,t,f);return u.addChecksumToMarkup(i)},null)}finally{a.release(t)}}function i(e){c(s.isValidElement(e));var t;try{var n=o.createReactRootID();return t=a.getPooled(!0),t.perform(function(){var r=l(e,null);return r.mountComponent(n,t,f)},null)}finally{a.release(t)}}var s=e(61),o=e(70),u=e(74),a=e(91),f=e(127),l=e(146),c=e(147);t.exports={renderToString:r,renderToStaticMarkup:i}},{127:127,146:146,147:147,61:61,70:70,74:74,91:91}],91:[function(e,t,n){function r(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.reactMountReady=s.getPooled(null),this.putListenerQueue=o.getPooled()}var i=e(30),s=e(7),o=e(85),u=e(113),a=e(29),f=e(126),l={initialize:function(){this.reactMountReady.reset()},close:f},c={initialize:function(){this.putListenerQueue.reset()},close:f},h=[c,l],p={getTransactionWrappers:function(){return h},getReactMountReady:function(){return this.reactMountReady},getPutListenerQueue:function(){return this.putListenerQueue},destructor:function(){s.release(this.reactMountReady),this.reactMountReady=null,o.release(this.putListenerQueue),this.putListenerQueue=null}};a(r.prototype,u.Mixin,p),i.addPoolingTo(r),t.exports=r},{113:113,126:126,29:29,30:30,7:7,85:85}],92:[function(e,t,n){function r(e,t){var n={};return function(r){n[t]=r,e.setState(n)}}var i={createStateSetter:function(e,t){return function(n,r,i,s,o,u){var a=t.call(e,n,r,i,s,o,u);a&&e.setState(a)}},createStateKeySetter:function(e,t){var n=e.__keySetters||(e.__keySetters={});return n[t]||(n[t]=r(e,t))}};i.Mixin={createStateSetter:function(e){return i.createStateSetter(this,e)},createStateKeySetter:function(e){return i.createStateKeySetter(this,e)}},t.exports=i},{}],93:[function(e,t,n){var r=e(37),i=e(67),s={getChildMapping:function(e){return e?i.extract(r.map(e,function(e){return e})):e},mergeChildMappings:function(e,t){function n(n){return t.hasOwnProperty(n)?t[n]:e[n]}e=e||{},t=t||{};var r={},i=[];for(var s in e)t.hasOwnProperty(s)?i.length&&(r[s]=i,i=[]):i.push(s);var o,u={};for(var a in t){if(r.hasOwnProperty(a))for(o=0;o<r[a].length;o++){var f=r[a][o];u[r[a][o]]=n(f)}u[a]=n(a)}for(o=0;o<i.length;o++)u[i[o]]=n(i[o]);return u}};t.exports=s},{37:37,67:67}],94:[function(e,t,n){function r(){var e=document.createElement("div"),t=e.style;"AnimationEvent"in window||delete u.animationend.animation,"TransitionEvent"in window||delete u.transitionend.transition;for(var n in u){var r=u[n];for(var i in r)if(i in t){a.push(r[i]);break}}}function i(e,t,n){e.addEventListener(t,n,!1)}function s(e,t,n){e.removeEventListener(t,n,!1)}var o=e(22),u={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},a=[];o.canUseDOM&&r();var f={addEndEventListener:function(e,t){return 0===a.length?void window.setTimeout(t,0):void a.forEach(function(n){i(e,n,t)})},removeEndEventListener:function(e,t){0!==a.length&&a.forEach(function(n){s(e,n,t)})}};t.exports=f},{22:22}],95:[function(e,t,n){var r=e(31),i=e(93),s=e(29),o=e(119),u=e(126),a=r.createClass({displayName:"ReactTransitionGroup",propTypes:{component:r.PropTypes.any,childFactory:r.PropTypes.func},getDefaultProps:function(){return{component:"span",childFactory:u.thatReturnsArgument}},getInitialState:function(){return{children:i.getChildMapping(this.props.children)}},componentWillMount:function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},componentDidMount:function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t)},componentWillReceiveProps:function(e){var t=i.getChildMapping(e.children),n=this.state.children;this.setState({children:i.mergeChildMappings(n,t)});var r;for(r in t){var s=n&&n.hasOwnProperty(r);!t[r]||s||this.currentlyTransitioningKeys[r]||this.keysToEnter.push(r)}for(r in n){var o=t&&t.hasOwnProperty(r);!n[r]||o||this.currentlyTransitioningKeys[r]||this.keysToLeave.push(r)}},componentDidUpdate:function(){var e=this.keysToEnter;this.keysToEnter=[],e.forEach(this.performEnter);var t=this.keysToLeave;this.keysToLeave=[],t.forEach(this.performLeave)},performAppear:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillAppear?t.componentWillAppear(this._handleDoneAppearing.bind(this,e)):this._handleDoneAppearing(e)},_handleDoneAppearing:function(e){var t=this.refs[e];t.componentDidAppear&&t.componentDidAppear(),delete this.currentlyTransitioningKeys[e];var n=i.getChildMapping(this.props.children);n&&n.hasOwnProperty(e)||this.performLeave(e)},performEnter:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillEnter?t.componentWillEnter(this._handleDoneEntering.bind(this,e)):this._handleDoneEntering(e)},_handleDoneEntering:function(e){var t=this.refs[e];t.componentDidEnter&&t.componentDidEnter(),delete this.currentlyTransitioningKeys[e];var n=i.getChildMapping(this.props.children);n&&n.hasOwnProperty(e)||this.performLeave(e)},performLeave:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillLeave?t.componentWillLeave(this._handleDoneLeaving.bind(this,e)):this._handleDoneLeaving(e)},_handleDoneLeaving:function(e){var t=this.refs[e];t.componentDidLeave&&t.componentDidLeave(),delete this.currentlyTransitioningKeys[e];var n=i.getChildMapping(this.props.children);if(n&&n.hasOwnProperty(e))this.performEnter(e);else{var r=s({},this.state.children);delete r[e],this.setState({children:r})}},render:function(){var e=[];for(var t in this.state.children){var n=this.state.children[t];n&&e.push(o(this.props.childFactory(n),{ref:t,key:t}))}return r.createElement(this.props.component,this.props,e)}});t.exports=a},{119:119,126:126,29:29,31:31,93:93}],96:[function(e,t,n){function r(e){e!==s.currentlyMountingInstance&&f.enqueueUpdate(e)}function i(e,t){c(null==o.current);var n=a.get(e);return n?n===s.currentlyUnmountingInstance?null:n:null}var s=e(72),o=e(45),u=e(61),a=e(71),f=e(97),l=e(29),c=e(147),h=(e(166),{enqueueCallback:function(e,t){c("function"==typeof t);var n=i(e);return n&&n!==s.currentlyMountingInstance?(n._pendingCallbacks?n._pendingCallbacks.push(t):n._pendingCallbacks=[t],void r(n)):null},enqueueCallbackInternal:function(e,t){c("function"==typeof t),e._pendingCallbacks?e._pendingCallbacks.push(t):e._pendingCallbacks=[t],r(e)},enqueueForceUpdate:function(e){var t=i(e,"forceUpdate");t&&(t._pendingForceUpdate=!0,r(t))},enqueueReplaceState:function(e,t){var n=i(e,"replaceState");n&&(n._pendingStateQueue=[t],n._pendingReplaceState=!0,r(n))},enqueueSetState:function(e,t){var n=i(e,"setState");if(n){var s=n._pendingStateQueue||(n._pendingStateQueue=[]);s.push(t),r(n)}},enqueueSetProps:function(e,t){var n=i(e,"setProps");if(n){c(n._isTopLevel);var s=n._pendingElement||n._currentElement,o=l({},s.props,t);n._pendingElement=u.cloneAndReplaceProps(s,o),r(n)}},enqueueReplaceProps:function(e,t){var n=i(e,"replaceProps");if(n){c(n._isTopLevel);var s=n._pendingElement||n._currentElement;n._pendingElement=u.cloneAndReplaceProps(s,t),r(n)}},enqueueElementInternal:function(e,t){e._pendingElement=t,r(e)}});t.exports=h},{147:147,166:166,29:29,45:45,61:61,71:71,72:72,97:97}],97:[function(e,t,n){function r(){m(C.ReactReconcileTransaction&&w)}function i(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=l.getPooled(),this.reconcileTransaction=C.ReactReconcileTransaction.getPooled()}function s(e,t,n,i,s){r(),w.batchedUpdates(e,t,n,i,s)}function o(e,t){return e._mountOrder-t._mountOrder}function u(e){var t=e.dirtyComponentsLength;m(t===g.length),g.sort(o);for(var n=0;t>n;n++){var r=g[n],i=r._pendingCallbacks;if(r._pendingCallbacks=null,p.performUpdateIfNecessary(r,e.reconcileTransaction),i)for(var s=0;s<i.length;s++)e.callbackQueue.enqueue(i[s],r.getPublicInstance())}}function a(e){return r(),w.isBatchingUpdates?void g.push(e):void w.batchedUpdates(a,e)}function f(e,t){m(w.isBatchingUpdates),y.enqueue(e,t),b=!0}var l=e(7),c=e(30),h=(e(45),e(80)),p=e(87),d=e(113),v=e(29),m=e(147),g=(e(166),[]),y=l.getPooled(),b=!1,w=null,E={initialize:function(){this.dirtyComponentsLength=g.length},close:function(){this.dirtyComponentsLength!==g.length?(g.splice(0,this.dirtyComponentsLength),T()):g.length=0}},S={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},x=[E,S];v(i.prototype,d.Mixin,{getTransactionWrappers:function(){return x},destructor:function(){this.dirtyComponentsLength=null,l.release(this.callbackQueue),this.callbackQueue=null,C.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,t,n){return d.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,n)}}),c.addPoolingTo(i);var T=function(){for(;g.length||b;){if(g.length){var e=i.getPooled();e.perform(u,null,e),i.release(e)}if(b){b=!1;var t=y;y=l.getPooled(),t.notifyAll(),l.release(t)}}};T=h.measure("ReactUpdates","flushBatchedUpdates",T);var N={injectReconcileTransaction:function(e){m(e),C.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){m(e),m("function"==typeof e.batchedUpdates),m("boolean"==typeof e.isBatchingUpdates),w=e}},C={ReactReconcileTransaction:null,batchedUpdates:s,enqueueUpdate:a,flushBatchedUpdates:T,injection:N,asap:f};t.exports=C},{113:113,147:147,166:166,29:29,30:30,45:45,7:7,80:80,87:87}],98:[function(e,t,n){var r=e(11),i=r.injection.MUST_USE_ATTRIBUTE,s={Properties:{clipPath:i,cx:i,cy:i,d:i,dx:i,dy:i,fill:i,fillOpacity:i,fontFamily:i,fontSize:i,fx:i,fy:i,gradientTransform:i,gradientUnits:i,markerEnd:i,markerMid:i,markerStart:i,offset:i,opacity:i,patternContentUnits:i,patternUnits:i,points:i,preserveAspectRatio:i,r:i,rx:i,ry:i,spreadMethod:i,stopColor:i,stopOpacity:i,stroke:i,strokeDasharray:i,strokeLinecap:i,strokeOpacity:i,strokeWidth:i,textAnchor:i,transform:i,version:i,viewBox:i,x1:i,x2:i,x:i,y1:i,y2:i,y:i},DOMAttributeNames:{clipPath:"clip-path",fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",patternContentUnits:"patternContentUnits",patternUnits:"patternUnits",preserveAspectRatio:"preserveAspectRatio",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox"}};t.exports=s},{11:11}],99:[function(e,t,n){function r(e){if("selectionStart"in e&&u.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function i(e){if(y||null==v||v!==f())return null;var t=r(v);if(!g||!h(g,t)){g=t;var n=a.getPooled(d.select,m,e);return n.type="select",n.target=v,o.accumulateTwoPhaseDispatches(n),n}}var s=e(16),o=e(21),u=e(69),a=e(105),f=e(133),l=e(150),c=e(154),h=e(161),p=s.topLevelTypes,d={select:{phasedRegistrationNames:{bubbled:c({onSelect:null}),captured:c({onSelectCapture:null})},dependencies:[p.topBlur,p.topContextMenu,p.topFocus,p.topKeyDown,p.topMouseDown,p.topMouseUp,p.topSelectionChange]}},v=null,m=null,g=null,y=!1,b={eventTypes:d,extractEvents:function(e,t,n,r){switch(e){case p.topFocus:(l(t)||"true"===t.contentEditable)&&(v=t,m=n,g=null);break;case p.topBlur:v=null,m=null,g=null;break;case p.topMouseDown:y=!0;break;case p.topContextMenu:case p.topMouseUp:return y=!1,i(r);case p.topSelectionChange:case p.topKeyDown:case p.topKeyUp:return i(r)}}};t.exports=b},{105:105,133:133,150:150,154:154,16:16,161:161,21:21,69:69}],100:[function(e,t,n){var r=Math.pow(2,53),i={createReactRootIndex:function(){return Math.ceil(Math.random()*r)}};t.exports=i},{}],101:[function(e,t,n){var r=e(16),i=e(20),s=e(21),o=e(102),u=e(105),a=e(106),f=e(108),l=e(109),c=e(104),h=e(110),p=e(111),d=e(112),v=e(134),m=e(147),g=e(154),y=(e(166),r.topLevelTypes),b={blur:{phasedRegistrationNames:{bubbled:g({onBlur:!0}),captured:g({onBlurCapture:!0})}},click:{phasedRegistrationNames:{bubbled:g({onClick:!0}),captured:g({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:g({onContextMenu:!0}),captured:g({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:g({onCopy:!0}),captured:g({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:g({onCut:!0}),captured:g({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:g({onDoubleClick:!0}),captured:g({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:g({onDrag:!0}),captured:g({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:g({onDragEnd:!0}),captured:g({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:g({onDragEnter:!0}),captured:g({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:g({onDragExit:!0}),captured:g({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:g({onDragLeave:!0}),captured:g({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:g({onDragOver:!0}),captured:g({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:g({onDragStart:!0}),captured:g({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:g({onDrop:!0}),captured:g({onDropCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:g({onFocus:!0}),captured:g({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:g({onInput:!0}),captured:g({onInputCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:g({onKeyDown:!0}),captured:g({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:g({onKeyPress:!0}),captured:g({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:g({onKeyUp:!0}),captured:g({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:g({onLoad:!0}),captured:g({onLoadCapture:!0})}},error:{phasedRegistrationNames:{bubbled:g({onError:!0}),captured:g({onErrorCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:g({onMouseDown:!0}),captured:g({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:g({onMouseMove:!0}),captured:g({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:g({onMouseOut:!0}),captured:g({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:g({onMouseOver:!0}),captured:g({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:g({onMouseUp:!0}),captured:g({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:g({onPaste:!0}),captured:g({onPasteCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:g({onReset:!0}),captured:g({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:g({onScroll:!0}),captured:g({onScrollCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:g({onSubmit:!0}),captured:g({onSubmitCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:g({onTouchCancel:!0}),captured:g({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:g({onTouchEnd:!0}),captured:g({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:g({onTouchMove:!0}),captured:g({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:g({onTouchStart:!0}),captured:g({onTouchStartCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:g({onWheel:!0}),captured:g({onWheelCapture:!0})}}},w={topBlur:b.blur,topClick:b.click,topContextMenu:b.contextMenu,topCopy:b.copy,topCut:b.cut,topDoubleClick:b.doubleClick,topDrag:b.drag,topDragEnd:b.dragEnd,topDragEnter:b.dragEnter,topDragExit:b.dragExit,topDragLeave:b.dragLeave,topDragOver:b.dragOver,topDragStart:b.dragStart,topDrop:b.drop,topError:b.error,topFocus:b.focus,topInput:b.input,topKeyDown:b.keyDown,topKeyPress:b.keyPress,topKeyUp:b.keyUp,topLoad:b.load,topMouseDown:b.mouseDown,topMouseMove:b.mouseMove,topMouseOut:b.mouseOut,topMouseOver:b.mouseOver,topMouseUp:b.mouseUp,topPaste:b.paste,topReset:b.reset,topScroll:b.scroll,topSubmit:b.submit,topTouchCancel:b.touchCancel,topTouchEnd:b.touchEnd,topTouchMove:b.touchMove,topTouchStart:b.touchStart,topWheel:b.wheel};for(var E in w)w[E].dependencies=[E];var S={eventTypes:b,executeDispatch:function(e,t,n){var r=i.executeDispatch(e,t,n);r===!1&&(e.stopPropagation(),e.preventDefault())},extractEvents:function(e,t,n,r){var i=w[e];if(!i)return null;var g;switch(e){case y.topInput:case y.topLoad:case y.topError:case y.topReset:case y.topSubmit:g=u;break;case y.topKeyPress:if(0===v(r))return null;case y.topKeyDown:case y.topKeyUp:g=f;break;case y.topBlur:case y.topFocus:g=a;break;case y.topClick:if(2===r.button)return null;case y.topContextMenu:case y.topDoubleClick:case y.topMouseDown:case y.topMouseMove:case y.topMouseOut:case y.topMouseOver:case y.topMouseUp:g=l;break;case y.topDrag:case y.topDragEnd:case y.topDragEnter:case y.topDragExit:case y.topDragLeave:case y.topDragOver:case y.topDragStart:case y.topDrop:g=c;break;case y.topTouchCancel:case y.topTouchEnd:case y.topTouchMove:case y.topTouchStart:g=h;break;case y.topScroll:g=p;break;case y.topWheel:g=d;break;case y.topCopy:case y.topCut:case y.topPaste:g=o}m(g);var b=g.getPooled(i,n,r);return s.accumulateTwoPhaseDispatches(b),b}};t.exports=S},{102:102,104:104,105:105,106:106,108:108,109:109,110:110,111:111,112:112,134:134,147:147,154:154,16:16,166:166,20:20,21:21}],102:[function(e,t,n){function r(e,t,n){i.call(this,e,t,n)}var i=e(105),s={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};i.augmentClass(r,s),t.exports=r},{105:105}],103:[function(e,t,n){function r(e,t,n){i.call(this,e,t,n)}var i=e(105),s={data:null};i.augmentClass(r,s),t.exports=r},{105:105}],104:[function(e,t,n){function r(e,t,n){i.call(this,e,t,n)}var i=e(109),s={dataTransfer:null};i.augmentClass(r,s),t.exports=r},{109:109}],105:[function(e,t,n){function r(e,t,n){this.dispatchConfig=e,this.dispatchMarker=t,this.nativeEvent=n;var r=this.constructor.Interface;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s?this[i]=s(n):this[i]=n[i]}var u=null!=n.defaultPrevented?n.defaultPrevented:n.returnValue===!1;u?this.isDefaultPrevented=o.thatReturnsTrue:this.isDefaultPrevented=o.thatReturnsFalse,this.isPropagationStopped=o.thatReturnsFalse}var i=e(30),s=e(29),o=e(126),u=e(137),a={type:null,target:u,currentTarget:o.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};s(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e.preventDefault?e.preventDefault():e.returnValue=!1,this.isDefaultPrevented=o.thatReturnsTrue},stopPropagation:function(){var e=this.nativeEvent;e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this.isPropagationStopped=o.thatReturnsTrue},persist:function(){this.isPersistent=o.thatReturnsTrue},isPersistent:o.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)this[t]=null;this.dispatchConfig=null,this.dispatchMarker=null,this.nativeEvent=null}}),r.Interface=a,r.augmentClass=function(e,t){var n=this,r=Object.create(n.prototype);s(r,e.prototype),e.prototype=r,e.prototype.constructor=e,e.Interface=s({},n.Interface,t),e.augmentClass=n.augmentClass,i.addPoolingTo(e,i.threeArgumentPooler)},i.addPoolingTo(r,i.threeArgumentPooler),t.exports=r},{126:126,137:137,29:29,30:30}],106:[function(e,t,n){function r(e,t,n){i.call(this,e,t,n)}var i=e(111),s={relatedTarget:null};i.augmentClass(r,s),t.exports=r},{111:111}],107:[function(e,t,n){function r(e,t,n){i.call(this,e,t,n)}var i=e(105),s={data:null};i.augmentClass(r,s),t.exports=r},{105:105}],108:[function(e,t,n){function r(e,t,n){i.call(this,e,t,n)}var i=e(111),s=e(134),o=e(135),u=e(136),a={key:o,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:u,charCode:function(e){return"keypress"===e.type?s(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?s(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}};i.augmentClass(r,a),t.exports=r},{111:111,134:134,135:135,136:136}],109:[function(e,t,n){function r(e,t,n){i.call(this,e,t,n)}var i=e(111),s=e(114),o=e(136),u={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:o,button:function(e){var t=e.button;return"which"in e?t:2===t?2:4===t?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+s.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+s.currentScrollTop}};i.augmentClass(r,u),t.exports=r},{111:111,114:114,136:136}],110:[function(e,t,n){function r(e,t,n){i.call(this,e,t,n)}var i=e(111),s=e(136),o={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:s};i.augmentClass(r,o),t.exports=r},{111:111,136:136}],111:[function(e,t,n){function r(e,t,n){i.call(this,e,t,n)}var i=e(105),s=e(137),o={view:function(e){if(e.view)return e.view;var t=s(e);if(null!=t&&t.window===t)return t;var n=t.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(e){return e.detail||0}};i.augmentClass(r,o),t.exports=r},{105:105,137:137}],112:[function(e,t,n){function r(e,t,n){i.call(this,e,t,n)}var i=e(109),s={deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null};i.augmentClass(r,s),t.exports=r},{109:109}],113:[function(e,t,n){var r=e(147),i={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,t,n,i,s,o,u,a){r(!this.isInTransaction());var f,l;try{this._isInTransaction=!0,f=!0,this.initializeAll(0),l=e.call(t,n,i,s,o,u,a),f=!1}finally{try{if(f)try{this.closeAll(0)}catch(c){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return l},initializeAll:function(e){for(var t=this.transactionWrappers,n=e;n<t.length;n++){var r=t[n];try{this.wrapperInitData[n]=s.OBSERVED_ERROR,this.wrapperInitData[n]=r.initialize?r.initialize.call(this):null}finally{if(this.wrapperInitData[n]===s.OBSERVED_ERROR)try{this.initializeAll(n+1)}catch(i){}}}},closeAll:function(e){r(this.isInTransaction());for(var t=this.transactionWrappers,n=e;n<t.length;n++){var i,o=t[n],u=this.wrapperInitData[n];try{i=!0,u!==s.OBSERVED_ERROR&&o.close&&o.close.call(this,u),i=!1}finally{if(i)try{this.closeAll(n+1)}catch(a){}}}this.wrapperInitData.length=0}},s={Mixin:i,OBSERVED_ERROR:{}};t.exports=s},{147:147}],114:[function(e,t,n){var r={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(e){r.currentScrollLeft=e.x,r.currentScrollTop=e.y}};t.exports=r},{}],115:[function(e,t,n){function r(e,t){if(i(null!=t),null==e)return t;var n=Array.isArray(e),r=Array.isArray(t);return n&&r?(e.push.apply(e,t),e):n?(e.push(t),e):r?[e].concat(t):[e,t]}var i=e(147);t.exports=r},{147:147}],116:[function(e,t,n){function r(e){for(var t=1,n=0,r=0;r<e.length;r++)t=(t+e.charCodeAt(r))%i,n=(n+t)%i;return t|n<<16}var i=65521;t.exports=r},{}],117:[function(e,t,n){function r(e){return e.replace(i,function(e,t){return t.toUpperCase()})}var i=/-(.)/g;t.exports=r},{}],118:[function(e,t,n){function r(e){return i(e.replace(s,"ms-"))}var i=e(117),s=/^-ms-/;t.exports=r},{117:117}],119:[function(e,t,n){function r(e,t){var n=s.mergeProps(t,e.props);return!n.hasOwnProperty(u)&&e.props.hasOwnProperty(u)&&(n.children=e.props.children),i.createElement(e.type,n)}var i=e(61),s=e(81),o=e(154),u=(e(166),o({children:null}));t.exports=r},{154:154,166:166,61:61,81:81}],120:[function(e,t,n){function r(e,t){return e&&t?e===t?!0:i(e)?!1:i(t)?r(e,t.parentNode):e.contains?e.contains(t):e.compareDocumentPosition?!!(16&e.compareDocumentPosition(t)):!1:!1}var i=e(151);t.exports=r},{151:151}],121:[function(e,t,n){function r(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}function i(e){return r(e)?Array.isArray(e)?e.slice():s(e):[e]}var s=e(163);t.exports=i},{163:163}],122:[function(e,t,n){function r(e){var t=s.createFactory(e),n=i.createClass({tagName:e.toUpperCase(),displayName:"ReactFullPageComponent"+e,componentWillUnmount:function(){o(!1)},render:function(){return t(this.props)}});return n}var i=e(38),s=e(61),o=e(147);t.exports=r},{147:147,38:38,61:61}],123:[function(e,t,n){function r(e){var t=e.match(l);return t&&t[1].toLowerCase()}function i(e,t){var n=f;a(!!f);var i=r(e),s=i&&u(i);if(s){n.innerHTML=s[1]+e+s[2];for(var l=s[0];l--;)n=n.lastChild}else n.innerHTML=e;var c=n.getElementsByTagName("script");c.length&&(a(t),o(c).forEach(t));for(var h=o(n.childNodes);n.lastChild;)n.removeChild(n.lastChild);return h}var s=e(22),o=e(121),u=e(139),a=e(147),f=s.canUseDOM?document.createElement("div"):null,l=/^\s*<(\w+)/;t.exports=i},{121:121,139:139,147:147,22:22}],124:[function(e,t,n){function r(e){return"object"==typeof e?Object.keys(e).filter(function(t){return e[t]}).join(" "):Array.prototype.join.call(arguments," ")}e(166),t.exports=r},{166:166}],125:[function(e,t,n){function r(e,t){var n=null==t||"boolean"==typeof t||""===t;if(n)return"";var r=isNaN(t);return r||0===t||s.hasOwnProperty(e)&&s[e]?""+t:("string"==typeof t&&(t=t.trim()),t+"px")}var i=e(5),s=i.isUnitlessNumber;t.exports=r},{5:5}],126:[function(e,t,n){function r(e){return function(){return e}}function i(){}i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},t.exports=i},{}],127:[function(e,t,n){var r={};t.exports=r},{}],128:[function(e,t,n){function r(e){return s[e]}function i(e){return(""+e).replace(o,r)}var s={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},o=/[&><"']/g;t.exports=i},{}],129:[function(e,t,n){function r(e){return null==e?null:u(e)?e:i.has(e)?s.getNodeFromInstance(e):(o(null==e.render||"function"!=typeof e.render),void o(!1))}var i=(e(45),e(71)),s=e(75),o=e(147),u=e(149);e(166),t.exports=r},{147:147,149:149,166:166,45:45,71:71,75:75}],130:[function(e,t,n){function r(e,t,n){var r=e,i=!r.hasOwnProperty(n);i&&null!=t&&(r[n]=t)}function i(e){if(null==e)return e;var t={};return s(e,r,t),t}var s=e(164);e(166),t.exports=i},{164:164,166:166}],131:[function(e,t,n){function r(e){try{e.focus()}catch(t){}}t.exports=r},{}],132:[function(e,t,n){var r=function(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)};t.exports=r},{}],133:[function(e,t,n){function r(){try{return document.activeElement||document.body}catch(e){return document.body}}t.exports=r},{}],134:[function(e,t,n){function r(e){var t,n=e.keyCode;return"charCode"in e?(t=e.charCode,0===t&&13===n&&(t=13)):t=n,t>=32||13===t?t:0}t.exports=r},{}],135:[function(e,t,n){function r(e){if(e.key){var t=s[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var n=i(e);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===e.type||"keyup"===e.type?o[e.keyCode]||"Unidentified":""}var i=e(134),s={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},o={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};t.exports=r},{134:134}],136:[function(e,t,n){function r(e){var t=this,n=t.nativeEvent;if(n.getModifierState)return n.getModifierState(e);var r=s[e];return r?!!n[r]:!1}function i(e){return r}var s={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};t.exports=i},{}],137:[function(e,t,n){function r(e){var t=e.target||e.srcElement||window;return 3===t.nodeType?t.parentNode:t}t.exports=r},{}],138:[function(e,t,n){function r(e){var t=e&&(i&&e[i]||e[s]);return"function"==typeof t?t:void 0}var i="function"==typeof Symbol&&Symbol.iterator,s="@@iterator";t.exports=r},{}],139:[function(e,t,n){function r(e){return s(!!o),h.hasOwnProperty(e)||(e="*"),u.hasOwnProperty(e)||("*"===e?o.innerHTML="<link />":o.innerHTML="<"+e+"></"+e+">",u[e]=!o.firstChild),u[e]?h[e]:null}var i=e(22),s=e(147),o=i.canUseDOM?document.createElement("div"):null,u={circle:!0,clipPath:!0,defs:!0,ellipse:!0,g:!0,line:!0,linearGradient:!0,path:!0,polygon:!0,polyline:!0,radialGradient:!0,rect:!0,stop:!0,text:!0},a=[1,'<select multiple="true">',"</select>"],f=[1,"<table>","</table>"],l=[3,"<table><tbody><tr>","</tr></tbody></table>"],c=[1,"<svg>","</svg>"],h={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:a,option:a,caption:f,colgroup:f,tbody:f,tfoot:f,thead:f,td:l,th:l,circle:c,clipPath:c,defs:c,ellipse:c,g:c,line:c,linearGradient:c,path:c,polygon:c,polyline:c,radialGradient:c,rect:c,stop:c,text:c};t.exports=r},{147:147,22:22}],140:[function(e,t,n){function r(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function i(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function s(e,t){for(var n=r(e),s=0,u=0;n;){if(3===n.nodeType){if(u=s+n.textContent.length,t>=s&&u>=t)return{node:n,offset:t-s};s=u}n=r(i(n))}}t.exports=s},{}],141:[function(e,t,n){function r(e){return e?e.nodeType===i?e.documentElement:e.firstChild:null}var i=9;t.exports=r},{}],142:[function(e,t,n){function r(){return!s&&i.canUseDOM&&(s="textContent"in document.documentElement?"textContent":"innerText"),s}var i=e(22),s=null;t.exports=r},{22:22}],143:[function(e,t,n){function r(e){return e===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}t.exports=r},{}],144:[function(e,t,n){function r(e){return e.replace(i,"-$1").toLowerCase()}var i=/([A-Z])/g;t.exports=r},{}],145:[function(e,t,n){function r(e){return i(e).replace(s,"-ms-")}var i=e(144),s=/^ms-/;t.exports=r},{144:144}],146:[function(e,t,n){function r(e){return"function"==typeof e&&"undefined"!=typeof e.prototype&&"function"==typeof e.prototype.mountComponent&&"function"==typeof e.prototype.receiveComponent}function i(e,t){var n;if((null===e||e===!1)&&(e=o.emptyElement),"object"==typeof e){var i=e;n=t===i.type&&"string"==typeof i.type?u.createInternalComponent(i):r(i.type)?new i.type(i):new l}else"string"==typeof e||"number"==typeof e?n=u.createInstanceForText(e):f(!1);return n.construct(e),n._mountIndex=0,n._mountImage=null,n}var s=e(43),o=e(63),u=e(78),a=e(29),f=e(147),l=(e(166),function(){});a(l.prototype,s.Mixin,{_instantiateReactComponent:i}),t.exports=i},{147:147,166:166,29:29,43:43,63:63,78:78}],147:[function(e,t,n){var r=function(e,t,n,r,i,s,o,u){if(!e){var a;if(void 0===t)a=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=[n,r,i,s,o,u],l=0;a=new Error("Invariant Violation: "+t.replace(/%s/g,function(){return f[l++]}))}throw a.framesToPop=1,a}};t.exports=r},{}],148:[function(e,t,n){function r(e,t){if(!s.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var u=document.createElement("div");u.setAttribute(n,"return;"),r="function"==typeof u[n]}return!r&&i&&"wheel"===e&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var i,s=e(22);s.canUseDOM&&(i=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),t.exports=r},{22:22}],149:[function(e,t,n){function r(e){return!!e&&("function"==typeof Node?e instanceof Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName)}t.exports=r},{}],150:[function(e,t,n){function r(e){return e&&("INPUT"===e.nodeName&&i[e.type]||"TEXTAREA"===e.nodeName)}var i={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};t.exports=r},{}],151:[function(e,t,n){function r(e){return i(e)&&3==e.nodeType}var i=e(149);t.exports=r},{149:149}],152:[function(e,t,n){function r(e){e||(e="");var t,n=arguments.length;if(n>1)for(var r=1;n>r;r++)t=arguments[r],t&&(e=(e?e+" ":"")+t);return e}t.exports=r},{}],153:[function(e,t,n){var r=e(147),i=function(e){var t,n={};r(e instanceof Object&&!Array.isArray(e));for(t in e)e.hasOwnProperty(t)&&(n[t]=t);return n};t.exports=i},{147:147}],154:[function(e,t,n){var r=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return t;return null};t.exports=r},{}],155:[function(e,t,n){function r(e,t,n){if(!e)return null;var r={};for(var s in e)i.call(e,s)&&(r[s]=t.call(n,e[s],s,e));return r}var i=Object.prototype.hasOwnProperty;t.exports=r},{}],156:[function(e,t,n){function r(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}t.exports=r},{}],157:[function(e,t,n){function r(e){return s(i.isValidElement(e)),e}var i=e(61),s=e(147);t.exports=r},{147:147,61:61}],158:[function(e,t,n){function r(e){return'"'+i(e)+'"'}var i=e(128);t.exports=r},{128:128}],159:[function(e,t,n){var r=e(22),i=/^[ \r\n\t\f]/,s=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,o=function(e,t){e.innerHTML=t};if("undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction&&(o=function(e,t){MSApp.execUnsafeLocalFunction(function(){e.innerHTML=t})}),r.canUseDOM){var u=document.createElement("div");u.innerHTML=" ",""===u.innerHTML&&(o=function(e,t){if(e.parentNode&&e.parentNode.replaceChild(e,e),i.test(t)||"<"===t[0]&&s.test(t)){e.innerHTML="﻿"+t;var n=e.firstChild;1===n.data.length?e.removeChild(n):n.deleteData(0,1)}else e.innerHTML=t})}t.exports=o},{22:22}],160:[function(e,t,n){var r=e(22),i=e(128),s=e(159),o=function(e,t){e.textContent=t};r.canUseDOM&&("textContent"in document.documentElement||(o=function(e,t){s(e,i(t))})),t.exports=o},{128:128,159:159,22:22}],161:[function(e,t,n){function r(e,t){if(e===t)return!0;var n;for(n in e)if(e.hasOwnProperty(n)&&(!t.hasOwnProperty(n)||e[n]!==t[n]))return!1;for(n in t)if(t.hasOwnProperty(n)&&!e.hasOwnProperty(n))return!1;return!0}t.exports=r},{}],162:[function(e,t,n){function r(e,t){if(null!=e&&null!=t){var n=typeof e,r=typeof t;if("string"===n||"number"===n)return"string"===r||"number"===r;if("object"===r&&e.type===t.type&&e.key===t.key){var i=e._owner===t._owner;return i}}return!1}e(166),t.exports=r},{166:166}],163:[function(e,t,n){function r(e){var t=e.length;if(i(!Array.isArray(e)&&("object"==typeof e||"function"==typeof e)),i("number"==typeof t),i(0===t||t-1 in e),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(n){}for(var r=Array(t),s=0;t>s;s++)r[s]=e[s];return r}var i=e(147);t.exports=r},{147:147}],164:[function(e,t,n){function r(e){return m[e]}function i(e,t){return e&&null!=e.key?o(e.key):t.toString(36)}function s(e){return(""+e).replace(g,r)}function o(e){return"$"+s(e)}function u(e,t,n,r,s){var a=typeof e;if(("undefined"===a||"boolean"===a)&&(e=null),null===e||"string"===a||"number"===a||f.isValidElement(e))return r(s,e,""===t?d+i(e,0):t,n),1;var c,m,g,y=0;if(Array.isArray(e))for(var b=0;b<e.length;b++)c=e[b],m=(""!==t?t+v:d)+i(c,b),g=n+y,y+=u(c,m,g,r,s);else{var w=h(e);if(w){var E,S=w.call(e);if(w!==e.entries)for(var x=0;!(E=S.next()).done;)c=E.value,m=(""!==t?t+v:d)+i(c,x++),g=n+y,y+=u(c,m,g,r,s);else for(;!(E=S.next()).done;){var T=E.value;T&&(c=T[1],m=(""!==t?t+v:d)+o(T[0])+v+i(c,0),g=n+y,y+=u(c,m,g,r,s))}}else if("object"===a){p(1!==e.nodeType);var N=l.extract(e);for(var C in N)N.hasOwnProperty(C)&&(c=N[C],m=(""!==t?t+v:d)+o(C)+v+i(c,0),g=n+y,y+=u(c,m,g,r,s))}}return y}function a(e,t,n){return null==e?0:u(e,"",0,t,n)}var f=e(61),l=e(67),c=e(70),h=e(138),p=e(147),d=(e(166),c.SEPARATOR),v=":",m={"=":"=0",".":"=1",":":"=2"},g=/[=.:]/g;t.exports=a},{138:138,147:147,166:166,61:61,67:67,70:70}],165:[function(e,t,n){function r(e){return Array.isArray(e)?e.concat():e&&"object"==typeof e?o(new e.constructor,e):e}function i(e,t,n){a(Array.isArray(e));var r=t[n];a(Array.isArray(r))}function s(e,t){if(a("object"==typeof t),f.call(t,p))return a(1===Object.keys(t).length),t[p];var n=r(e);if(f.call(t,d)){var u=t[d];a(u&&"object"==typeof u),a(n&&"object"==typeof n),o(n,t[d])}f.call(t,l)&&(i(e,t,l),t[l].forEach(function(e){n.push(e)})),f.call(t,c)&&(i(e,t,c),t[c].forEach(function(e){n.unshift(e)})),f.call(t,h)&&(a(Array.isArray(e)),a(Array.isArray(t[h])),t[h].forEach(function(e){a(Array.isArray(e)),n.splice.apply(n,e)})),f.call(t,v)&&(a("function"==typeof t[v]),n=t[v](n));for(var m in t)g.hasOwnProperty(m)&&g[m]||(n[m]=s(e[m],t[m]));return n}var o=e(29),u=e(154),a=e(147),f={}.hasOwnProperty,l=u({$push:null}),c=u({$unshift:null}),h=u({$splice:null}),p=u({$set:null}),d=u({$merge:null}),v=u({$apply:null}),m=[l,c,h,p,d,v],g={};m.forEach(function(e){g[e]=!0}),t.exports=s},{147:147,154:154,29:29}],166:[function(e,t,n){var r=e(126),i=r;t.exports=i},{126:126}]},{},[1])(1)}),!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function g(e){var t="length"in e&&e.length,n=h.type(e);return"function"===n||h.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function S(e,t,n){if(h.isFunction(t))return h.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return h.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(E.test(t))return h.filter(t,e,n);t=h.filter(t,e)}return h.grep(e,function(e){return h.inArray(e,t)>=0!==n})}function A(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function _(e){var t=M[e]={};return h.each(e.match(O)||[],function(e,n){t[n]=!0}),t}function P(){T.addEventListener?(T.removeEventListener("DOMContentLoaded",H,!1),e.removeEventListener("load",H,!1)):(T.detachEvent("onreadystatechange",H),e.detachEvent("onload",H))}function H(){(T.addEventListener||"load"===event.type||"complete"===T.readyState)&&(P(),h.ready())}function q(e,t,n){if(void 0===n&&1===e.nodeType){var r="data-"+t.replace(I,"-$1").toLowerCase();if(n=e.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:F.test(n)?h.parseJSON(n):n}catch(i){}h.data(e,t,n)}else n=void 0}return n}function R(e){var t;for(t in e)if(("data"!==t||!h.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function U(e,t,r,i){if(h.acceptData(e)){var s,o,u=h.expando,a=e.nodeType,f=a?h.cache:e,l=a?e[u]:e[u]&&u;if(l&&f[l]&&(i||f[l].data)||void 0!==r||"string"!=typeof t)return l||(l=a?e[u]=n.pop()||h.guid++:u),f[l]||(f[l]=a?{}:{toJSON:h.noop}),("object"==typeof t||"function"==typeof t)&&(i?f[l]=h.extend(f[l],t):f[l].data=h.extend(f[l].data,t)),o=f[l],i||(o.data||(o.data={}),o=o.data),void 0!==r&&(o[h.camelCase(t)]=r),"string"==typeof t?(s=o[t],null==s&&(s=o[h.camelCase(t)])):s=o,s}}function z(e,t,n){if(h.acceptData(e)){var r,i,s=e.nodeType,o=s?h.cache:e,u=s?e[h.expando]:h.expando;if(o[u]){if(t&&(r=n?o[u]:o[u].data)){h.isArray(t)?t=t.concat(h.map(t,h.camelCase)):t in r?t=[t]:(t=h.camelCase(t),t=t in r?[t]:t.split(" ")),i=t.length;while(i--)delete r[t[i]];if(n?!R(r):!h.isEmptyObject(r))return}(n||(delete o[u].data,R(o[u])))&&(s?h.cleanData([e],!0):l.deleteExpando||o!=o.window?delete o[u]:o[u]=null)}}}function et(){return!0}function tt(){return!1}function nt(){try{return T.activeElement}catch(e){}}function rt(e){var t=it.split("|"),n=e.createDocumentFragment();if(n.createElement)while(t.length)n.createElement(t.pop());return n}function wt(e,t){var n,r,i=0,s=typeof e.getElementsByTagName!==B?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==B?e.querySelectorAll(t||"*"):void 0;if(!s)for(s=[],n=e.childNodes||e;null!=(r=n[i]);i++)!t||h.nodeName(r,t)?s.push(r):h.merge(s,wt(r,t));return void 0===t||t&&h.nodeName(e,t)?h.merge([e],s):s}function Et(e){J.test(e.type)&&(e.defaultChecked=e.checked)}function St(e,t){return h.nodeName(e,"table")&&h.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function xt(e){return e.type=(null!==h.find.attr(e,"type"))+"/"+e.type,e}function Tt(e){var t=vt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function Nt(e,t){for(var n,r=0;null!=(n=e[r]);r++)h._data(n,"globalEval",!t||h._data(t[r],"globalEval"))}function Ct(e,t){if(1===t.nodeType&&h.hasData(e)){var n,r,i,s=h._data(e),o=h._data(t,s),u=s.events;if(u){delete o.handle,o.events={};for(n in u)for(r=0,i=u[n].length;i>r;r++)h.event.add(t,n,u[n][r])}o.data&&(o.data=h.extend({},o.data))}}function kt(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!l.noCloneEvent&&t[h.expando]){i=h._data(t);for(r in i.events)h.removeEvent(t,r,i.handle);t.removeAttribute(h.expando)}"script"===n&&t.text!==e.text?(xt(t).text=e.text,Tt(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),l.html5Clone&&e.innerHTML&&!h.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&J.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function Ot(t,n){var r,i=h(n.createElement(t)).appendTo(n.body),s=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(i[0]))?r.display:h.css(i[0],"display");return i.detach(),s}function Mt(e){var t=T,n=At[e];return n||(n=Ot(e,t),"none"!==n&&n||(Lt=(Lt||h("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Lt[0].contentWindow||Lt[0].contentDocument).document,t.write(),t.close(),n=Ot(e,t),Lt.detach()),At[e]=n),n}function jt(e,t){return{get:function(){var n=e();if(null!=n)return n?void delete this.get:(this.get=t).apply(this,arguments)}}}function Vt(e,t){if(t in e)return t;var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=Xt.length;while(i--)if(t=Xt[i]+n,t in e)return t;return r}function $t(e,t){for(var n,r,i,s=[],o=0,u=e.length;u>o;o++)r=e[o],r.style&&(s[o]=h._data(r,"olddisplay"),n=r.style.display,t?(s[o]||"none"!==n||(r.style.display=""),""===r.style.display&&V(r)&&(s[o]=h._data(r,"olddisplay",Mt(r.nodeName)))):(i=V(r),(n&&"none"!==n||!i)&&h._data(r,"olddisplay",i?n:h.css(r,"display"))));for(o=0;u>o;o++)r=e[o],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?s[o]||"":"none"));return e}function Jt(e,t,n){var r=Rt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function Kt(e,t,n,r,i){for(var s=n===(r?"border":"content")?4:"width"===t?1:0,o=0;4>s;s+=2)"margin"===n&&(o+=h.css(e,n+X[s],!0,i)),r?("content"===n&&(o-=h.css(e,"padding"+X[s],!0,i)),"margin"!==n&&(o-=h.css(e,"border"+X[s]+"Width",!0,i))):(o+=h.css(e,"padding"+X[s],!0,i),"padding"!==n&&(o+=h.css(e,"border"+X[s]+"Width",!0,i)));return o}function Qt(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,s=Pt(e),o=l.boxSizing&&"border-box"===h.css(e,"boxSizing",!1,s);if(0>=i||null==i){if(i=Ht(e,t,s),(0>i||null==i)&&(i=e.style[t]),Dt.test(i))return i;r=o&&(l.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+Kt(e,t,n||(o?"border":"content"),r,s)+"px"}function Gt(e,t,n,r,i){return new Gt.prototype.init(e,t,n,r,i)}function on(){return setTimeout(function(){Yt=void 0}),Yt=h.now()}function un(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=X[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function an(e,t,n){for(var r,i=(sn[t]||[]).concat(sn["*"]),s=0,o=i.length;o>s;s++)if(r=i[s].call(n,t,e))return r}function fn(e,t,n){var r,i,s,o,u,a,f,c,p=this,d={},v=e.style,m=e.nodeType&&V(e),g=h._data(e,"fxshow");n.queue||(u=h._queueHooks(e,"fx"),null==u.unqueued&&(u.unqueued=0,a=u.empty.fire,u.empty.fire=function(){u.unqueued||a()}),u.unqueued++,p.always(function(){p.always(function(){u.unqueued--,h.queue(e,"fx").length||u.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[v.overflow,v.overflowX,v.overflowY],f=h.css(e,"display"),c="none"===f?h._data(e,"olddisplay")||Mt(e.nodeName):f,"inline"===c&&"none"===h.css(e,"float")&&(l.inlineBlockNeedsLayout&&"inline"!==Mt(e.nodeName)?v.zoom=1:v.display="inline-block")),n.overflow&&(v.overflow="hidden",l.shrinkWrapBlocks()||p.always(function(){v.overflow=n.overflow[0],v.overflowX=n.overflow[1],v.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],en.exec(i)){if(delete t[r],s=s||"toggle"===i,i===(m?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;m=!0}d[r]=g&&g[r]||h.style(e,r)}else f=void 0;if(h.isEmptyObject(d))"inline"===("none"===f?Mt(e.nodeName):f)&&(v.display=f);else{g?"hidden"in g&&(m=g.hidden):g=h._data(e,"fxshow",{}),s&&(g.hidden=!m),m?h(e).show():p.done(function(){h(e).hide()}),p.done(function(){var t;h._removeData(e,"fxshow");for(t in d)h.style(e,t,d[t])});for(r in d)o=an(m?g[r]:0,r,p),r in g||(g[r]=o.start,m&&(o.end=o.start,o.start="width"===r||"height"===r?1:0))}}function ln(e,t){var n,r,i,s,o;for(n in e)if(r=h.camelCase(n),i=t[r],s=e[n],h.isArray(s)&&(i=s[1],s=e[n]=s[0]),n!==r&&(e[r]=s,delete e[n]),o=h.cssHooks[r],o&&"expand"in o){s=o.expand(s),delete e[r];for(n in s)n in e||(e[n]=s[n],t[n]=i)}else t[r]=i}function cn(e,t,n){var r,i,s=0,o=rn.length,u=h.Deferred().always(function(){delete a.elem}),a=function(){if(i)return!1;for(var t=Yt||on(),n=Math.max(0,f.startTime+f.duration-t),r=n/f.duration||0,s=1-r,o=0,a=f.tweens.length;a>o;o++)f.tweens[o].run(s);return u.notifyWith(e,[f,s,n]),1>s&&a?n:(u.resolveWith(e,[f]),!1)},f=u.promise({elem:e,props:h.extend({},t),opts:h.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Yt||on(),duration:n.duration,tweens:[],createTween:function(t,n){var r=h.Tween(e,f.opts,t,n,f.opts.specialEasing[t]||f.opts.easing);return f.tweens.push(r),r},stop:function(t){var n=0,r=t?f.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)f.tweens[n].run(1);return t?u.resolveWith(e,[f,t]):u.rejectWith(e,[f,t]),this}}),l=f.props;for(ln(l,f.opts.specialEasing);o>s;s++)if(r=rn[s].call(f,e,l,f.opts))return r;return h.map(l,an,f),h.isFunction(f.opts.start)&&f.opts.start.call(e,f),h.fx.timer(h.extend(a,{elem:e,anim:f,queue:f.opts.queue})),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always)}function Fn(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,s=t.toLowerCase().match(O)||[];if(h.isFunction(n))while(r=s[i++])"+"===r.charAt(0)?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function In(e,t,n,r){function o(u){var a;return i[u]=!0,h.each(e[u]||[],function(e,u){var f=u(t,n,r);return"string"!=typeof f||s||i[f]?s?!(a=f):void 0:(t.dataTypes.unshift(f),o(f),!1)}),a}var i={},s=e===Hn;return o(t.dataTypes[0])||!i["*"]&&o("*")}function qn(e,t){var n,r,i=h.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((i[r]?e:n||(n={}))[r]=t[r]);return n&&h.extend(!0,e,n),e}function Rn(e,t,n){var r,i,s,o,u=e.contents,a=e.dataTypes;while("*"===a[0])a.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(o in u)if(u[o]&&u[o].test(i)){a.unshift(o);break}if(a[0]in n)s=a[0];else{for(o in n){if(!a[0]||e.converters[o+" "+a[0]]){s=o;break}r||(r=o)}s=s||r}return s?(s!==a[0]&&a.unshift(s),n[s]):void 0}function Un(e,t,n,r){var i,s,o,u,a,f={},l=e.dataTypes.slice();if(l[1])for(o in e.converters)f[o.toLowerCase()]=e.converters[o];s=l.shift();while(s)if(e.responseFields[s]&&(n[e.responseFields[s]]=t),!a&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),a=s,s=l.shift())if("*"===s)s=a;else if("*"!==a&&a!==s){if(o=f[a+" "+s]||f["* "+s],!o)for(i in f)if(u=i.split(" "),u[1]===s&&(o=f[a+" "+u[0]]||f["* "+u[0]])){o===!0?o=f[i]:f[i]!==!0&&(s=u[0],l.unshift(u[1]));break}if(o!==!0)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(c){return{state:"parsererror",error:o?c:"No conversion from "+a+" to "+s}}}return{state:"success",data:t}}function Jn(e,t,n,r){var i;if(h.isArray(t))h.each(t,function(t,i){n||Wn.test(e)?r(e,i):Jn(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==h.type(t))r(e,t);else for(i in t)Jn(e+"["+i+"]",t[i],n,r)}function Yn(){try{return new e.XMLHttpRequest}catch(t){}}function Zn(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function ir(e){return h.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var n=[],r=n.slice,i=n.concat,s=n.push,o=n.indexOf,u={},a=u.toString,f=u.hasOwnProperty,l={},c="1.11.3",h=function(e,t){return new h.fn.init(e,t)},p=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,d=/^-ms-/,v=/-([\da-z])/gi,m=function(e,t){return t.toUpperCase()};h.fn=h.prototype={jquery:c,constructor:h,selector:"",length:0,toArray:function(){return r.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:r.call(this)},pushStack:function(e){var t=h.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return h.each(this,e,t)},map:function(e){return this.pushStack(h.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(r.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:s,sort:n.sort,splice:n.splice},h.extend=h.fn.extend=function(){var e,t,n,r,i,s,o=arguments[0]||{},u=1,a=arguments.length,f=!1;for("boolean"==typeof o&&(f=o,o=arguments[u]||{},u++),"object"==typeof o||h.isFunction(o)||(o={}),u===a&&(o=this,u--);a>u;u++)if(null!=(i=arguments[u]))for(r in i)e=o[r],n=i[r],o!==n&&(f&&n&&(h.isPlainObject(n)||(t=h.isArray(n)))?(t?(t=!1,s=e&&h.isArray(e)?e:[]):s=e&&h.isPlainObject(e)?e:{},o[r]=h.extend(f,s,n)):void 0!==n&&(o[r]=n));return o},h.extend({expando:"jQuery"+(c+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===h.type(e)},isArray:Array.isArray||function(e){return"array"===h.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!h.isArray(e)&&e-parseFloat(e)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==h.type(e)||e.nodeType||h.isWindow(e))return!1;try{if(e.constructor&&!f.call(e,"constructor")&&!f.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(l.ownLast)for(t in e)return f.call(e,t);for(t in e);return void 0===t||f.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?u[a.call(e)]||"object":typeof e},globalEval:function(t){t&&h.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(d,"ms-").replace(v,m)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,i=0,s=e.length,o=g(e);if(n){if(o){for(;s>i;i++)if(r=t.apply(e[i],n),r===!1)break}else for(i in e)if(r=t.apply(e[i],n),r===!1)break}else if(o){for(;s>i;i++)if(r=t.call(e[i],i,e[i]),r===!1)break}else for(i in e)if(r=t.call(e[i],i,e[i]),r===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(p,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(g(Object(e))?h.merge(n,"string"==typeof e?[e]:e):s.call(n,e)),n},inArray:function(e,t,n){var r;if(t){if(o)return o.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){var n=+t.length,r=0,i=e.length;while(n>r)e[i++]=t[r++];if(n!==n)while(void 0!==t[r])e[i++]=t[r++];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],s=0,o=e.length,u=!n;o>s;s++)r=!t(e[s],s),r!==u&&i.push(e[s]);return i},map:function(e,t,n){var r,s=0,o=e.length,u=g(e),a=[];if(u)for(;o>s;s++)r=t(e[s],s,n),null!=r&&a.push(r);else for(s in e)r=t(e[s],s,n),null!=r&&a.push(r);return i.apply([],a)},guid:1,proxy:function(e,t){var n,i,s;return"string"==typeof t&&(s=e[t],t=e,e=s),h.isFunction(e)?(n=r.call(arguments,2),i=function(){return e.apply(t||this,n.concat(r.call(arguments)))},i.guid=e.guid=e.guid||h.guid++,i):void 0},now:function(){return+(new Date)},support:l}),h.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){u["[object "+t+"]"]=t.toLowerCase()});var y=function(e){function ot(e,t,r,i){var s,u,f,l,c,d,g,y,S,x;if((t?t.ownerDocument||t:E)!==p&&h(t),t=t||p,r=r||[],l=t.nodeType,"string"!=typeof e||!e||1!==l&&9!==l&&11!==l)return r;if(!i&&v){if(11!==l&&(s=Z.exec(e)))if(f=s[1]){if(9===l){if(u=t.getElementById(f),!u||!u.parentNode)return r;if(u.id===f)return r.push(u),r}else if(t.ownerDocument&&(u=t.ownerDocument.getElementById(f))&&b(t,u)&&u.id===f)return r.push(u),r}else{if(s[2])return D.apply(r,t.getElementsByTagName(e)),r;if((f=s[3])&&n.getElementsByClassName)return D.apply(r,t.getElementsByClassName(f)),r}if(n.qsa&&(!m||!m.test(e))){if(y=g=w,S=t,x=1!==l&&e,1===l&&"object"!==t.nodeName.toLowerCase()){d=o(e),(g=t.getAttribute("id"))?y=g.replace(tt,"\\$&"):t.setAttribute("id",y),y="[id='"+y+"'] ",c=d.length;while(c--)d[c]=y+gt(d[c]);S=et.test(e)&&vt(t.parentNode)||t,x=d.join(",")}if(x)try{return D.apply(r,S.querySelectorAll(x)),r}catch(T){}finally{g||t.removeAttribute("id")}}}return a(e.replace(z,"$1"),t,r,i)}function ut(){function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function at(e){return e[w]=!0,e}function ft(e){var t=p.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function lt(e,t){var n=e.split("|"),i=e.length;while(i--)r.attrHandle[n[i]]=t}function ct(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||L)-(~e.sourceIndex||L);if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function ht(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function pt(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function dt(e){return at(function(t){return t=+t,at(function(n,r){var i,s=e([],n.length,t),o=s.length;while(o--)n[i=s[o]]&&(n[i]=!(r[i]=n[i]))})})}function vt(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function mt(){}function gt(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function yt(e,t,n){var r=t.dir,i=n&&"parentNode"===r,s=x++;return t.first?function(t,n,s){while(t=t[r])if(1===t.nodeType||i)return e(t,n,s)}:function(t,n,o){var u,a,f=[S,s];if(o){while(t=t[r])if((1===t.nodeType||i)&&e(t,n,o))return!0}else while(t=t[r])if(1===t.nodeType||i){if(a=t[w]||(t[w]={}),(u=a[r])&&u[0]===S&&u[1]===s)return f[2]=u[2];if(a[r]=f,f[2]=e(t,n,o))return!0}}}function bt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function wt(e,t,n){for(var r=0,i=t.length;i>r;r++)ot(e,t[r],n);return n}function Et(e,t,n,r,i){for(var s,o=[],u=0,a=e.length,f=null!=t;a>u;u++)(s=e[u])&&(!n||n(s,r,i))&&(o.push(s),f&&t.push(u));return o}function St(e,t,n,r,i,s){return r&&!r[w]&&(r=St(r)),i&&!i[w]&&(i=St(i,s)),at(function(s,o,u,a){var f,l,c,h=[],p=[],d=o.length,v=s||wt(t||"*",u.nodeType?[u]:u,[]),m=!e||!s&&t?v:Et(v,h,e,u,a),g=n?i||(s?e:d||r)?[]:o:m;if(n&&n(m,g,u,a),r){f=Et(g,p),r(f,[],u,a),l=f.length;while(l--)(c=f[l])&&(g[p[l]]=!(m[p[l]]=c))}if(s){if(i||e){if(i){f=[],l=g.length;while(l--)(c=g[l])&&f.push(m[l]=c);i(null,g=[],f,a)}l=g.length;while(l--)(c=g[l])&&(f=i?H(s,c):h[l])>-1&&(s[f]=!(o[f]=c))}}else g=Et(g===o?g.splice(d,g.length):g),i?i(null,o,g,a):D.apply(o,g)})}function xt(e){for(var t,n,i,s=e.length,o=r.relative[e[0].type],u=o||r.relative[" "],a=o?1:0,l=yt(function(e){return e===t},u,!0),c=yt(function(e){return H(t,e)>-1},u,!0),h=[function(e,n,r){var i=!o&&(r||n!==f)||((t=n).nodeType?l(e,n,r):c(e,n,r));return t=null,i}];s>a;a++)if(n=r.relative[e[a].type])h=[yt(bt(h),n)];else{if(n=r.filter[e[a].type].apply(null,e[a].matches),n[w]){for(i=++a;s>i;i++)if(r.relative[e[i].type])break;return St(a>1&&bt(h),a>1&&gt(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(z,"$1"),n,i>a&&xt(e.slice(a,i)),s>i&&xt(e=e.slice(i)),s>i&&gt(e))}h.push(n)}return bt(h)}function Tt(e,t){var n=t.length>0,i=e.length>0,s=function(s,o,u,a,l){var c,h,d,v=0,m="0",g=s&&[],y=[],b=f,w=s||i&&r.find.TAG("*",l),E=S+=null==b?1:Math.random()||.1,x=w.length;for(l&&(f=o!==p&&o);m!==x&&null!=(c=w[m]);m++){if(i&&c){h=0;while(d=e[h++])if(d(c,o,u)){a.push(c);break}l&&(S=E)}n&&((c=!d&&c)&&v--,s&&g.push(c))}if(v+=m,n&&m!==v){h=0;while(d=t[h++])d(g,y,o,u);if(s){if(v>0)while(m--)g[m]||y[m]||(y[m]=M.call(a));y=Et(y)}D.apply(a,y),l&&!s&&y.length>0&&v+t.length>1&&ot.uniqueSort(a)}return l&&(S=E,f=b),g};return n?at(s):s}var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w="sizzle"+1*new Date,E=e.document,S=0,x=0,T=ut(),N=ut(),C=ut(),k=function(e,t){return e===t&&(c=!0),0},L=1<<31,A={}.hasOwnProperty,O=[],M=O.pop,_=O.push,D=O.push,P=O.slice,H=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},B="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",j="[\\x20\\t\\r\\n\\f]",F="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",I=F.replace("w","w#"),q="\\["+j+"*("+F+")(?:"+j+"*([*^$|!~]?=)"+j+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+I+"))|)"+j+"*\\]",R=":("+F+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+q+")*)|.*)\\)|)",U=new RegExp(j+"+","g"),z=new RegExp("^"+j+"+|((?:^|[^\\\\])(?:\\\\.)*)"+j+"+$","g"),W=new RegExp("^"+j+"*,"+j+"*"),X=new RegExp("^"+j+"*([>+~]|"+j+")"+j+"*"),V=new RegExp("="+j+"*([^\\]'\"]*?)"+j+"*\\]","g"),$=new RegExp(R),J=new RegExp("^"+I+"$"),K={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F.replace("w","w*")+")"),ATTR:new RegExp("^"+q),PSEUDO:new RegExp("^"+R),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+j+"*(even|odd|(([+-]|)(\\d*)n|)"+j+"*(?:([+-]|)"+j+"*(\\d+)|))"+j+"*\\)|)","i"),bool:new RegExp("^(?:"+B+")$","i"),needsContext:new RegExp("^"+j+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+j+"*((?:-\\d)?\\d*)"+j+"*\\)|)(?=[^-]|$)","i")},Q=/^(?:input|select|textarea|button)$/i,G=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,et=/[+~]/,tt=/'|\\/g,nt=new RegExp("\\\\([\\da-f]{1,6}"+j+"?|("+j+")|.)","ig"),rt=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},it=function(){h()};try{D.apply(O=P.call(E.childNodes),E.childNodes),O[E.childNodes.length].nodeType}catch(st){D={apply:O.length?function(e,t){_.apply(e,P.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}n=ot.support={},s=ot.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},h=ot.setDocument=function(e){var t,i,o=e?e.ownerDocument||e:E;return o!==p&&9===o.nodeType&&o.documentElement?(p=o,d=o.documentElement,i=o.defaultView,i&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",it,!1):i.attachEvent&&i.attachEvent("onunload",it)),v=!s(o),n.attributes=ft(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=ft(function(e){return e.appendChild(o.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=Y.test(o.getElementsByClassName),n.getById=ft(function(e){return d.appendChild(e).id=w,!o.getElementsByName||!o.getElementsByName(w).length}),n.getById?(r.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&v){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},r.filter.ID=function(e){var t=e.replace(nt,rt);return function(e){return e.getAttribute("id")===t}}):(delete r.find.ID,r.filter.ID=function(e){var t=e.replace(nt,rt);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),r.find.TAG=n.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,s=t.getElementsByTagName(e);if("*"===e){while(n=s[i++])1===n.nodeType&&r.push(n);return r}return s},r.find.CLASS=n.getElementsByClassName&&function(e,t){return v?t.getElementsByClassName(e):void 0},g=[],m=[],(n.qsa=Y.test(o.querySelectorAll))&&(ft(function(e){d.appendChild(e).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+j+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+j+"*(?:value|"+B+")"),e.querySelectorAll("[id~="+w+"-]").length||m.push("~="),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+w+"+*").length||m.push(".#.+[+~]")}),ft(function(e){var t=o.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+j+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")})),(n.matchesSelector=Y.test(y=d.matches||d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&ft(function(e){n.disconnectedMatch=y.call(e,"div"),y.call(e,"[s!='']:x"),g.push("!=",R)}),m=m.length&&new RegExp(m.join("|")),g=g.length&&new RegExp(g.join("|")),t=Y.test(d.compareDocumentPosition),b=t||Y.test(d.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!!r&&1===r.nodeType&&!!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},k=t?function(e,t){if(e===t)return c=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r?r:(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&r||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===o||e.ownerDocument===E&&b(E,e)?-1:t===o||t.ownerDocument===E&&b(E,t)?1:l?H(l,e)-H(l,t):0:4&r?-1:1)}:function(e,t){if(e===t)return c=!0,0;var n,r=0,i=e.parentNode,s=t.parentNode,u=[e],a=[t];if(!i||!s)return e===o?-1:t===o?1:i?-1:s?1:l?H(l,e)-H(l,t):0;if(i===s)return ct(e,t);n=e;while(n=n.parentNode)u.unshift(n);n=t;while(n=n.parentNode)a.unshift(n);while(u[r]===a[r])r++;return r?ct(u[r],a[r]):u[r]===E?-1:a[r]===E?1:0},o):p},ot.matches=function(e,t){return ot(e,null,null,t)},ot.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&h(e),t=t.replace(V,"='$1']"),!(!n.matchesSelector||!v||g&&g.test(t)||m&&m.test(t)))try{var r=y.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return ot(t,p,null,[e]).length>0},ot.contains=function(e,t){return(e.ownerDocument||e)!==p&&h(e),b(e,t)},ot.attr=function(e,t){(e.ownerDocument||e)!==p&&h(e);var i=r.attrHandle[t.toLowerCase()],s=i&&A.call(r.attrHandle,t.toLowerCase())?i(e,t,!v):void 0;return void 0!==s?s:n.attributes||!v?e.getAttribute(t):(s=e.getAttributeNode(t))&&s.specified?s.value:null},ot.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ot.uniqueSort=function(e){var t,r=[],i=0,s=0;if(c=!n.detectDuplicates,l=!n.sortStable&&e.slice(0),e.sort(k),c){while(t=e[s++])t===e[s]&&(i=r.push(s));while(i--)e.splice(r[i],1)}return l=null,e},i=ot.getText=function(e){var t,n="",r=0,s=e.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===s||4===s)return e.nodeValue}else while(t=e[r++])n+=i(t);return n},r=ot.selectors={cacheLength:50,createPseudo:at,match:K,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(nt,rt),e[3]=(e[3]||e[4]||e[5]||"").replace(nt,rt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ot.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ot.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return K.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&$.test(n)&&(t=o(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(nt,rt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=T[e+" "];return t||(t=new RegExp("(^|"+j+")"+e+"("+j+"|$)"))&&T(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=ot.attr(r,e);return null==i?"!="===t:t?(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(U," ")+" ").indexOf(n)>-1:"|="===t?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var s="nth"!==e.slice(0,3),o="last"!==e.slice(-4),u="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,a){var f,l,c,h,p,d,v=s!==o?"nextSibling":"previousSibling",m=t.parentNode,g=u&&t.nodeName.toLowerCase(),y=!a&&!u;if(m){if(s){while(v){c=t;while(c=c[v])if(u?c.nodeName.toLowerCase()===g:1===c.nodeType)return!1;d=v="only"===e&&!d&&"nextSibling"}return!0}if(d=[o?m.firstChild:m.lastChild],o&&y){l=m[w]||(m[w]={}),f=l[e]||[],p=f[0]===S&&f[1],h=f[0]===S&&f[2],c=p&&m.childNodes[p];while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if(1===c.nodeType&&++h&&c===t){l[e]=[S,p,h];break}}else if(y&&(f=(t[w]||(t[w]={}))[e])&&f[0]===S)h=f[1];else while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if((u?c.nodeName.toLowerCase()===g:1===c.nodeType)&&++h&&(y&&((c[w]||(c[w]={}))[e]=[S,h]),c===t))break;return h-=i,h===r||h%r===0&&h/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||ot.error("unsupported pseudo: "+e);return i[w]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?at(function(e,n){var r,s=i(e,t),o=s.length;while(o--)r=H(e,s[o]),e[r]=!(n[r]=s[o])}):function(e){return i(e,0,n)}):i}},pseudos:{not:at(function(e){var t=[],n=[],r=u(e.replace(z,"$1"));return r[w]?at(function(e,t,n,i){var s,o=r(e,null,i,[]),u=e.length;while(u--)(s=o[u])&&(e[u]=!(t[u]=s))}):function(e,i,s){return t[0]=e,r(t,null,s,n),t[0]=null,!n.pop()}}),has:at(function(e){return function(t){return ot(e,t).length>0}}),contains:at(function(e){return e=e.replace(nt,rt),function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}}),lang:at(function(e){return J.test(e||"")||ot.error("unsupported lang: "+e),e=e.replace(nt,rt).toLowerCase(),function(t){var n;do if(n=v?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===d},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return G.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:dt(function(){return[0]}),last:dt(function(e,t){return[t-1]}),eq:dt(function(e,t,n){return[0>n?n+t:n]}),even:dt(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:dt(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:dt(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:dt(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},r.pseudos.nth=r.pseudos.eq;for(t in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=ht(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=pt(t);return mt.prototype=r.filters=r.pseudos,r.setFilters=new mt,o=ot.tokenize=function(e,t){var n,i,s,o,u,a,f,l=N[e+" "];if(l)return t?0:l.slice(0);u=e,a=[],f=r.preFilter;while(u){(!n||(i=W.exec(u)))&&(i&&(u=u.slice(i[0].length)||u),a.push(s=[])),n=!1,(i=X.exec(u))&&(n=i.shift(),s.push({value:n,type:i[0].replace(z," ")}),u=u.slice(n.length));for(o in r.filter)!(i=K[o].exec(u))||f[o]&&!(i=f[o](i))||(n=i.shift(),s.push({value:n,type:o,matches:i}),u=u.slice(n.length));if(!n)break}return t?u.length:u?ot.error(e):N(e,a).slice(0)},u=ot.compile=function(e,t){var n,r=[],i=[],s=C[e+" "];if(!s){t||(t=o(e)),n=t.length;while(n--)s=xt(t[n]),s[w]?r.push(s):i.push(s);s=C(e,Tt(i,r)),s.selector=e}return s},a=ot.select=function(e,t,i,s){var a,f,l,c,h,p="function"==typeof e&&e,d=!s&&o(e=p.selector||e);if(i=i||[],1===d.length){if(f=d[0]=d[0].slice(0),f.length>2&&"ID"===(l=f[0]).type&&n.getById&&9===t.nodeType&&v&&r.relative[f[1].type]){if(t=(r.find.ID(l.matches[0].replace(nt,rt),t)||[])[0],!t)return i;p&&(t=t.parentNode),e=e.slice(f.shift().value.length)}a=K.needsContext.test(e)?0:f.length;while(a--){if(l=f[a],r.relative[c=l.type])break;if((h=r.find[c])&&(s=h(l.matches[0].replace(nt,rt),et.test(f[0].type)&&vt(t.parentNode)||t))){if(f.splice(a,1),e=s.length&&gt(f),!e)return D.apply(i,s),i;break}}}return(p||u(e,d))(s,t,!v,i,et.test(e)&&vt(t.parentNode)||t),i},n.sortStable=w.split("").sort(k).join("")===w,n.detectDuplicates=!!c,h(),n.sortDetached=ft(function(e){return 1&e.compareDocumentPosition(p.createElement("div"))}),ft(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||lt("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&ft(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||lt("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),ft(function(e){return null==e.getAttribute("disabled")})||lt(B,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),ot}(e);h.find=y,h.expr=y.selectors,h.expr[":"]=h.expr.pseudos,h.unique=y.uniqueSort,h.text=y.getText,h.isXMLDoc=y.isXML,h.contains=y.contains;var b=h.expr.match.needsContext,w=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,E=/^.[^:#\[\.,]*$/;h.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?h.find.matchesSelector(r,e)?[r]:[]:h.find.matches(e,h.grep(t,function(e){return 1===e.nodeType}))},h.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(h(e).filter(function(){for(t=0;i>t;t++)if(h.contains(r[t],this))return!0}));for(t=0;i>t;t++)h.find(e,r[t],n);return n=this.pushStack(i>1?h.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(S(this,e||[],!1))},not:function(e){return this.pushStack(S(this,e||[],!0))},is:function(e){return!!S(this,"string"==typeof e&&b.test(e)?h(e):e||[],!1).length}});var x,T=e.document,N=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,C=h.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:N.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||x).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof h?t[0]:t,h.merge(this,h.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:T,!0)),w.test(n[1])&&h.isPlainObject(t))for(n in t)h.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if(r=T.getElementById(n[2]),r&&r.parentNode){if(r.id!==n[2])return x.find(e);this.length=1,this[0]=r}return this.context=T,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):h.isFunction(e)?"undefined"!=typeof x.ready?x.ready(e):e(h):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),h.makeArray(e,this))};C.prototype=h.fn,x=h(T);var k=/^(?:parents|prev(?:Until|All))/,L={children:!0,contents:!0,next:!0,prev:!0};h.extend({dir:function(e,t,n){var r=[],i=e[t];while(i&&9!==i.nodeType&&(void 0===n||1!==i.nodeType||!h(i).is(n)))1===i.nodeType&&r.push(i),i=i[t];return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),h.fn.extend({has:function(e){var t,n=h(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(h.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,s=[],o=b.test(e)||"string"!=typeof e?h(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:1===n.nodeType&&h.find.matchesSelector(n,e))){s.push(n);break}return this.pushStack(s.length>1?h.unique(s):s)},index:function(e){return e?"string"==typeof e?h.inArray(this[0],h(e)):h.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(h.unique(h.merge(this.get(),h(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),h.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return h.dir(e,"parentNode")},parentsUntil:function(e,t,n){return h.dir(e,"parentNode",n)},next:function(e){return A(e,"nextSibling")},prev:function(e){return A(e,"previousSibling")},nextAll:function(e){return h.dir(e,"nextSibling")},prevAll:function(e){return h.dir(e,"previousSibling")},nextUntil:function(e,t,n){return h.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return h.dir(e,"previousSibling",n)},siblings:function(e){return h.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return h.sibling(e.firstChild)},contents:function(e){return h.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:h.merge([],e.childNodes)}},function(e,t){h.fn[e]=function(n,r){var i=h.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=h.filter(r,i)),this.length>1&&(L[e]||(i=h.unique(i)),k.test(e)&&(i=i.reverse())),this.pushStack(i)}});var O=/\S+/g,M={};h.Callbacks=function(e){e="string"==typeof e?M[e]||_(e):h.extend({},e);var t,n,r,i,s,o,u=[],a=!e.once&&[],f=function(c){for(n=e.memory&&c,r=!0,s=o||0,o=0,i=u.length,t=!0;u&&i>s;s++)if(u[s].apply(c[0],c[1])===!1&&e.stopOnFalse){n=!1;break}t=!1,u&&(a?a.length&&f(a.shift()):n?u=[]:l.disable())},l={add:function(){if(u){var r=u.length;!function s(t){h.each(t,function(t,n){var r=h.type(n);"function"===r?e.unique&&l.has(n)||u.push(n):n&&n.length&&"string"!==r&&s(n)})}(arguments),t?i=u.length:n&&(o=r,f(n))}return this},remove:function(){return u&&h.each(arguments,function(e,n){var r;while((r=h.inArray(n,u,r))>-1)u.splice(r,1),t&&(i>=r&&i--,s>=r&&s--)}),this},has:function(e){return e?h.inArray(e,u)>-1:!!u&&!!u.length},empty:function(){return u=[],i=0,this},disable:function(){return u=a=n=void 0,this},disabled:function(){return!u},lock:function(){return a=void 0,n||l.disable(),this},locked:function(){return!a},fireWith:function(e,n){return!u||r&&!a||(n=n||[],n=[e,n.slice?n.slice():n],t?a.push(n):f(n)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l},h.extend({Deferred:function(e){var t=[["resolve","done",h.Callbacks("once memory"),"resolved"],["reject","fail",h.Callbacks("once memory"),"rejected"],["notify","progress",h.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return h.Deferred(function(n){h.each(t,function(t,s){var o=h.isFunction(e[t])&&e[t];i[s[1]](function(){var e=o&&o.apply(this,arguments);e&&h.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s[0]+"With"](this===r?n.promise():this,o?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?h.extend(e,r):r}},i={};return r.pipe=r.then,h.each(t,function(e,s){var o=s[2],u=s[3];r[s[1]]=o.add,u&&o.add(function(){n=u},t[1^e][2].disable,t[2][2].lock),i[s[0]]=function(){return i[s[0]+"With"](this===i?r:this,arguments),this},i[s[0]+"With"]=o.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=r.call(arguments),i=n.length,s=1!==i||e&&h.isFunction(e.promise)?i:0,o=1===s?e:h.Deferred(),u=function(e,t,n){return function(i){t[e]=this,n[e]=arguments.length>1?r.call(arguments):i,n===a?o.notifyWith(t,n):--s||o.resolveWith(t,n)}},a,f,l;if(i>1)for(a=new Array(i),f=new Array(i),l=new Array(i);i>t;t++)n[t]&&h.isFunction(n[t].promise)?n[t].promise().done(u(t,l,n)).fail(o.reject).progress(u(t,f,a)):--s;return s||o.resolveWith(l,n),o.promise()}});var D;h.fn.ready=function(e){return h.ready.promise().done(e),this},h.extend({isReady:!1,readyWait:1,holdReady:function(e){e?h.readyWait++:h.ready(!0)},ready:function(e){if(e===!0?!--h.readyWait:!h.isReady){if(!T.body)return setTimeout(h.ready);h.isReady=!0,e!==!0&&--h.readyWait>0||(D.resolveWith(T,[h]),h.fn.triggerHandler&&(h(T).triggerHandler("ready"),h(T).off("ready")))}}}),h.ready.promise=function(t){if(!D)if(D=h.Deferred(),"complete"===T.readyState)setTimeout(h.ready);else if(T.addEventListener)T.addEventListener("DOMContentLoaded",H,!1),e.addEventListener("load",H,!1);else{T.attachEvent("onreadystatechange",H),e.attachEvent("onload",H);var n=!1;try{n=null==e.frameElement&&T.documentElement}catch(r){}n&&n.doScroll&&!function i(){if(!h.isReady){try{n.doScroll("left")}catch(e){return setTimeout(i,50)}P(),h.ready()}}()}return D.promise(t)};var B="undefined",j;for(j in h(l))break;l.ownLast="0"!==j,l.inlineBlockNeedsLayout=!1,h(function(){var e,t,n,r;n=T.getElementsByTagName("body")[0],n&&n.style&&(t=T.createElement("div"),r=T.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),typeof t.style.zoom!==B&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",l.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(r))}),function(){var e=T.createElement("div");if(null==l.deleteExpando){l.deleteExpando=!0;try{delete e.test}catch(t){l.deleteExpando=!1}}e=null}(),h.acceptData=function(e){var t=h.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return 1!==n&&9!==n?!1:!t||t!==!0&&e.getAttribute("classid")===t};var F=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,I=/([A-Z])/g;h.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?h.cache[e[h.expando]]:e[h.expando],!!e&&!R(e)},data:function(e,t,n){return U(e,t,n)},removeData:function(e,t){return z(e,t)},_data:function(e,t,n){return U(e,t,n,!0)},_removeData:function(e,t){return z(e,t,!0)}}),h.fn.extend({data:function(e,t){var n,r,i,s=this[0],o=s&&s.attributes;if(void 0===e){if(this.length&&(i=h.data(s),1===s.nodeType&&!h._data(s,"parsedAttrs"))){n=o.length;while(n--)o[n]&&(r=o[n].name,0===r.indexOf("data-")&&(r=h.camelCase(r.slice(5)),q(s,r,i[r])));h._data(s,"parsedAttrs",!0)}return i}return"object"==typeof e?this.each(function(){h.data(this,e)}):arguments.length>1?this.each(function(){h.data(this,e,t)}):s?q(s,e,h.data(s,e)):void 0},removeData:function(e){return this.each(function(){h.removeData(this,e)})}}),h.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=h._data(e,t),n&&(!r||h.isArray(n)?r=h._data(e,t,h.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=h.queue(e,t),r=n.length,i=n.shift(),s=h._queueHooks(e,t),o=function(){h.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete s.stop,i.call(e,o,s)),!r&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return h._data(e,n)||h._data(e,n,{empty:h.Callbacks("once memory").add(function(){h._removeData(e,t+"queue"),h._removeData(e,n)})})}}),h.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?h.queue(this[0],e):void 0===t?this:this.each(function(){var n=h.queue(this,e,t);h._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&h.dequeue(this,e)})},dequeue:function(e){return this.each(function(){h.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=h.Deferred(),s=this,o=this.length,u=function(){--r||i.resolveWith(s,[s])};"string"!=typeof e&&(t=e,e=void 0),e=e||"fx";while(o--)n=h._data(s[o],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(u));return u(),i.promise(t)}});var W=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,X=["Top","Right","Bottom","Left"],V=function(e,t){return e=t||e,"none"===h.css(e,"display")||!h.contains(e.ownerDocument,e)},$=h.access=function(e,t,n,r,i,s,o){var u=0,a=e.length,f=null==n;if("object"===h.type(n)){i=!0;for(u in n)h.access(e,t,u,n[u],!0,s,o)}else if(void 0!==r&&(i=!0,h.isFunction(r)||(o=!0),f&&(o?(t.call(e,r),t=null):(f=t,t=function(e,t,n){return f.call(h(e),n)})),t))for(;a>u;u++)t(e[u],n,o?r:r.call(e[u],u,t(e[u],n)));return i?e:f?t.call(e):a?t(e[0],n):s},J=/^(?:checkbox|radio)$/i;!function(){var e=T.createElement("input"),t=T.createElement("div"),n=T.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",l.leadingWhitespace=3===t.firstChild.nodeType,l.tbody=!t.getElementsByTagName("tbody").length,l.htmlSerialize=!!t.getElementsByTagName("link").length,l.html5Clone="<:nav></:nav>"!==T.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,n.appendChild(e),l.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",l.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,n.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",l.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,l.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){l.noCloneEvent=!1}),t.cloneNode(!0).click()),null==l.deleteExpando){l.deleteExpando=!0;try{delete t.test}catch(r){l.deleteExpando=!1}}}(),function(){var t,n,r=T.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(l[t+"Bubbles"]=n in e)||(r.setAttribute(n,"t"),l[t+"Bubbles"]=r.attributes[n].expando===!1);r=null}();var K=/^(?:input|select|textarea)$/i,Q=/^key/,G=/^(?:mouse|pointer|contextmenu)|click/,Y=/^(?:focusinfocus|focusoutblur)$/,Z=/^([^.]*)(?:\.(.+)|)$/;h.event={global:{},add:function(e,t,n,r,i){var s,o,u,a,f,l,c,p,d,v,m,g=h._data(e);if(g){n.handler&&(a=n,n=a.handler,i=a.selector),n.guid||(n.guid=h.guid++),(o=g.events)||(o=g.events={}),(l=g.handle)||(l=g.handle=function(e){return typeof h===B||e&&h.event.triggered===e.type?void 0:h.event.dispatch.apply(l.elem,arguments)},l.elem=e),t=(t||"").match(O)||[""],u=t.length;while(u--)s=Z.exec(t[u])||[],d=m=s[1],v=(s[2]||"").split(".").sort(),d&&(f=h.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=h.event.special[d]||{},c=h.extend({type:d,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&h.expr.match.needsContext.test(i),namespace:v.join(".")},a),(p=o[d])||(p=o[d]=[],p.delegateCount=0,f.setup&&f.setup.call(e,r,v,l)!==!1||(e.addEventListener?e.addEventListener(d,l,!1):e.attachEvent&&e.attachEvent("on"+d,l))),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),h.event.global[d]=!0);e=null}},remove:function(e,t,n,r,i){var s,o,u,a,f,l,c,p,d,v,m,g=h.hasData(e)&&h._data(e);if(g&&(l=g.events)){t=(t||"").match(O)||[""],f=t.length;while(f--)if(u=Z.exec(t[f])||[],d=m=u[1],v=(u[2]||"").split(".").sort(),d){c=h.event.special[d]||{},d=(r?c.delegateType:c.bindType)||d,p=l[d]||[],u=u[2]&&new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=s=p.length;while(s--)o=p[s],!i&&m!==o.origType||n&&n.guid!==o.guid||u&&!u.test(o.namespace)||r&&r!==o.selector&&("**"!==r||!o.selector)||(p.splice(s,1),o.selector&&p.delegateCount--,c.remove&&c.remove.call(e,o));a&&!p.length&&(c.teardown&&c.teardown.call(e,v,g.handle)!==!1||h.removeEvent(e,d,g.handle),delete l[d])}else for(d in l)h.event.remove(e,d+t[f],n,r,!0);h.isEmptyObject(l)&&(delete g.handle,h._removeData(e,"events"))}},trigger:function(t,n,r,i){var s,o,u,a,l,c,p,d=[r||T],v=f.call(t,"type")?t.type:t,m=f.call(t,"namespace")?t.namespace.split("."):[];if(u=c=r=r||T,3!==r.nodeType&&8!==r.nodeType&&!Y.test(v+h.event.triggered)&&(v.indexOf(".")>=0&&(m=v.split("."),v=m.shift(),m.sort()),o=v.indexOf(":")<0&&"on"+v,t=t[h.expando]?t:new h.Event(v,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=m.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:h.makeArray(n,[t]),l=h.event.special[v]||{},i||!l.trigger||l.trigger.apply(r,n)!==!1)){if(!i&&!l.noBubble&&!h.isWindow(r)){for(a=l.delegateType||v,Y.test(a+v)||(u=u.parentNode);u;u=u.parentNode)d.push(u),c=u;c===(r.ownerDocument||T)&&d.push(c.defaultView||c.parentWindow||e)}p=0;while((u=d[p++])&&!t.isPropagationStopped())t.type=p>1?a:l.bindType||v,s=(h._data(u,"events")||{})[t.type]&&h._data(u,"handle"),s&&s.apply(u,n),s=o&&u[o],s&&s.apply&&h.acceptData(u)&&(t.result=s.apply(u,n),t.result===!1&&t.preventDefault());if(t.type=v,!i&&!t.isDefaultPrevented()&&(!l._default||l._default.apply(d.pop(),n)===!1)&&h.acceptData(r)&&o&&r[v]&&!h.isWindow(r)){c=r[o],c&&(r[o]=null),h.event.triggered=v;try{r[v]()}catch(g){}h.event.triggered=void 0,c&&(r[o]=c)}return t.result}},dispatch:function(e){e=h.event.fix(e);var t,n,i,s,o,u=[],a=r.call(arguments),f=(h._data(this,"events")||{})[e.type]||[],l=h.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){u=h.event.handlers.call(this,e,f),t=0;while((s=u[t++])&&!e.isPropagationStopped()){e.currentTarget=s.elem,o=0;while((i=s.handlers[o++])&&!e.isImmediatePropagationStopped())(!e.namespace_re||e.namespace_re.test(i.namespace))&&(e.handleObj=i,e.data=i.data,n=((h.event.special[i.origType]||{}).handle||i.handler).apply(s.elem,a),void 0!==n&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()))}return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,s,o=[],u=t.delegateCount,a=e.target;if(u&&a.nodeType&&(!e.button||"click"!==e.type))for(;a!=this;a=a.parentNode||this)if(1===a.nodeType&&(a.disabled!==!0||"click"!==e.type)){for(i=[],s=0;u>s;s++)r=t[s],n=r.selector+" ",void 0===i[n]&&(i[n]=r.needsContext?h(n,this).index(a)>=0:h.find(n,this,null,[a]).length),i[n]&&i.push(r);i.length&&o.push({elem:a,handlers:i})}return u<t.length&&o.push({elem:this,handlers:t.slice(u)}),o},fix:function(e){if(e[h.expando])return e;var t,n,r,i=e.type,s=e,o=this.fixHooks[i];o||(this.fixHooks[i]=o=G.test(i)?this.mouseHooks:Q.test(i)?this.keyHooks:{}),r=o.props?this.props.concat(o.props):this.props,e=new h.Event(s),t=r.length;while(t--)n=r[t],e[n]=s[n];return e.target||(e.target=s.srcElement||T),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,o.filter?o.filter(e,s):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,s=t.button,o=t.fromElement;return null==e.pageX&&null!=t.clientX&&(r=e.target.ownerDocument||T,i=r.documentElement,n=r.body,e.pageX=t.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&o&&(e.relatedTarget=o===e.target?t.toElement:o),e.which||void 0===s||(e.which=1&s?1:2&s?3:4&s?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==nt()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===nt()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return h.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return h.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=h.extend(new h.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?h.event.trigger(i,null,t):h.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},h.removeEvent=T.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===B&&(e[r]=null),e.detachEvent(r,n))},h.Event=function(e,t){return this instanceof h.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?et:tt):this.type=e,t&&h.extend(this,t),this.timeStamp=e&&e.timeStamp||h.now(),void (this[h.expando]=!0)):new h.Event(e,t)},h.Event.prototype={isDefaultPrevented:tt,isPropagationStopped:tt,isImmediatePropagationStopped:tt,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=et,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=et,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=et,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},h.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){h.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,s=e.handleObj;return(!i||i!==r&&!h.contains(r,i))&&(e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t),n}}}),l.submitBubbles||(h.event.special.submit={setup:function(){return h.nodeName(this,"form")?!1:void h.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=h.nodeName(t,"input")||h.nodeName(t,"button")?t.form:void 0;n&&!h._data(n,"submitBubbles")&&(h.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),h._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&h.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return h.nodeName(this,"form")?!1:void h.event.remove(this,"._submit")}}),l.changeBubbles||(h.event.special.change={setup:function(){return K.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(h.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),h.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),h.event.simulate("change",this,e,!0)})),!1):void h.event.add(this,"beforeactivate._change",function(e){var t=e.target;K.test(t.nodeName)&&!h._data(t,"changeBubbles")&&(h.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||h.event.simulate("change",this.parentNode,e,!0)}),h._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return h.event.remove(this,"._change"),!K.test(this.nodeName)}}),l.focusinBubbles||h.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){h.event.simulate(t,e.target,h.event.fix(e),!0)};h.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=h._data(r,t);i||r.addEventListener(e,n,!0),h._data(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=h._data(r,t)-1;i?h._data(r,t,i):(r.removeEventListener(e,n,!0),h._removeData(r,t))}}}),h.fn.extend({on:function(e,t,n,r,i){var s,o;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(s in e)this.on(s,t,n,e[s],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),r===!1)r=tt;else if(!r)return this;return 1===i&&(o=r,r=function(e){return h().off(e),o.apply(this,arguments)},r.guid=o.guid||(o.guid=h.guid++)),this.each(function(){h.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,h(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=tt),this.each(function(){h.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){h.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?h.event.trigger(e,t,n,!0):void 0}});var it="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",st=/ jQuery\d+="(?:null|\d+)"/g,ot=new RegExp("<(?:"+it+")[\\s/>]","i"),ut=/^\s+/,at=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ft=/<([\w:]+)/,lt=/<tbody/i,ct=/<|&#?\w+;/,ht=/<(?:script|style|link)/i,pt=/checked\s*(?:[^=]|=\s*.checked.)/i,dt=/^$|\/(?:java|ecma)script/i,vt=/^true\/(.*)/,mt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,gt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:l.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},yt=rt(T),bt=yt.appendChild(T.createElement("div"));gt.optgroup=gt.option,gt.tbody=gt.tfoot=gt.colgroup=gt.caption=gt.thead,gt.th=gt.td,h.extend({clone:function(e,t,n){var r,i,s,o,u,a=h.contains(e.ownerDocument,e);if(l.html5Clone||h.isXMLDoc(e)||!ot.test("<"+e.nodeName+">")?s=e.cloneNode(!0):(bt.innerHTML=e.outerHTML,bt.removeChild(s=bt.firstChild)),!(l.noCloneEvent&&l.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||h.isXMLDoc(e)))for(r=wt(s),u=wt(e),o=0;null!=(i=u[o]);++o)r[o]&&kt(i,r[o]);if(t)if(n)for(u=u||wt(e),r=r||wt(s),o=0;null!=(i=u[o]);o++)Ct(i,r[o]);else Ct(e,s);return r=wt(s,"script"),r.length>0&&Nt(r,!a&&wt(e,"script")),r=u=i=null,s},buildFragment:function(e,t,n,r){for(var i,s,o,u,a,f,c,p=e.length,d=rt(t),v=[],m=0;p>m;m++)if(s=e[m],s||0===s)if("object"===h.type(s))h.merge(v,s.nodeType?[s]:s);else if(ct.test(s)){u=u||d.appendChild(t.createElement("div")),a=(ft.exec(s)||["",""])[1].toLowerCase(),c=gt[a]||gt._default,u.innerHTML=c[1]+s.replace(at,"<$1></$2>")+c[2],i=c[0];while(i--)u=u.lastChild;if(!l.leadingWhitespace&&ut.test(s)&&v.push(t.createTextNode(ut.exec(s)[0])),!l.tbody){s="table"!==a||lt.test(s)?"<table>"!==c[1]||lt.test(s)?0:u:u.firstChild,i=s&&s.childNodes.length;while(i--)h.nodeName(f=s.childNodes[i],"tbody")&&!f.childNodes.length&&s.removeChild(f)}h.merge(v,u.childNodes),u.textContent="";while(u.firstChild)u.removeChild(u.firstChild);u=d.lastChild}else v.push(t.createTextNode(s));u&&d.removeChild(u),l.appendChecked||h.grep(wt(v,"input"),Et),m=0;while(s=v[m++])if((!r||-1===h.inArray(s,r))&&(o=h.contains(s.ownerDocument,s),u=wt(d.appendChild(s),"script"),o&&Nt(u),n)){i=0;while(s=u[i++])dt.test(s.type||"")&&n.push(s)}return u=null,d},cleanData:function(e,t){for(var r,i,s,o,u=0,a=h.expando,f=h.cache,c=l.deleteExpando,p=h.event.special;null!=(r=e[u]);u++)if((t||h.acceptData(r))&&(s=r[a],o=s&&f[s])){if(o.events)for(i in o.events)p[i]?h.event.remove(r,i):h.removeEvent(r,i,o.handle);f[s]&&(delete f[s],c?delete r[a]:typeof r.removeAttribute!==B?r.removeAttribute(a):r[a]=null,n.push(s))}}}),h.fn.extend({text:function(e){return $(this,function(e){return void 0===e?h.text(this):this.empty().append((this[0]&&this[0].ownerDocument||T).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=St(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=St(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?h.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||h.cleanData(wt(n)),n.parentNode&&(t&&h.contains(n.ownerDocument,n)&&Nt(wt(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){1===e.nodeType&&h.cleanData(wt(e,!1));while(e.firstChild)e.removeChild(e.firstChild);e.options&&h.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return h.clone(this,e,t)})},html:function(e){return $(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(st,""):void 0;if(!("string"!=typeof e||ht.test(e)||!l.htmlSerialize&&ot.test(e)||!l.leadingWhitespace&&ut.test(e)||gt[(ft.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(at,"<$1></$2>");try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(h.cleanData(wt(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,h.cleanData(wt(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=i.apply([],e);var n,r,s,o,u,a,f=0,c=this.length,p=this,d=c-1,v=e[0],m=h.isFunction(v);if(m||c>1&&"string"==typeof v&&!l.checkClone&&pt.test(v))return this.each(function(n){var r=p.eq(n);m&&(e[0]=v.call(this,n,r.html())),r.domManip(e,t)});if(c&&(a=h.buildFragment(e,this[0].ownerDocument,!1,this),n=a.firstChild,1===a.childNodes.length&&(a=n),n)){for(o=h.map(wt(a,"script"),xt),s=o.length;c>f;f++)r=a,f!==d&&(r=h.clone(r,!0,!0),s&&h.merge(o,wt(r,"script"))),t.call(this[f],r,f);if(s)for(u=o[o.length-1].ownerDocument,h.map(o,Tt),f=0;s>f;f++)r=o[f],dt.test(r.type||"")&&!h._data(r,"globalEval")&&h.contains(u,r)&&(r.src?h._evalUrl&&h._evalUrl(r.src):h.globalEval((r.text||r.textContent||r.innerHTML||"").replace(mt,"")));a=n=null}return this}}),h.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){h.fn[e]=function(e){for(var n,r=0,i=[],o=h(e),u=o.length-1;u>=r;r++)n=r===u?this:this.clone(!0),h(o[r])[t](n),s.apply(i,n.get());return this.pushStack(i)}});var Lt,At={};!function(){var e;l.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,n,r;return n=T.getElementsByTagName("body")[0],n&&n.style?(t=T.createElement("div"),r=T.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),typeof t.style.zoom!==B&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(T.createElement("div")).style.width="5px",e=3!==t.offsetWidth),n.removeChild(r),e):void 0}}();var _t=/^margin/,Dt=new RegExp("^("+W+")(?!px)[a-z%]+$","i"),Pt,Ht,Bt=/^(top|right|bottom|left)$/;e.getComputedStyle?(Pt=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)},Ht=function(e,t,n){var r,i,s,o,u=e.style;return n=n||Pt(e),o=n?n.getPropertyValue(t)||n[t]:void 0,n&&(""!==o||h.contains(e.ownerDocument,e)||(o=h.style(e,t)),Dt.test(o)&&_t.test(t)&&(r=u.width,i=u.minWidth,s=u.maxWidth,u.minWidth=u.maxWidth=u.width=o,o=n.width,u.width=r,u.minWidth=i,u.maxWidth=s)),void 0===o?o:o+""}):T.documentElement.currentStyle&&(Pt=function(e){return e.currentStyle},Ht=function(e,t,n){var r,i,s,o,u=e.style;return n=n||Pt(e),o=n?n[t]:void 0,null==o&&u&&u[t]&&(o=u[t]),Dt.test(o)&&!Bt.test(t)&&(r=u.left,i=e.runtimeStyle,s=i&&i.left,s&&(i.left=e.currentStyle.left),u.left="fontSize"===t?"1em":o,o=u.pixelLeft+"px",u.left=r,s&&(i.left=s)),void 0===o?o:o+""||"auto"}),!function(){var t,n,r,i,s,o,u;if(t=T.createElement("div"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",r=t.getElementsByTagName("a")[0],n=r&&r.style){n.cssText="float:left;opacity:.5",l.opacity="0.5"===n.opacity,l.cssFloat=!!n.cssFloat,t.style.backgroundClip="content-box",t.cloneNode(!0).style.backgroundClip="",l.clearCloneStyle="content-box"===t.style.backgroundClip,l.boxSizing=""===n.boxSizing||""===n.MozBoxSizing||""===n.WebkitBoxSizing,h.extend(l,{reliableHiddenOffsets:function(){return null==o&&a(),o},boxSizingReliable:function(){return null==s&&a(),s},pixelPosition:function(){return null==i&&a(),i},reliableMarginRight:function(){return null==u&&a(),u}});function a(){var t,n,r,a;n=T.getElementsByTagName("body")[0],n&&n.style&&(t=T.createElement("div"),r=T.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",i=s=!1,u=!0,e.getComputedStyle&&(i="1%"!==(e.getComputedStyle(t,null)||{}).top,s="4px"===(e.getComputedStyle(t,null)||{width:"4px"}).width,a=t.appendChild(T.createElement("div")),a.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",a.style.marginRight=a.style.width="0",t.style.width="1px",u=!parseFloat((e.getComputedStyle(a,null)||{}).marginRight),t.removeChild(a)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",a=t.getElementsByTagName("td"),a[0].style.cssText="margin:0;border:0;padding:0;display:none",o=0===a[0].offsetHeight,o&&(a[0].style.display="",a[1].style.display="none",o=0===a[0].offsetHeight),n.removeChild(r))}}}(),h.swap=function(e,t,n,r){var i,s,o={};for(s in t)o[s]=e.style[s],e.style[s]=t[s];i=n.apply(e,r||[]);for(s in t)e.style[s]=o[s];return i};var Ft=/alpha\([^)]*\)/i,It=/opacity\s*=\s*([^)]*)/,qt=/^(none|table(?!-c[ea]).+)/,Rt=new RegExp("^("+W+")(.*)$","i"),Ut=new RegExp("^([+-])=("+W+")","i"),zt={position:"absolute",visibility:"hidden",display:"block"},Wt={letterSpacing:"0",fontWeight:"400"},Xt=["Webkit","O","Moz","ms"];h.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ht(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":l.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,s,o,u=h.camelCase(t),a=e.style;if(t=h.cssProps[u]||(h.cssProps[u]=Vt(a,u)),o=h.cssHooks[t]||h.cssHooks[u],void 0===n)return o&&"get"in o&&void 0!==(i=o.get(e,!1,r))?i:a[t];if(s=typeof n,"string"===s&&(i=Ut.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(h.css(e,t)),s="number"),null!=n&&n===n&&("number"!==s||h.cssNumber[u]||(n+="px"),l.clearCloneStyle||""!==n||0!==t.indexOf("background")||(a[t]="inherit"),!(o&&"set"in o&&void 0===(n=o.set(e,n,r)))))try{a[t]=n}catch(f){}}},css:function(e,t,n,r){var i,s,o,u=h.camelCase(t);return t=h.cssProps[u]||(h.cssProps[u]=Vt(e.style,u)),o=h.cssHooks[t]||h.cssHooks[u],o&&"get"in o&&(s=o.get(e,!0,n)),void 0===s&&(s=Ht(e,t,r)),"normal"===s&&t in Wt&&(s=Wt[t]),""===n||n?(i=parseFloat(s),n===!0||h.isNumeric(i)?i||0:s):s}}),h.each(["height","width"],function(e,t){h.cssHooks[t]={get:function(e,n,r){return n?qt.test(h.css(e,"display"))&&0===e.offsetWidth?h.swap(e,zt,function(){return Qt(e,t,r)}):Qt(e,t,r):void 0},set:function(e,n,r){var i=r&&Pt(e);return Jt(e,n,r?Kt(e,t,r,l.boxSizing&&"border-box"===h.css(e,"boxSizing",!1,i),i):0)}}}),l.opacity||(h.cssHooks.opacity={get:function(e,t){return It.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=h.isNumeric(t)?"alpha(opacity="+100*t+")":"",s=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===h.trim(s.replace(Ft,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=Ft.test(s)?s.replace(Ft,i):s+" "+i)}}),h.cssHooks.marginRight=jt(l.reliableMarginRight,function(e,t){return t?h.swap(e,{display:"inline-block"},Ht,[e,"marginRight"]):void 0}),h.each({margin:"",padding:"",border:"Width"},function(e,t){h.cssHooks[e+t]={expand:function(n){for(var r=0,i={},s="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+X[r]+t]=s[r]||s[r-2]||s[0];return i}},_t.test(e)||(h.cssHooks[e+t].set=Jt)}),h.fn.extend({css:function(e,t){return $(this,function(e,t,n){var r,i,s={},o=0;if(h.isArray(t)){for(r=Pt(e),i=t.length;i>o;o++)s[t[o]]=h.css(e,t[o],!1,r);return s}return void 0!==n?h.style(e,t,n):h.css(e,t)},e,t,arguments.length>1)},show:function(){return $t(this,!0)},hide:function(){return $t(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){V(this)?h(this).show():h(this).hide()})}}),h.Tween=Gt,Gt.prototype={constructor:Gt,init:function(e,t,n,r,i,s){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=s||(h.cssNumber[n]?"":"px")},cur:function(){var e=Gt.propHooks[this.prop];return e&&e.get?e.get(this):Gt.propHooks._default.get(this)},run:function(e){var t,n=Gt.propHooks[this.prop];return this.options.duration?this.pos=t=h.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Gt.propHooks._default.set(this),this}},Gt.prototype.init.prototype=Gt.prototype,Gt.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=h.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){h.fx.step[e.prop]?h.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[h.cssProps[e.prop]]||h.cssHooks[e.prop])?h.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},Gt.propHooks.scrollTop=Gt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},h.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},h.fx=Gt.prototype.init,h.fx.step={};var Yt,Zt,en=/^(?:toggle|show|hide)$/,tn=new RegExp("^(?:([+-])=|)("+W+")([a-z%]*)$","i"),nn=/queueHooks$/,rn=[fn],sn={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=tn.exec(t),s=i&&i[3]||(h.cssNumber[e]?"":"px"),o=(h.cssNumber[e]||"px"!==s&&+r)&&tn.exec(h.css(n.elem,e)),u=1,a=20;if(o&&o[3]!==s){s=s||o[3],i=i||[],o=+r||1;do u=u||".5",o/=u,h.style(n.elem,e,o+s);while(u!==(u=n.cur()/r)&&1!==u&&--a)}return i&&(o=n.start=+o||+r||0,n.unit=s,n.end=i[1]?o+(i[1]+1)*i[2]:+i[2]),n}]};h.Animation=h.extend(cn,{tweener:function(e,t){h.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],sn[n]=sn[n]||[],sn[n].unshift(t)},prefilter:function(e,t){t?rn.unshift(e):rn.push(e)}}),h.speed=function(e,t,n){var r=e&&"object"==typeof e?h.extend({},e):{complete:n||!n&&t||h.isFunction(e)&&e,duration:e,easing:n&&t||t&&!h.isFunction(t)&&t};return r.duration=h.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in h.fx.speeds?h.fx.speeds[r.duration]:h.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){h.isFunction(r.old)&&r.old.call(this),r.queue&&h.dequeue(this,r.queue)},r},h.fn.extend({fadeTo:function(e,t,n,r){return this.filter(V).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=h.isEmptyObject(e),s=h.speed(t,n,r),o=function(){var t=cn(this,h.extend({},e),s);(i||h._data(this,"finish"))&&t.stop(!0)};return o.finish=o,i||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",s=h.timers,o=h._data(this);if(i)o[i]&&o[i].stop&&r(o[i]);else for(i in o)o[i]&&o[i].stop&&nn.test(i)&&r(o[i]);for(i=s.length;i--;)s[i].elem!==this||null!=e&&s[i].queue!==e||(s[i].anim.stop(n),t=!1,s.splice(i,1));(t||!n)&&h.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=h._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],s=h.timers,o=r?r.length:0;for(n.finish=!0,h.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;o>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),h.each(["toggle","show","hide"],function(e,t){var n=h.fn[t];h.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(un(t,!0),e,r,i)}}),h.each({slideDown:un("show"),slideUp:un("hide"),slideToggle:un("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){h.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),h.timers=[],h.fx.tick=function(){var e,t=h.timers,n=0;for(Yt=h.now();n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||h.fx.stop(),Yt=void 0},h.fx.timer=function(e){h.timers.push(e),e()?h.fx.start():h.timers.pop()},h.fx.interval=13,h.fx.start=function(){Zt||(Zt=setInterval(h.fx.tick,h.fx.interval))},h.fx.stop=function(){clearInterval(Zt),Zt=null},h.fx.speeds={slow:600,fast:200,_default:400},h.fn.delay=function(e,t){return e=h.fx?h.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e,t,n,r,i;t=T.createElement("div"),t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",r=t.getElementsByTagName("a")[0],n=T.createElement("select"),i=n.appendChild(T.createElement("option")),e=t.getElementsByTagName("input")[0],r.style.cssText="top:1px",l.getSetAttribute="t"!==t.className,l.style=/top/.test(r.getAttribute("style")),l.hrefNormalized="/a"===r.getAttribute("href"),l.checkOn=!!e.value,l.optSelected=i.selected,l.enctype=!!T.createElement("form").enctype,n.disabled=!0,l.optDisabled=!i.disabled,e=T.createElement("input"),e.setAttribute("value",""),l.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),l.radioValue="t"===e.value}();var hn=/\r/g;h.fn.extend({val:function(e){var t,n,r,i=this[0];if(arguments.length)return r=h.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,h(this).val()):e,null==i?i="":"number"==typeof i?i+="":h.isArray(i)&&(i=h.map(i,function(e){return null==e?"":e+""})),t=h.valHooks[this.type]||h.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return t=h.valHooks[i.type]||h.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(hn,""):null==n?"":n)}}),h.extend({valHooks:{option:{get:function(e){var t=h.find.attr(e,"value");return null!=t?t:h.trim(h.text(e))}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,s="select-one"===e.type||0>i,o=s?null:[],u=s?i+1:r.length,a=0>i?u:s?i:0;u>a;a++)if(n=r[a],!(!n.selected&&a!==i||(l.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&h.nodeName(n.parentNode,"optgroup"))){if(t=h(n).val(),s)return t;o.push(t)}return o},set:function(e,t){var n,r,i=e.options,s=h.makeArray(t),o=i.length;while(o--)if(r=i[o],h.inArray(h.valHooks.option.get(r),s)>=0)try{r.selected=n=!0}catch(u){r.scrollHeight}else r.selected=!1;return n||(e.selectedIndex=-1),i}}}}),h.each(["radio","checkbox"],function(){h.valHooks[this]={set:function(e,t){return h.isArray(t)?e.checked=h.inArray(h(e).val(),t)>=0:void 0}},l.checkOn||(h.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var pn,dn,vn=h.expr.attrHandle,mn=/^(?:checked|selected)$/i,gn=l.getSetAttribute,yn=l.input;h.fn.extend({attr:function(e,t){return $(this,h.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){h.removeAttr(this,e)})}}),h.extend({attr:function(e,t,n){var r,i,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return typeof e.getAttribute===B?h.prop(e,t,n):(1===s&&h.isXMLDoc(e)||(t=t.toLowerCase(),r=h.attrHooks[t]||(h.expr.match.bool.test(t)?dn:pn)),void 0===n?r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=h.find.attr(e,t),null==i?void 0:i):null!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void h.removeAttr(e,t))},removeAttr:function(e,t){var n,r,i=0,s=t&&t.match(O);if(s&&1===e.nodeType)while(n=s[i++])r=h.propFix[n]||n,h.expr.match.bool.test(n)?yn&&gn||!mn.test(n)?e[r]=!1:e[h.camelCase("default-"+n)]=e[r]=!1:h.attr(e,n,""),e.removeAttribute(gn?n:r)},attrHooks:{type:{set:function(e,t){if(!l.radioValue&&"radio"===t&&h.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),dn={set:function(e,t,n){return t===!1?h.removeAttr(e,n):yn&&gn||!mn.test(n)?e.setAttribute(!gn&&h.propFix[n]||n,n):e[h.camelCase("default-"+n)]=e[n]=!0,n}},h.each(h.expr.match.bool.source.match(/\w+/g),function(e,t){var n=vn[t]||h.find.attr;vn[t]=yn&&gn||!mn.test(t)?function(e,t,r){var i,s;return r||(s=vn[t],vn[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,vn[t]=s),i}:function(e,t,n){return n?void 0:e[h.camelCase("default-"+t)]?t.toLowerCase():null}}),yn&&gn||(h.attrHooks.value={set:function(e,t,n){return h.nodeName(e,"input")?void (e.defaultValue=t):pn&&pn.set(e,t,n)}}),gn||(pn={set:function(e,t,n){var r=e.getAttributeNode(n);return r||e.setAttributeNode(r=e.ownerDocument.createAttribute(n)),r.value=t+="","value"===n||t===e.getAttribute(n)?t:void 0}},vn.id=vn.name=vn.coords=function(e,t,n){var r;return n?void 0:(r=e.getAttributeNode(t))&&""!==r.value?r.value:null},h.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:void 0},set:pn.set},h.attrHooks.contenteditable={set:function(e,t,n){pn.set(e,""===t?!1:t,n)}},h.each(["width","height"],function(e,t){h.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}})),l.style||(h.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var bn=/^(?:input|select|textarea|button|object)$/i,wn=/^(?:a|area)$/i;h.fn.extend({prop:function(e,t){return $(this,h.prop,e,t,arguments.length>1)},removeProp:function(e){return e=h.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),h.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,i,s,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return s=1!==o||!h.isXMLDoc(e),s&&(t=h.propFix[t]||t,i=h.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=h.find.attr(e,"tabindex");return t?parseInt(t,10):bn.test(e.nodeName)||wn.test(e.nodeName)&&e.href?0:-1}}}}),l.hrefNormalized||h.each(["href","src"],function(e,t){h.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),l.optSelected||(h.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),h.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){h.propFix[this.toLowerCase()]=this}),l.enctype||(h.propFix.enctype="encoding");var En=/[\t\r\n\f]/g;h.fn.extend({addClass:function(e){var t,n,r,i,s,o,u=0,a=this.length,f="string"==typeof e&&e;if(h.isFunction(e))return this.each(function(t){h(this).addClass(e.call(this,t,this.className))});if(f)for(t=(e||"").match(O)||[];a>u;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(En," "):" ")){s=0;while(i=t[s++])r.indexOf(" "+i+" ")<0&&(r+=i+" ");o=h.trim(r),n.className!==o&&(n.className=o)}return this},removeClass:function(e){var t,n,r,i,s,o,u=0,a=this.length,f=0===arguments.length||"string"==typeof e&&e;if(h.isFunction(e))return this.each(function(t){h(this).removeClass(e.call(this,t,this.className))});if(f)for(t=(e||"").match(O)||[];a>u;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(En," "):"")){s=0;while(i=t[s++])while(r.indexOf(" "+i+" ")>=0)r=r.replace(" "+i+" "," ");o=e?h.trim(r):"",n.className!==o&&(n.className=o)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(h.isFunction(e)?function(n){h(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n){var t,r=0,i=h(this),s=e.match(O)||[];while(t=s[r++])i.hasClass(t)?i.removeClass(t):i.addClass(t)}else(n===B||"boolean"===n)&&(this.className&&h._data(this,"__className__",this.className),this.className=this.className||e===!1?"":h._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(En," ").indexOf(t)>=0)return!0;return!1}}),h.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){h.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),h.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var Sn=h.now(),xn=/\?/,Tn=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;h.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,r=null,i=h.trim(t+"");return i&&!h.trim(i.replace(Tn,function(e,t,i,s){return n&&t&&(r=0),0===r?e:(n=i||t,r+=!s-!i,"")}))?Function("return "+i)():h.error("Invalid JSON: "+t)},h.parseXML=function(t){var n,r;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(r=new DOMParser,n=r.parseFromString(t,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t))}catch(i){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||h.error("Invalid XML: "+t),n};var Nn,Cn,kn=/#.*$/,Ln=/([?&])_=[^&]*/,An=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,On=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Mn=/^(?:GET|HEAD)$/,_n=/^\/\//,Dn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Pn={},Hn={},Bn="*/".concat("*");try{Cn=location.href}catch(jn){Cn=T.createElement("a"),Cn.href="",Cn=Cn.href}Nn=Dn.exec(Cn.toLowerCase())||[],h.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Cn,type:"GET",isLocal:On.test(Nn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Bn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":h.parseJSON,"text xml":h.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?qn(qn(e,h.ajaxSettings),t):qn(h.ajaxSettings,e)},ajaxPrefilter:Fn(Pn),ajaxTransport:Fn(Hn),ajax:function(e,t){function x(e,t,n,r){var f,g,y,w,S,x=t;2!==b&&(b=2,o&&clearTimeout(o),a=void 0,s=r||"",E.readyState=e>0?4:0,f=e>=200&&300>e||304===e,n&&(w=Rn(l,E,n)),w=Un(l,w,E,f),f?(l.ifModified&&(S=E.getResponseHeader("Last-Modified"),S&&(h.lastModified[i]=S),S=E.getResponseHeader("etag"),S&&(h.etag[i]=S)),204===e||"HEAD"===l.type?x="nocontent":304===e?x="notmodified":(x=w.state,g=w.data,y=w.error,f=!y)):(y=x,(e||!x)&&(x="error",0>e&&(e=0))),E.status=e,E.statusText=(t||x)+"",f?d.resolveWith(c,[g,x,E]):d.rejectWith(c,[E,x,y]),E.statusCode(m),m=void 0,u&&p.trigger(f?"ajaxSuccess":"ajaxError",[E,l,f?g:y]),v.fireWith(c,[E,x]),u&&(p.trigger("ajaxComplete",[E,l]),--h.active||h.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,r,i,s,o,u,a,f,l=h.ajaxSetup({},t),c=l.context||l,p=l.context&&(c.nodeType||c.jquery)?h(c):h.event,d=h.Deferred(),v=h.Callbacks("once memory"),m=l.statusCode||{},g={},y={},b=0,w="canceled",E={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!f){f={};while(t=An.exec(s))f[t[1].toLowerCase()]=t[2]}t=f[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,g[e]=t),this},overrideMimeType:function(e){return b||(l.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)m[t]=[m[t],e[t]];else E.always(e[E.status]);return this},abort:function(e){var t=e||w;return a&&a.abort(t),x(0,t),this}};if(d.promise(E).complete=v.add,E.success=E.done,E.error=E.fail,l.url=((e||l.url||Cn)+"").replace(kn,"").replace(_n,Nn[1]+"//"),l.type=t.method||t.type||l.method||l.type,l.dataTypes=h.trim(l.dataType||"*").toLowerCase().match(O)||[""],null==l.crossDomain&&(n=Dn.exec(l.url.toLowerCase()),l.crossDomain=!(!n||n[1]===Nn[1]&&n[2]===Nn[2]&&(n[3]||("http:"===n[1]?"80":"443"))===(Nn[3]||("http:"===Nn[1]?"80":"443")))),l.data&&l.processData&&"string"!=typeof l.data&&(l.data=h.param(l.data,l.traditional)),In(Pn,l,t,E),2===b)return E;u=h.event&&l.global,u&&0===h.active++&&h.event.trigger("ajaxStart"),l.type=l.type.toUpperCase(),l.hasContent=!Mn.test(l.type),i=l.url,l.hasContent||(l.data&&(i=l.url+=(xn.test(i)?"&":"?")+l.data,delete l.data),l.cache===!1&&(l.url=Ln.test(i)?i.replace(Ln,"$1_="+Sn++):i+(xn.test(i)?"&":"?")+"_="+Sn++)),l.ifModified&&(h.lastModified[i]&&E.setRequestHeader("If-Modified-Since",h.lastModified[i]),h.etag[i]&&E.setRequestHeader("If-None-Match",h.etag[i])),(l.data&&l.hasContent&&l.contentType!==!1||t.contentType)&&E.setRequestHeader("Content-Type",l.contentType),E.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+("*"!==l.dataTypes[0]?", "+Bn+"; q=0.01":""):l.accepts["*"]);for(r in l.headers)E.setRequestHeader(r,l.headers[r]);if(!l.beforeSend||l.beforeSend.call(c,E,l)!==!1&&2!==b){w="abort";for(r in{success:1,error:1,complete:1})E[r](l[r]);if(a=In(Hn,l,t,E)){E.readyState=1,u&&p.trigger("ajaxSend",[E,l]),l.async&&l.timeout>0&&(o=setTimeout(function(){E.abort("timeout")},l.timeout));try{b=1,a.send(g,x)}catch(S){if(!(2>b))throw S;x(-1,S)}}else x(-1,"No Transport");return E}return E.abort()},getJSON:function(e,t,n){return h.get(e,t,n,"json")},getScript:function(e,t){return h.get(e,void 0,t,"script")}}),h.each(["get","post"],function(e,t){h[t]=function(e,n,r,i){return h.isFunction(n)&&(i=i||r,r=n,n=void 0),h.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),h._evalUrl=function(e){return h.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},h.fn.extend({wrapAll:function(e){if(h.isFunction(e))return this.each(function(t){h(this).wrapAll(e.call(this,t))});if(this[0]){var t=h(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&1===e.firstChild.nodeType)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(h.isFunction(e)?function(t){h(this).wrapInner(e.call(this,t))}:function(){var t=h(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=h.isFunction(e);return this.each(function(n){h(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){h.nodeName(this,"body")||h(this).replaceWith(this.childNodes)}).end()}}),h.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!l.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||h.css(e,"display"))},h.expr.filters.visible=function(e){return!h.expr.filters.hidden(e)};var zn=/%20/g,Wn=/\[\]$/,Xn=/\r?\n/g,Vn=/^(?:submit|button|image|reset|file)$/i,$n=/^(?:input|select|textarea|keygen)/i;h.param=function(e,t){var n,r=[],i=function(e,t){t=h.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=h.ajaxSettings&&h.ajaxSettings.traditional),h.isArray(e)||e.jquery&&!h.isPlainObject(e))h.each(e,function(){i(this.name,this.value)});else for(n in e)Jn(n,e[n],t,i);return r.join("&").replace(zn,"+")},h.fn.extend({serialize:function(){return h.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=h.prop(this,"elements");return e?h.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!h(this).is(":disabled")&&$n.test(this.nodeName)&&!Vn.test(e)&&(this.checked||!J.test(e))}).map(function(e,t){var n=h(this).val();return null==n?null:h.isArray(n)?h.map(n,function(e){return{name:t.name,value:e.replace(Xn,"\r\n")}}):{name:t.name,value:n.replace(Xn,"\r\n")}}).get()}}),h.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&Yn()||Zn()}:Yn;var Kn=0,Qn={},Gn=h.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Qn)Qn[e](void 0,!0)}),l.cors=!!Gn&&"withCredentials"in Gn,Gn=l.ajax=!!Gn,Gn&&h.ajaxTransport(function(e){if(!e.crossDomain||l.cors){var t;return{send:function(n,r){var i,s=e.xhr(),o=++Kn;if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)s[i]=e.xhrFields[i];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)void 0!==n[i]&&s.setRequestHeader(i,n[i]+"");s.send(e.hasContent&&e.data||null),t=function(n,i){var u,a,f;if(t&&(i||4===s.readyState))if(delete Qn[o],t=void 0,s.onreadystatechange=h.noop,i)4!==s.readyState&&s.abort();else{f={},u=s.status,"string"==typeof s.responseText&&(f.text=s.responseText);try{a=s.statusText}catch(l){a=""}u||!e.isLocal||e.crossDomain?1223===u&&(u=204):u=f.text?200:404}f&&r(u,a,f,s.getAllResponseHeaders())},e.async?4===s.readyState?setTimeout(t):s.onreadystatechange=Qn[o]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),h.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return h.globalEval(e),e}}}),h.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),h.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=T.head||h("head")[0]||T.documentElement;return{send:function(r,i){t=T.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||i(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var er=[],tr=/(=)\?(?=&|$)|\?\?/;h.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=er.pop()||h.expando+"_"+Sn++;return this[e]=!0,e}}),h.ajaxPrefilter("json jsonp",function(t,n,r){var i,s,o,u=t.jsonp!==!1&&(tr.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&tr.test(t.data)&&"data");return u||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=h.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,u?t[u]=t[u].replace(tr,"$1"+i):t.jsonp!==!1&&(t.url+=(xn.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return o||h.error(i+" was not called"),o[0]},t.dataTypes[0]="json",s=e[i],e[i]=function(){o=arguments},r.always(function(){e[i]=s,t[i]&&(t.jsonpCallback=n.jsonpCallback,er.push(i)),o&&h.isFunction(s)&&s(o[0]),o=s=void 0}),"script"):void 0}),h.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||T;var r=w.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=h.buildFragment([e],t,i),i&&i.length&&h(i).remove(),h.merge([],r.childNodes))};var nr=h.fn.load;h.fn.load=function(e,t,n){if("string"!=typeof e&&nr)return nr.apply(this,arguments);var r,i,s,o=this,u=e.indexOf(" ");return u>=0&&(r=h.trim(e.slice(u,e.length)),e=e.slice(0,u)),h.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(s="POST"),o.length>0&&h.ajax({url:e,type:s,dataType:"html",data:t}).done(function(e){i=arguments,o.html(r?h("<div>").append(h.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){o.each(n,i||[e.responseText,t,e])}),this},h.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){h.fn[t]=function(e){return this.on(t,e)}}),h.expr.filters.animated=function(e){return h.grep(h.timers,function(t){return e===t.elem}).length};var rr=e.document.documentElement;h.offset={setOffset:function(e,t,n){var r,i,s,o,u,a,f,l=h.css(e,"position"),c=h(e),p={};"static"===l&&(e.style.position="relative"),u=c.offset(),s=h.css(e,"top"),a=h.css(e,"left"),f=("absolute"===l||"fixed"===l)&&h.inArray("auto",[s,a])>-1,f?(r=c.position(),o=r.top,i=r.left):(o=parseFloat(s)||0,i=parseFloat(a)||0),h.isFunction(t)&&(t=t.call(e,n,u)),null!=t.top&&(p.top=t.top-u.top+o),null!=t.left&&(p.left=t.left-u.left+i),"using"in t?t.using.call(e,p):c.css(p)}},h.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){h.offset.setOffset(this,e,t)});var t,n,r={top:0,left:0},i=this[0],s=i&&i.ownerDocument;if(s)return t=s.documentElement,h.contains(t,i)?(typeof i.getBoundingClientRect!==B&&(r=i.getBoundingClientRect()),n=ir(s),{top:r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):r},position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===h.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),h.nodeName(e[0],"html")||(n=e.offset()),n.top+=h.css(e[0],"borderTopWidth",!0),n.left+=h.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-h.css(r,"marginTop",!0),left:t.left-n.left-h.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||rr;while(e&&!h.nodeName(e,"html")&&"static"===h.css(e,"position"))e=e.offsetParent;return e||rr})}}),h.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);h.fn[e]=function(r){return $(this,function(e,r,i){var s=ir(e);return void 0===i?s?t in s?s[t]:s.document.documentElement[r]:e[r]:void (s?s.scrollTo(n?h(s).scrollLeft():i,n?i:h(s).scrollTop()):e[r]=i)},e,r,arguments.length,null)}}),h.each(["top","left"],function(e,t){h.cssHooks[t]=jt(l.pixelPosition,function(e,n){return n?(n=Ht(e,t),Dt.test(n)?h(e).position()[t]+"px":n):void 0})}),h.each({Height:"height",Width:"width"},function(e,t){h.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){h.fn[r]=function(r,i){var s=arguments.length&&(n||"boolean"!=typeof r),o=n||(r===!0||i===!0?"margin":"border");return $(this,function(t,n,r){var i;return h.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?h.css(t,n,o):h.style(t,n,r,o)},t,s?r:void 0,s,null)}})}),h.fn.size=function(){return this.length},h.fn.andSelf=h.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return h});var sr=e.jQuery,or=e.$;return h.noConflict=function(t){return e.$===h&&(e.$=or),t&&e.jQuery===h&&(e.jQuery=sr),h},typeof t===B&&(e.jQuery=e.$=h),h});var WQ=WQ||{};WQ.goTop=function(){$(document).scrollTop()>100?$(".fixed-btn .go-top").removeClass("hide-go-top"):$(".fixed-btn .go-top").addClass("hide-go-top"),$(".fixed-btn .go-top").on("click",function(){$(document).scrollTop(0)})},WQ.timeFormat=function(e){e=e?parseInt(e)*1e3:!1;if(!e)return!1;var t=new Date,n=new Date(e),r=n.getFullYear(),i=n.getMonth()+1,s=n.getDate(),o=n.getHours(),u=n.getMinutes(),a=Math.floor(parseInt(t-n)/1e3/60);return i<10&&(i="0"+i),s<10&&(s="0"+s),o<10&&(o="0"+o),u<10&&(u="0"+u),a==0?"1 分钟内":a>0&&Math.floor(a/60)==0?a+" 分钟前":Math.floor(a/60)>0&&Math.floor(a/60/24)==0?Math.floor(a/60)+" 小时前":r+"/"+i+"/"+s+"  "+o+":"+u},WQ.trim=function(e){return String.prototype.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},WQ.isIE=navigator.appName=="Microsoft Internet Explorer",WQ.isIE8=WQ.isIE&&navigator.appVersion.match(/8./i)=="8.",WQ.loadScript=function(e,t,n){var n=n?n:"head",t=t?t:function(){},r=null;r=document.createElement("script"),r.type="text/javascript",r.src=e+".js",WQ.isIE8?r.onreadystatechange=function(){r.readyState&&(r.readyState=="loaded"||r.readyState=="complete")&&(r.onreadystatechange=null,t())}:r.onload=function(){t()},n==="head"?document.getElementsByTagName("head")[0].appendChild(r):document.body.appendChild(r)},WQ.isArray=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"},WQ.toArray=function(e){return Array.prototype.slice.call(e)},WQ.inArray=function(e,t){var n=!1;for(var r=0;r<t.length;r++)if(t[r]==WQ.trim(e))var n=!0;return n},WQ.cookie={utils:{isPlainObject:function(e){return!!e&&Object.prototype.toString.call(e)==="[object Object]"},getKeys:Object.keys||function(e){var t=[],n="";for(n in e)e.hasOwnProperty(n)&&t.push(n);return t},escape:function(e){return String(e).replace(/[,;"\\=\s%]/g,function(e){return encodeURIComponent(e)})},retrieve:function(e,t){return e==null?t:e}},defaults:{},expiresMultiplier:3600,set:function(e,t,n){var r=this;if(r.utils.isPlainObject(e))for(k in e)e.hasOwnProperty(k)&&r.set(k,e[k],t);else{n=r.utils.isPlainObject(n)?n:{expires:n};var i=n.expires!==undefined?n.expires:r.defaults.expires||"",s=typeof i;s==="string"&&i!=""?i=new Date(i):s==="number"&&(i=new Date(+(new Date)+1e3*r.expiresMultiplier*i)),i!==""&&"toGMTString"in i&&(i=";expires="+i.toGMTString());var o=n.path||this.defaults.path;o=o?";path="+o:";path=/";var u=n.domain||this.defaults.domain;u=u?";domain="+u:"";var a=n.secure||this.defaults.secure?";secure":"";document.cookie=r.utils.escape(e)+"="+r.utils.escape(t)+i+o+u+a}return r},get:function(e,t){var n=this;t=t||undefined;var r=n.all();if(WQ.isArray(e)){var i={};for(var s=0,o=e.length;s<o;s++){var u=e[s];i[u]=n.utils.retrieve(r[u],t)}return i}return r&&r[e]?n.utils.retrieve(r[e],t):!1},all:function(){if(document.cookie=="")return;var e=document.cookie.split("; "),t={};for(var n=0,r=e.length;n<r;n++){var i=e[n].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t},remove:function(e){e=WQ.isArray(e)?e:WQ.toArray(e);for(var t=0,n=e.length;t<n;t++)this.set(e[t],"",-1);return this},empty:function(){return this.remove(this.utils.getKeys(this.all()))},enabled:function(){if(navigator.cookieEnabled)return!0;var e=this.set("_","_").get("_")==="_";return this.remove("_"),e}},typeof define=="function"&&define.amd&&define("WQ",[],function(){return WQ}),define("home/router-mixin",["react","jquery"],function(t,n){function o(e){url=f(window.location.href);if(url.search)var t=url.path+url.search;else var t=url.path;return t||"/"}function u(t){t=t||window.event||e;var n=t.target||t.srcElement;while(n&&n.nodeName!=="A")n=n.parentNode;if(!n)return;if(t.metaKey||t.ctrlKey||t.shiftKey)return;if(t.button!==0)return;if(n.target&&n.target!=="_self")return;if(!n.attributes.download){var r=f(n.href),i=f(window.location.href);if(r.protocol!==i.protocol||r.host!==i.host)return;return t.preventDefault?t.preventDefault():t.returnValue=!1,r}return}function a(e,t,n){var r=[],i,o,u,a;for(i in t)t.hasOwnProperty(i)&&(keys=[],o=s(e+i,keys),u=t[i],a=n[u],r.push({pattern:o,params:keys,handler:a}));return r}function f(e){var t=/^(?:(?:([^:\/?\#]+:)\/+|(\/\/))(?:([a-z0-9-\._~%]+)(?::([a-z0-9-\._~%]+))?@)?(([a-z0-9-\._~%!$&'()*+,;=]+)(?::([0-9]+))?)?)?([^?\#]*?)(\?[^\#]*)?(\#.*)?$/,n=e.toString().match(t),r=n[8]||"";return{source:n[0],protocol:n[1],username:n[3],password:n[4],hostname:n[6],port:n[7],path:n[1]&&r.charAt(0)!=="/"?"/"+r:r,search:n[9],hash:n[10],isSchemeRelative:n[2]!=null}}function l(e){var t={};e=e?e:"",e.indexOf("?")===0&&(e=e.slice(1));var n=e.split("&");return n.forEach(function(e){var n=e.split("=");t[n[0]]=n[1]}),t}var r={path:t.PropTypes.string,root:t.PropTypes.string,useHistory:t.PropTypes.bool},i={getDefaultProps:function(){return{routes:{}}},getInitialState:function(){return{path:o(this),root:this.props.root||"",useHistory:window.history&&"pushState"in window.history}},componentWillMount:function(){this.setState({_routes:a(this.state.root,this.routes,this)})},componentDidMount:function(){window.addEventListener?this.getDOMNode().addEventListener("click",this.handleClick,!1):this.getDOMNode().attachEvent("onClick",this.handleClick),this.state.useHistory?window.onpopstate=this.onPopState:window.onhaschenge=this.onPopState},componentWillUnmount:function(){},onPopState:function(){var e=f(window.location.href),t=e.hash||"",n=this.state.useHistory?e.path:t.slice(2);n.length===0&&(n="/"),this.setState({path:n+e.search})},renderCurrentRoute:function(){var e=this.state.path,t=f(e),n=l(t.search),r=t.path;if(!r||r.length===0)r="/";var i=this.matchRoute(r);if(i)return console.log(i.params.concat(n)),i.handler.apply(this,i.params.concat(n));if(this.notFound)return this.notFound(r);throw new Error("No route matched path: "+r)},handleClick:function(e){var t=this,n=u(e);n&&t.matchRoute(n.path)&&(e.preventDefault?e.preventDefault():e.returnValue=!1,setTimeout(function(){var e=n.path+(n.search||"");e.length===0&&(e="/"),t.state.useHistory?window.history.pushState({},"",e):window.location.hash="!"+e,t.setState({path:e})},0))},matchRoute:function(e){if(!e)return!1;var t={};return this.state._routes.some(function(n){var r=n.pattern.exec(e);return r?(t.handler=n.handler,t.params=r.slice(1,n.params.length+1),!0):!1}),t.handler?t:!1}},s=function(e,t){return e=e.concat("/?").replace(/\/\(/g,"(?:/").replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?|\*/g,function(e,n,r,i,s,o){return e==="*"?(t.push(undefined),e):(t.push(i),n=n||"",""+(o?"":n)+"(?:"+(o?n:"")+(r||"")+(s||"([^/]+?)")+")"+(o||""))}).replace(/([\/.])/g,"\\$1").replace(/\*/g,"(.*)"),new RegExp("^"+e+"$","i")};return i}),define("home/model/base",["jquery"],function(e){var t={ajax:function(t,n,r,i){var s=this;t.indexOf("?")>-1?t=t+"&rand="+Math.random()*1+1e5:t=t+"?rand="+Math.random()*1+1e5,e.ajax(t,{headers:{Accept:"application/json; charset=utf-8"},method:n,data:r,success:function(e){i(!0,e)},error:function(e,t,n){try{i(!1,JSON.parse(e.responseText),e)}catch(r){console.log(r)}}})},handleStatus:function(e){return e.status==401?!0:!1},callbackWrapper:function(e){var t=this;return function(n,r,i){n?e(n,r,i):e(n,r,i)||t.handleStatus(i)}},get:function(e,t,n){this.ajax(e,"GET",t,this.callbackWrapper(n))},post:function(e,t,n){this.ajax(e,"POST",t,this.callbackWrapper(n))},put:function(e,t,n){this.ajax(e,"PUT",t,this.callbackWrapper(n))},del:function(e,t,n){this.ajax(e,"DELETE",t,this.callbackWrapper(n))}};return t}),define("home/model/userModel",["home/model/base","jquery"],function(e,t){var n={login:function(t,n){e.post("/sign_in",t,n)},register:function(t,n){e.post("/sign_up",{data:t},n)},getUserInfoByLogin:function(t){e.get("/user/me",{},t)},getUserInfoById:function(t,n){e.get("/user/"+t+"/info",{},n)},editUser:function(t,n,r){e.put("/user/"+t,{data:n},r)},modifyPassword:function(t,n,r){e.put("/user/"+t+"/password",{data:n},r)},signOut:function(t){e.get("/sign_out",{},t)},sendEmail:function(t,n){e.get("/email",{email:t},n)},getNews:function(t,n){e.get("/user/news",{data:t},n)},getNewsCount:function(t,n){e.get("/user/news/count",{uid:t},n)},updateNews:function(t,n){e.post("/user/news",{data:t},n)}};return n}),define("jqueryextend",["jquery"],function(e){e.fn.dropdown=function(){return this.each(function(){var t=e(this),n=t.parent();t.on("click",function(t){t.stopPropagation(),n.hasClass("open")?n.removeClass("open"):n.addClass("open"),e(document).on("click",function(e){n.removeClass("open")})})})},e.fn.tooltip=function(){return this.each(function(){var t=e(this),n=t.data("placement"),r=t.data("title"),i=e("<div>").addClass("tooltip").addClass(n).html(r);t.on("mouseenter",function(r){var r=event||window.event,s=t.offset().left,o=t.offset().top,u=i.outerWidth;e("body").append(i),i.addClass("fade");switch(n){case"left":var a=s-i.outerWidth(),f=o+t.outerHeight()/2-i.outerHeight()/2;break;case"right":var a=s+t.outerWidth(),f=o+t.outerHeight()/2-i.outerHeight()/2;break;case"top":var a=s+t.outerWidth()/2-i.outerWidth()/2,f=o-i.outerHeight();break;case"bottom":var a=s+t.outerWidth()/2-i.outerWidth()/2,f=o+t.outerHeight()}i.css({left:a+"px",top:f+"px"})}).on("mouseleave",function(){i.remove()})})}}),define("home/common/userDropMenu",["react","jquery","WQ","home/model/userModel","jqueryextend"],function(e,t,n,r){var i={init:function(){},getUserInfo:function(){var e=this,t=n.cookie.all();t?this.setState({userInfo:t,len:3}):r.getUserInfoByLogin(function(t,r){if(t)if(r.userInfo){var i={username:r.userInfo.username,id:r.userInfo.id,userUrl:r.userInfo.logo_dir!=null?r.userInfo.logo_dir:""};e.setState({userInfo:i,len:3}),n.cookie.set(i,1)}else e.setState({userInfo:[],len:0})})},componentDidMount:function(){this.getUserInfo()}},s=e.createClass({displayName:"Login",render:function(){return e.createElement("div",null,e.createElement("a",{className:"login",href:"/login/sign_up"},e.createElement("i",{className:"fa fa-user"}),e.createElement("span",null,"注册")),e.createElement("a",{className:"login",href:"/login/sign_in"},e.createElement("i",{className:"fa fa-sign-in"}),e.createElement("span",null,"登陆")))}}),o=e.createClass({displayName:"User",getInitialState:function(){return{userInfo:this.props.info,news:0}},componentWillReceiveProps:function(e){var t=this;t.setState({userInfo:e.info})},componentDidMount:function(){t(".dropdown").dropdown(),this.getNewsCount()},getNewsCount:function(){var e=this;r.getNewsCount(e.state.userInfo.id,function(t,n){t&&(n.error||e.setState({news:n.data}))}),setTimeout(function(){e.getNewsCount()},6e4)},handleClick:function(){r.signOut(function(e,t){e&&(t.error||(n.cookie.empty(),window.location.href="/"))})},render:function(){var t=this;return e.createElement("div",null,e.createElement("a",{className:"user avatar dropdown","data-toggle":"dropdown",href:"javascript:void(0);"},e.createElement("img",{src:t.state.userInfo.userUrl!=""?t.state.userInfo.userUrl:"/image/user-default.png"}),e.createElement("b",{className:"caret"}),this.state.news!=0?e.createElement("b",{className:"news"}):null),e.createElement("ul",{className:"dropdown-menu arrow-top"},e.createElement("li",null,e.createElement("a",{href:"/article/add"},e.createElement("i",{className:"fa fa-pencil"}),e.createElement("span",null,"写文章"))),e.createElement("li",null,e.createElement("a",{href:"/user/"+n.cookie.get("id")},e.createElement("i",{className:"fa fa-user"}),e.createElement("span",null,"我的主页"))),e.createElement("li",null,e.createElement("a",{href:"/user/"+n.cookie.get("id")+"/news"},e.createElement("i",{className:"fa fa-bell-o"}),e.createElement("span",null,"我的消息"),t.state.news!=0?e.createElement("span",{className:"news"}," ",t.state.news):null)),e.createElement("li",null,e.createElement("a",{href:"/user/"+n.cookie.get("id")+"/draft"},e.createElement("i",{className:"fa fa-inbox"}),e.createElement("span",null,"我的草稿箱"))),e.createElement("li",null,e.createElement("a",{href:"/user/"+n.cookie.get("id")+"/store"},e.createElement("i",{className:"fa fa-bookmark"}),e.createElement("span",null,"我的收藏"))),e.createElement("li",null,e.createElement("a",{href:"/user/"+n.cookie.get("id")+"/settings"},e.createElement("i",{className:"fa fa-cogs"}),e.createElement("span",null,"设置"))),n.cookie.get("id")==5?e.createElement("li",null,e.createElement("a",{href:"/user/"+n.cookie.get("id")+"/bugs"},e.createElement("i",{className:"fa fa-question-circle"}),e.createElement("span",null,"bug反馈"))):null,e.createElement("li",null,e.createElement("a",{"data-href":"/sign_out",onClick:this.handleClick},e.createElement("i",{className:"fa fa-sign-out"}),e.createElement("span",null,"退出")))))}});return e.createClass({mixins:[i],getInitialState:function(){return{userInfo:[],len:-1}},render:function(){var t=this,n=t.state.len;return e.createElement("div",{className:"drop-menu"},n>=0?n==0?e.createElement(s,null):e.createElement(o,{info:t.state.userInfo}):null)}})}),define("home/common/tooltip",["react","jquery"],function(e,t){var n=function(e){return new n.propotype.init(e)};return n.propotype={init:function(n){var r=e.createClass({displayName:"AlertBox",componentDidMount:function(){var n=this,r=t(n.getDOMNode());t("#mask").show(),r.css("margin-left",-parseInt(r.width())/2),setTimeout(function(){e.unmountComponentAtNode(t("#mask").get(0)),t("#mask").hide()},1e3)},render:function(){return e.createElement("div",{ref:"alertBox",className:"alert-box"},e.createElement("p",null,n))}});e.render(e.createElement(r,null),t("#mask").get(0))}},n}),define("home/user/login",["react","jquery","home/model/userModel","home/common/tooltip"],function(e,t,n,r){var i=e.addons.CSSTransitionGroup,s={handleUnameChange:function(e){var t=this;t.setState({username:e.target.value})},handlePwdChange:function(e){var t=this;t.setState({password:e.target.value})},handleEmailChange:function(e){var t=this;t.setState({email:e.target.value})},handleJobChange:function(e){var t=this;t.setState({job:e.target.value})},handleSignIn:function(){var e=this,t={username:e.state.username,password:e.state.password};n.login(t,function(t,n){t&&(n.error?r(n.msg):e.state.method?window.location.href="/"+e.state.page+"/"+e.state.method:window.location.href="/"+e.state.page)})},handleSignUp:function(){var e=this,t={username:e.state.username,password:e.state.password,email:e.state.email,job:e.state.job};n.register(t,function(t,n){t&&(n.error?r(n.msg):(r("注册成功"),e.setState({nav:"sign_in"})))})},handleSubmit:function(){var e=this;e.state.nav=="sign_in"?e.handleSignIn():e.state.nav=="sign_up"&&e.handleSignUp()}};return e.createClass({mixins:[s],getInitialState:function(){return{nav:this.props.way,page:this.props.params&&this.props.params.page?this.props.params.page:null,method:this.props.params&&this.props.params.method?this.props.params.method:null,username:"",password:"",email:"",job:""}},componentWillReceiveProps:function(e){this.setState({nav:e.way})},render:function(){var t=this;return e.createElement(i,{transitionName:"fade",transitionAppear:!0},e.createElement("div",{className:"login-page",id:"login-page"},e.createElement("div",{className:"logo"}),e.createElement("h4",{className:"title"},e.createElement("span",null,e.createElement("a",{className:t.state.nav=="sign_in"?"active":"",href:"/login/sign_in"},"登陆"),e.createElement("b",null,"·"),e.createElement("a",{className:t.state.nav=="sign_up"?"active":"",href:"/login/sign_up"},"注册"))),e.createElement("div",{className:"login-contianer"},e.createElement("form",{className:"form-horizontal"},e.createElement("div",{className:"input-prepend"},e.createElement("span",{className:"add-on"},e.createElement("i",{className:"fa fa-user"})),e.createElement("input",{type:"text",className:"input-login",name:"username",value:t.state.username,placeholder:"用户名",onChange:t.handleUnameChange})),e.createElement("div",{className:"input-prepend"},e.createElement("span",{className:"add-on"},e.createElement("i",{className:"fa fa-unlock-alt"})),e.createElement("input",{type:"password",className:"input-login",name:"password",value:t.state.password,placeholder:"密码",onChange:t.handlePwdChange})),t.state.nav=="sign_up"?e.createElement("div",null,e.createElement("div",{className:"input-prepend"},e.createElement("span",{className:"add-on"},e.createElement("i",{className:"fa fa-envelope-o"})),e.createElement("input",{type:"text",className:"input-login",name:"email",value:t.state.email,placeholder:"email",onChange:t.handleEmailChange})),e.createElement("div",{className:"input-prepend"},e.createElement("span",{className:"add-on"},e.createElement("i",{className:"fa fa-leaf"})),e.createElement("input",{type:"text",className:"input-login",name:"job",value:t.state.job,placeholder:"职位",onChange:t.handleJobChange}))):null,e.createElement("a",{className:"btn btn-info btn-submit",href:"javascript:void(0)",onClick:this.handleSubmit},t.state.nav=="sign_in"?"登陆":"注册")))))}})}),define("home/model/articleModel",["home/model/base","jquery"],function(e,t){var n={getAllArticle:function(t,n){e.get("/articles",{data:t},n)},getAllArticleByCid:function(t,n){e.get("/articles/cloumn/"+t.cid,{data:t},n)},getAllArticleByUid:function(t,n){e.get("/articles/user/"+t.uid,{data:t},n)},getArticlesByPS:function(t,n){e.get("/articles/user/"+t.uid+"/"+t.type,{data:t},n)},getAllArtsByUidCare:function(t,n){e.get("/articles/care/cloumns",{data:t},n)},getArticleById:function(t,n){e.get("/article/"+t+"/info",{},n)},addArticle:function(t,n){e.post("/article/add",{data:t},n)},editArticle:function(t,n){var r=t.id;e.put("/article/"+r,{data:t},n)},delArticle:function(t,n){e.del("/article/"+t,{},n)},addComment:function(t,n){e.post("/article/"+t.aid+"/comment",{data:t},n)},getContentsByAid:function(t,n){e.get("/article/"+t.aid+"/comments",{data:t},n)},delComment:function(t,n){e.del("/article/"+t.aid+"/comment",{cid:t.cid},n)},getAllTags:function(t,n){e.post("/tags/all",{name:t},n)},addTag:function(t,n){e.post("/tags/add",{data:t},n)},tagInfo:function(t,n){e.post("/t/info",{name:t},n)},getArtsLikeTag:function(t,n){e.get("/articles/tag/"+t.name,{data:t},n)},addPraise:function(t,n){t.type=0,e.post("/article/"+t.aid+"/praise",{data:t},n)},delPraise:function(t,n){t.type=0,e.del("/article/"+t.aid+"/praise",{data:t},n)},addStore:function(t,n){t.type=1,e.post("/article/"+t.aid+"/store",{data:t},n)},delStore:function(t,n){t.type=1,e.del("/article/"+t.aid+"/store",{data:t},n)}};return n}),define("home/user/user",["react","jquery","home/model/userModel","home/common/tooltip","home/model/articleModel","WQ"],function(e,t,n,r,i,s){var o=e.addons.CSSTransitionGroup,u={init:function(){var e=this;n.getUserInfoById(e.state.uid,function(t,n){t&&(n.error?r(n.msg):e.setState({info:n.data}))})}},a=e.createClass({displayName:"Articles",getInitialState:function(){return{list:{},next:!1,uid:this.props.uid,nav:"addtime",more:[]}},init:function(e){var t=this;e!="is_publish"?t.getAllArticleByUid(e,0,1):t.getAllArticleByUid(e,0,0)},componentDidMount:function(){this.init(this.state.nav)},handleClick:function(e){var t=this;t.setState({nav:e});if(!t.state.list[e]){if(e=="is_publish")var n=0;else var n=1;t.getAllArticleByUid(e,0,n)}},handleMore:function(){var e=t(event.target).data("page"),n=this,r=n.state.nav;r!="is_publish"?n.getAllArticleByUid(r,e,1):n.getAllArticleByUid(r,e,0)},getAllArticleByUid:function(e,t,n){var s=this,o=s.state.uid,u={uid:o,way:e,page:t,is_publish:n};i.getAllArticleByUid(u,function(n,i){n&&(i.error?r(i.msg):(s.state.list[e]?Array.prototype.push.apply(s.state.list[e],i.data):s.state.list[e]=i.data,s.state.more[e]=parseInt(t)+1,s.setState({list:s.state.list,next:i.next,more:s.state.more})))})},render:function(){var t=this,n=this.state.nav,r=this.state.list[n]&&this.state.list[n].length>0?this.state.list[n].map(function(t,n){if(t.tags){if(t.tags.indexOf("|"))var r=t.tags.split("|").map(function(t,n){return e.createElement("a",{style:{marginRight:"6px"},href:"/t/"+t},t)});else var r=e.createElement("a",{href:"/t/"+t.tags},"d.tags");r=e.createElement("span",{className:"tag"}," ",e.createElement("i",{className:"fa fa-tags"})," ",r)}else var r=null;return e.createElement("div",null,e.createElement("div",{className:"host-addtime"},e.createElement("article",{key:t.id},t.logo_dir?e.createElement("a",{className:"pic",href:"/article/"+t.id,style:{backgroundImage:"url("+t.logo_dir+")"}},e.createElement("span",null,t.cloumn)):null,e.createElement("div",{className:"desc"},e.createElement("a",{className:"title",href:"/article/"+t.id},t.title),e.createElement("div",{className:"author"},e.createElement("a",{href:"/user/"+t.uid},e.createElement("img",{className:"avatar",src:t.userUrl?t.userUrl:"/image/user-default.png"}),e.createElement("span",{className:"name"},t.username)),e.createElement("span",{className:"time"}," • ",s.timeFormat(t.addtime)),e.createElement("span",{className:"tag"}," 阅读: ",t.view),e.createElement("span",{className:"tag"}," 推荐: ",t.praise),e.createElement("span",{className:"tag"}," 评论: ",t.comment),r),e.createElement("div",{className:"description"},t.description)))))}):null;return e.createElement("div",null,e.createElement("ul",{className:"nav-orderBy clearfix"},e.createElement("li",null,e.createElement("a",{href:"javascript:void(0)",className:t.state.nav=="addtime"?"btn btn-info":"btn btn-default",onClick:t.handleClick.bind(this,"addtime")},"最新文章")),e.createElement("li",null,e.createElement("a",{href:"javascript:void(0)",className:t.state.nav=="view"?"btn btn-info":"btn btn-default",onClick:t.handleClick.bind(this,"view")},"热门文章")),t.state.uid==s.cookie.get("id")?e.createElement("li",null,e.createElement("a",{href:"javascript:void(0)",className:t.state.nav=="is_publish"?"btn btn-info":"btn btn-default",onClick:t.handleClick.bind(this,"is_publish")},"我的草稿")):null),e.createElement(o,{transitionName:"fadeToTop",transitionAppear:!0},e.createElement("div",{className:"article-list"},r,e.createElement("a",{className:"more",style:t.state.next?{display:"block"}:{display:"none"},"data-page":t.state.more[n]?t.state.more[n]:1,onClick:t.handleMore},"更多"))))}});return e.createClass({mixins:[u],getInitialState:function(){return{uid:this.props.uid,info:null}},componentDidMount:function(){this.init()},render:function(){var t=this,n=t.state.info&&t.state.info.username&&t.state.info.username!=""?t.state.info.username:"未填写",r=t.state.info&&t.state.info.email&&t.state.info.email!=""?t.state.info.email:"未填写",i=t.state.info&&t.state.info.job&&t.state.info.job!=""?t.state.info.job:"未填写",s=t.state.info&&t.state.info.description&&t.state.info.description!=""?t.state.info.description:"未填写",u=t.state.info&&t.state.info.logo_dir&&t.state.info.logo_dir!=""?t.state.info.logo_dir:"未填写",f=t.state.info&&t.state.info.github&&t.state.info.github!=""?t.state.info.github:"未填写";return e.createElement(o,{transitionName:"fade",transitionAppear:!0},e.createElement("div",{className:"user-page"},e.createElement("div",{className:"host-box clearfix"},e.createElement("img",{src:u}),e.createElement("div",{className:"info"},e.createElement("div",{className:"username"},"昵称: ",n),e.createElement("div",{className:"desc"},"简介: ",s),e.createElement("div",{className:"other"},e.createElement("span",null,"职位: ",i),"   ",e.createElement("span",null,"邮箱: ",r)),e.createElement("div",{className:"github"},"github: ",f))),e.createElement(a,{uid:t.state.uid})))}})}),define("home/common/leftNav",["react","jquery"],function(e,t){}),define("home/user/settings",["react","jquery","home/model/userModel","home/common/tooltip","WQ","home/common/leftNav"],function(React,$,UserModel,Tooltip,WQ,LeftNav){var ReactCSSTransitionGroup=React.addons.CSSTransitionGroup,mixin={handleUserNameChange:function(e){var t=this;t.state.info.username=e.target.value,t.setState({info:t.state.info})},handleSelectJob:function(e){var t=this;t.state.info.job=e.target.value,t.setState({job:t.state.info})},handleCityChange:function(e){var t=this;t.state.info.city=e.target.value,t.setState({info:t.state.info})},handleSexChange:function(e){var t=this;t.state.info.sex=e,t.setState({info:t.state.info})},handleGithubChange:function(e){var t=this;t.state.info.github=e.target.value,t.setState({info:t.state.info})},handleSignChange:function(e){var t=this;t.state.info.description=e.target.value,t.setState({info:t.state.info})}},Head=React.createClass({displayName:"Head",getInitialState:function(){return{logo_dir:this.props.logo_dir?this.props.logo_dir:"/image/user-default.png"}},componentWillReceiveProps:function(e){this.setState({logo_dir:e.logo_dir?e.logo_dir:"/image/user-default.png"})},handleSubmit:function(e){$(e.target).siblings("input[type=file]").trigger("click")},handleFileChange:function(e){var t=e.target.value;t===""&&Tooltip("头像不能为空");var n=$(e.target).siblings("input[type=submit]");n.trigger("click")},handleUpload:function(){var _this=this,uploadIframe=document.getElementById("uploadIframe"),loading=$(".head .user>div");loading.show(),uploadIframe.onload=function(){loading.hide();var body=(uploadIframe.contentWindow?uploadIframe.contentWindow:uploadIframe.contentDocument).document.body,json=body.innerText?body.innerText:body.textContent?body.textContent:null;return json=typeof JSON.parse!="undefined"?JSON.parse(json):eval("("+json+")"),json.error?Tooltip(json.msg):(_this.setState({logo_dir:json.data}),WQ.cookie.set("userUrl",json.data,1),Tooltip("头像更新成功")),!1}},componentDidUpdate:function(){var e=this;$(".head .uploadForm").attr("enctype","multipart/form-data")},render:function(){var e=this;return React.createElement("div",{className:"head"},React.createElement("form",{className:"uploadForm",enctype:"multipart/form-data",action:"/user/updateLogo",method:"post",target:"uploadIframe"},React.createElement("div",{className:"user"},React.createElement("img",{src:e.state.logo_dir+"?"+Math.random()*1e3}),React.createElement("div",null,React.createElement("img",{src:"/image/loading.gif"}))),React.createElement("iframe",{name:"uploadIframe",id:"uploadIframe",style:{display:"none"}}),React.createElement("input",{type:"text",name:"id",style:{display:"none"},value:WQ.cookie.get("id")}),React.createElement("input",{type:"file",name:"file",id:"file",style:{display:"none"},onChange:e.handleFileChange}),React.createElement("input",{type:"submit",style:{display:"none"},onClick:e.handleUpload}),React.createElement("a",{className:"btn btn-default btn-md",href:"javascript:void(0)",onClick:e.handleSubmit},"上传头像")))}}),Personal=React.createClass({displayName:"Personal",mixins:[mixin],getInitialState:function(){var e=this;return{info:e.props.info,job:["页面重构设计","Web前端工程师","JS工程师","PHP开发工程师","JAVA开发工程师","移动开发工程师","软件测试工程师","Linux系统工程师","交互设计师","产品经理","UI设计师","学生","其他"]}},componentWillReceiveProps:function(e){this.setState({info:e.info})},contentClick:function(){var e=this;e.state.select==0?e.setState({select:1}):e.setState({select:0})},handleSubmit:function(e){var t=this,n=t.state.info;UserModel.editUser(t.state.info.id,n,function(e,t){e&&(t.error?Tooltip(t.msg):Tooltip("修改成功"))})},render:function(){var e=this,t=e.state.info?e.state.info.username:null,n=e.state.info?e.state.info.job:null,r=e.state.info?e.state.info.city:null,i=e.state.info?e.state.info.sex:null,s=e.state.info?e.state.info.description:null,o=e.state.info?e.state.info.logo_dir:null,u=e.state.info?e.state.info.github:null,a=e.state.job.map(function(e,t){return React.createElement("option",{key:t,selected:n&&n==e?"selected":""},e)});return React.createElement(ReactCSSTransitionGroup,{transitionName:"fade",transitionAppear:!0},React.createElement("div",{className:"personal"},React.createElement("div",{className:"input-prepend"},React.createElement("label",{className:"col col-sm-2"},"头像："),React.createElement("div",{className:"col col-sm-10"},React.createElement(Head,{logo_dir:o}))),React.createElement("div",{className:"input-prepend"},React.createElement("label",{className:"col col-sm-2"},"昵称："),React.createElement("input",{type:"text",className:"col col-sm-10",name:"username",placeholder:"请输入昵称",onChange:this.handleUserNameChange,value:t})),React.createElement("div",{className:"input-prepend"},React.createElement("label",{className:"col col-sm-2"},"职位："),React.createElement("select",{className:"col col-sm-10",onChange:e.handleSelectJob},React.createElement("option",null,a))),React.createElement("div",{className:"input-prepend"},React.createElement("label",{className:"col col-sm-2"},"所在地："),React.createElement("input",{type:"text",className:"col col-sm-10",name:"city",placeholder:"请输入地址",onChange:this.handleCityChange,value:r})),React.createElement("div",{className:"input-prepend"},React.createElement("label",{className:"col col-sm-2"},"github："),React.createElement("input",{type:"text",className:"col col-sm-10",name:"city",placeholder:"请输入github地址",onChange:this.handleGithubChange,value:u})),React.createElement("div",{className:"input-prepend"},React.createElement("label",{className:"col col-sm-2"},"性别："),React.createElement("div",{className:"col col-sm-10"},React.createElement("input",{type:"radio",name:"sex",onClick:this.handleSexChange.bind(this,"0"),checked:i==0?"checked":null}),React.createElement("span",null,"  男    "),React.createElement("input",{type:"radio",name:"sex",onClick:this.handleSexChange.bind(this,"1"),checked:i==1?"checked":null}),React.createElement("span",null,"  女"))),React.createElement("div",{className:"input-prepend"},React.createElement("label",{className:"col col-sm-2"},"个性签名："),React.createElement("textarea",{className:"col col-sm-10",name:"description",onChange:this.handleSignChange,value:s,placeholder:"这位童鞋很懒，什么也没有留下～～！"})),React.createElement("div",{className:"input-prepend"},React.createElement("label",{className:"col col-sm-2"}),React.createElement("a",{href:"javascript:void(0);",className:"col col-sm-10 btn btn-info btn-submit",onClick:this.handleSubmit},"保存"))))}}),Email=React.createClass({displayName:"Email",getInitialState:function(){var e=this;return{email:this.props.email}},componentWillReceiveProps:function(e){this.setState({email:e.email?e.email:null})},emailChange:function(e){var t=this;t.setState({email:e.target.value})},sendEmail:function(){var e=this;UserModel.sendEmail(e.state.email,function(e,t){})},render:function(){var e=this;return React.createElement(ReactCSSTransitionGroup,{transitionName:"fade",transitionAppear:!0},React.createElement("div",{className:"email input-prepend"},React.createElement("input",{type:"text",className:"col col-sm-10",onChange:this.emailChange,value:this.state.email}),React.createElement("label",{className:"col col-sm-2"},React.createElement("a",{href:"javascript:void(0)",className:"btn btn-info btn-submit",style:{width:"92%"},onClick:this.sendEmail},"验证"))))}}),ModifyPassword=React.createClass({displayName:"ModifyPassword",getInitialState:function(){return{oldPassword:"",newPassword:"",newPasswordRepeat:""}},handleOldPsdChange:function(){var e=this;e.setState({oldPassword:event.target.value})},handleNewPsdChange:function(){var e=this;e.setState({newPassword:event.target.value})},handleNewPsdRepeatChange:function(){var e=this;e.setState({newPasswordRepeat:event.target.value})},judge:function(e){if(e.oldPassword=="")alert("旧密码不能为空");else if(e.newPassword=="")alert("新密码不能为空");else if(e.newPasswordRepeat=="")alert("重复密码不能为空");else{if(e.newPassword==e.newPasswordRepeat)return!0;alert("新密码输入不一致")}},handleSubmit:function(){var e=this,t={id:WQ.cookie.get("id"),oldPassword:e.state.oldPassword,newPassword:e.state.newPassword,newPasswordRepeat:e.state.newPasswordRepeat};e.judge(t)==1&&(console.log(t),UserModel.modifyPassword(t.id,t,function(e,t){e&&(t.error?(console.log(t),alert(t.msg)):window.location.href="/login/sign_in")}))},render:function(){return React.createElement(ReactCSSTransitionGroup,{transitionName:"fade",transitionAppear:!0},React.createElement("form",{className:"modify"},React.createElement("div",{className:"input-prepend"},React.createElement("label",{className:"col col-sm-2"},"当前密码："),React.createElement("input",{type:"password",className:"col col-sm-10",placeholder:"请输入当前密码",onChange:this.handleOldPsdChange})),React.createElement("div",{className:"input-prepend"},React.createElement("label",{className:"col col-sm-2"},"新密码："),React.createElement("input",{className:"col col-sm-10",type:"password",placeholder:"请输入密码",onChange:this.handleNewPsdChange})),React.createElement("div",{className:"input-prepend"},React.createElement("label",{className:"col col-sm-2"},"确认密码："),React.createElement("input",{className:"col col-sm-10",type:"password",placeholder:"请输入密码",onChange:this.handleNewPsdRepeatChange})),React.createElement("div",{className:"input-prepend"},React.createElement("label",{className:"col col-sm-2"}),React.createElement("a",{className:"col col-sm-10 btn btn-info btn-submit",href:"javascript:void(0)",onClick:this.handleSubmit},"保存"))))}});return React.createClass({getInitialState:function(){return{nav:"personal",uid:this.props.uid?this.props.uid:0,info:null}},componentDidMount:function(){var e=this;UserModel.getUserInfoById(e.state.uid,function(t,n){t&&(n.error?Tooltip(n.msg):e.setState({info:n.data}))})},handleClick:function(e){var t=this;t.setState({nav:e})},componentDidUpdate:function(){var e=this},render:function(){var e=this;return React.createElement("div",{className:"settings clearfix"},React.createElement("h3",{className:"title"},React.createElement("i",{className:"fa fa-cogs",style:{marginRight:"4px"}}),"设置"),React.createElement("ul",{className:"nav nav-tabs"},React.createElement("li",{className:e.state.nav=="personal"?"active":null},React.createElement("a",{href:"javascript:void(0)",onClick:this.handleClick.bind(this,"personal")},"个人资料")),React.createElement("li",{className:e.state.nav=="email"?"active":null},React.createElement("a",{href:"javascript:void(0)",onClick:this.handleClick.bind(this,"email")},"邮箱验证")),React.createElement("li",{className:e.state.nav=="modify"?"active":null},React.createElement("a",{href:"javascript:void(0)",onClick:this.handleClick.bind(this,"modify")},"修改密码"))),React.createElement("div",{className:"con"},React.createElement("div",{style:e.state.nav=="personal"?{display:"block"}:{display:"none"}},React.createElement(Personal,{info:e.state.info})),React.createElement("div",{style:e.state.nav=="email"?{display:"block"}:{display:"none"}},React.createElement(Email,{email:this.state.info?this.state.info.email:null})),React.createElement("div",{style:e.state.nav=="modify"?{display:"block"}:{display:"none"}},React.createElement(ModifyPassword,null))))}})}),define("home/model/bugModel",["home/model/base","jquery"],function(e,t){var n={addBug:function(t,n){e.post("/bug",{data:t},n)},getAll:function(t,n){e.get("/bug/list",{uid:t},n)}};return n}),define("home/user/myPage",["react","jquery","home/model/userModel","home/model/bugModel","home/common/tooltip","home/model/articleModel","WQ"],function(e,t,n,r,i,s,o){var u=e.addons.CSSTransitionGroup,a=e.createClass({displayName:"Store",getInitialState:function(){var e=this.props.type=="store"?1:0;return{uid:this.props.uid,type:e,articles:[],page:0}},componentDidMount:function(){this.getArticles(0)},getArticles:function(e){var t=this,n={uid:t.state.uid,type:t.state.type,page:e};s.getArticlesByPS(n,function(e,n){e&&(n.error||(t.state.articles.length>0?Array.prototype.push.apply(t.state.articles,n.data):t.state.articles=n.data,t.setState({articles:t.state.articles,next:n.next,page:t.state.page+1})))})},handleMore:function(){_this.getArts(_this.state.name,_this.state.page)},render:function(){var t=this,n=t.state.articles.length>0?t.state.articles.map(function(t,n){if(t.tags){if(t.tags.indexOf("|"))var r=t.tags.split("|").map(function(t,n){return e.createElement("a",{style:{marginRight:"6px"},href:"/t/"+t},t)});else var r=e.createElement("a",{href:"/t/"+t.tags},"d.tags");r=e.createElement("span",{className:"tag"}," ",e.createElement("i",{className:"fa fa-tags"})," ",r)}else var r=null;return e.createElement("article",{key:t.id},t.logo_dir?e.createElement("a",{className:"pic",href:"/article/"+t.id,style:{backgroundImage:"url("+t.logo_dir+")"}},e.createElement("span",null,t.cloumn)):null,e.createElement("div",{className:"desc"},e.createElement("a",{className:"title",href:"/article/"+t.id},t.title),e.createElement("div",{className:"author"},e.createElement("a",{href:"/user/"+t.uid},e.createElement("img",{className:"avatar",src:t.userUrl?t.userUrl:"/image/user-default.png"}),e.createElement("span",{className:"name"},t.username)),e.createElement("span",{className:"time"}," • ",o.timeFormat(t.addtime)),e.createElement("span",{className:"tag"}," 阅读: ",t.view),e.createElement("span",{className:"tag"}," 推荐: ",t.praise),e.createElement("span",{className:"tag"}," 评论: ",t.comment),r),e.createElement("div",{className:"description"},t.description)))}):null;return e.createElement(u,{transitionName:"fadeToTop",transitionAppear:!0},e.createElement("div",null,e.createElement("div",{className:"top"},e.createElement("i",{className:"fa fa-bookmark"}),"我的收藏"),e.createElement("div",{className:"article-list"},n,e.createElement("a",{className:"btn btn-default btn-large",href:"javascript:void(0)",style:t.state.next?{display:"block",marginTop:"15px"}:{display:"none"},onClick:t.hamdleMore},"更多"))))}}),f=e.createClass({displayName:"Draft",getInitialState:function(){return{uid:this.props.uid,articles:[],page:0}},componentDidMount:function(){this.getArticles(0)},getArticles:function(e){var t=this,n={uid:t.state.uid,way:"is_publish",page:e,is_publish:0};s.getAllArticleByUid(n,function(e,n){e&&(n.error||(t.state.articles.length>0?Array.prototype.push.apply(t.state.articles,n.data):t.state.articles=n.data,t.setState({articles:t.state.articles,next:n.next,page:t.state.page+1})))})},handleMore:function(){_this.getArts(_this.state.name,_this.state.page)},render:function(){var t=this,n=t.state.articles.length>0?t.state.articles.map(function(t,n){if(t.tags){if(t.tags.indexOf("|"))var r=t.tags.split("|").map(function(t,n){return e.createElement("a",{style:{marginRight:"6px"},href:"/t/"+t},t)});else var r=e.createElement("a",{href:"/t/"+t.tags},"d.tags");r=e.createElement("span",{className:"tag"}," ",e.createElement("i",{className:"fa fa-tags"})," ",r)}else var r=null;return e.createElement("article",{key:t.id},t.logo_dir?e.createElement("a",{className:"pic",href:"/article/"+t.id,style:{backgroundImage:"url("+t.logo_dir+")"}},e.createElement("span",null,t.cloumn)):null,e.createElement("div",{className:"desc"},e.createElement("a",{className:"title",href:"/article/"+t.id},t.title),e.createElement("div",{className:"author"},e.createElement("a",{href:"/user/"+t.uid},e.createElement("img",{className:"avatar",src:t.userUrl?t.userUrl:"/image/user-default.png"}),e.createElement("span",{className:"name"},t.username)),e.createElement("span",{className:"time"}," • ",o.timeFormat(t.addtime)),e.createElement("span",{className:"tag"}," 阅读: ",t.view),e.createElement("span",{className:"tag"}," 推荐: ",t.praise),e.createElement("span",{className:"tag"}," 评论: ",t.comment),r),e.createElement("div",{className:"description"},t.description)))}):null;return e.createElement(u,{transitionName:"fadeToTop",transitionAppear:!0},e.createElement("div",null,e.createElement("div",{className:"top"},e.createElement("i",{className:"fa fa-inbox"}),"我的草稿箱"),e.createElement("div",{className:"article-list"},n,e.createElement("a",{className:"btn btn-default btn-large",href:"javascript:void(0)",style:t.state.next?{display:"block",marginTop:"15px"}:{display:"none"},onClick:t.hamdleMore},"更多"))))}}),l={init:function(){var e=this;e.getNews({uid:e.state.uid,page:0},!0)},getNews:function(e,t){var r=this;n.getNews(e,function(n,i){if(n&&!i.error){if(t)var s="all";else var s="unread";r.state.news[s]?Array.prototype.push.apply(r.state.news[s],i.data):r.state.news[s]=i.data,r.state.more[s]=parseInt(e.page)+1,r.setState({news:r.state.news,next:i.next,more:r.state.more})}})},componentDidMount:function(){this.init()},hamdleChangeNav:function(e){var n=this,r=t(e.target).index();r==0?nav="all":nav="unread";if(nav==n.state.nav)return;n.setState({nav:nav}),n.state.news[nav]||n.getNews({uid:n.state.uid,unread:1,page:0},!1)},handleMore:function(e){var n=t(e.target).data("page"),r=this,i=r.state.nav;if(i=="all")var s={uid:r.state.uid,page:n},o=!0;else var s={uid:r.state.uid,unread:1,page:n},o=!1;r.getNews(s,o)},updateNews:function(e,r){var i=this;n.updateNews(e,function(e,n){e&&(n.error||r&&(t(".news-list li.active").removeClass("active"),t(".drop-menu .news").hide(),i.state.news.unread=null,i.setState({news:i.state.news})))})},handleRead:function(e){alert(1),e.preventDefault();var n=t(e.target).parents("li");if(!n.hasClass("active"))return;var r=n.data("nid");this.updateNews({id:r})},handleAllRead:function(){var e=this;e.updateNews({uid:e.state.uid},!0)}},c=e.createClass({displayName:"News",mixins:[l],getInitialState:function(){return{uid:this.props.uid,news:[],next:!1,more:[],nav:"all"}},render:function(){var t=this,n=this.state.nav,r=t.state.news[n]?t.state.news[n].map(function(t,n){return e.createElement("li",{key:t.id,"data-nid":t.id,className:t.unread?"active":""},e.createElement("i",{className:"fa fa-fw fa-comments-o"}),e.createElement("span",null,"你在《",e.createElement("a",{href:"/article/"+t.aid},e.createElement("span",{onClick:this.handleRead},t.title)),"》中收到一条 ",e.createElement("a",{href:"/user/"+t.send_id,onClick:this.handleRead},t.username)," 的评论"),e.createElement("span",{className:"time pull-right"},o.timeFormat(t.addtime)))}):null;return e.createElement(u,{transitionName:"fadeToTop",transitionAppear:!0},e.createElement("div",null,e.createElement("div",{className:"top",style:{borderBottom:"0px"}},e.createElement("i",{className:"fa fa-bell-o"}),"我的消息"),e.createElement("div",{className:"news-nav clearfix"},e.createElement("a",{href:"javascript:void(0)",className:n=="all"?"active pull-left message":"pull-left message",onClick:t.hamdleChangeNav},"全部消息"),e.createElement("a",{href:"javascript:void(0)",className:n=="unread"?"active pull-left message":"pull-left message",onClick:t.hamdleChangeNav},"未读消息"),e.createElement("a",{href:"javascript:void(0)",className:"pull-right btn btn-default",onClick:this.handleAllRead},e.createElement("i",{className:"fa fa-fw fa-check"}),"全部标记为已读")),e.createElement("ul",{className:"news-list"},r,e.createElement("a",{className:"btn btn-default btn-large",href:"javascript:void(0)",style:t.state.next?{display:"block",marginTop:"15px"}:{display:"none"},"data-page":t.state.more[n]?t.state.more[n]:1,onClick:t.handleMore},"更多"))))}}),h=e.createClass({displayName:"Bugs",getInitialState:function(){return{uid:this.props.uid,bugs:[]}},componentDidMount:function(){var e=this;r.getAll(this.state.uid,function(t,n){t&&(n.error||e.setState({bugs:n.data}))})},render:function(){var t=this,n=this.state.nav,r=t.state.bugs.map(function(t,n){return e.createElement("li",{key:t.id,"data-nid":t.id},e.createElement("i",{className:"fa fa-fw fa-comments-o"}),e.createElement("span",null,e.createElement("a",{href:"/user/"+t.uid},t.username)," 提交了bug："),e.createElement("span",null,e.createElement("a",null,t.content)),e.createElement("span",{className:"time pull-right"},o.timeFormat(t.addtime)))});return e.createElement(u,{transitionName:"fadeToTop",transitionAppear:!0},e.createElement("div",null,e.createElement("div",{className:"top",style:{borderBottom:"0px"}},e.createElement("i",{className:"fa fa-question-circle"}),"bug反馈"),e.createElement("ul",{className:"news-list"},r)))}});return e.createClass({getInitialState:function(){return{uid:this.props.uid,type:this.props.type}},componentWillReceiveProps:function(e){this.setState({uid:e.uid,type:e.type})},render:function(){var t=this;if(t.state.type=="draft")var n=e.createElement(f,{uid:t.state.uid});else if(t.state.type=="store")var n=e.createElement(a,{uid:t.state.uid,type:t.state.type});else if(t.state.type=="news")var n=e.createElement(c,{uid:t.state.uid});else if(t.state.type=="bugs")var n=e.createElement(h,{uid:t.state.uid});return e.createElement("div",{className:"tag-page"},n)}})}),define("home/article/articleList",["react","jquery","WQ","home/model/articleModel","home/common/tooltip"],function(e,t,n,r,i){var s=e.addons.CSSTransitionGroup,o={init:function(){var e=this,t=n.cookie.get("id")?n.cookie.get("id"):null;e.setState({uid:t}),e.getAllArticle("praise",0)},handleTabChange:function(e){var n=this,r=t(e.target).index(),i=n.state.cacheNav[r];if(t(e.target).hasClass("active"))return;n.setState({nav:i}),n.state.list[i]||(i=="care"?n.getAllArtsByUidCare(0):n.getAllArticle(i,0)),t(e.target).addClass("active").siblings().removeClass("active")},getAllArticle:function(e,t){var n=this;r.getAllArticle({way:e,page:t},function(r,s){r&&(console.log(s),s.error?i(s.msg):(n.state.list[e]?Array.prototype.push.apply(n.state.list[e],s.data):n.state.list[e]=s.data,n.state.more[e]=parseInt(t)+1,n.setState({list:n.state.list,more:n.state.more,next:s.next})))})},getAllArtsByUidCare:function(e){var t=this,s=n.cookie.get("id");r.getAllArtsByUidCare({uid:s,page:e},function(n,r){n&&(r.error?i(r.msg):(t.state.list.care?Array.prototype.push.apply(t.state.list.care,r.data):t.state.list.care=r.data,t.state.more.care=parseInt(e)+1,t.setState({list:t.state.list,more:t.state.more,next:r.next})))})},handleMore:function(e){var n=t(e.target).data("page"),r=this,i=r.state.nav;i!="care"?r.getAllArticle(i,n):r.getAllArtsByUidCare(n)}};return e.createClass({mixins:[o],getInitialState:function(){return{list:[],nav:"praise",more:[],next:!1,cacheNav:["praise","addtime","view","care"],uid:null}},componentDidMount:function(){this.init()},render:function(){var t=this,r=this.state.nav,i=this.state.list[r]&&this.state.list[r].length>0?this.state.list[r].map(function(t,r){if(t.tags){if(t.tags.indexOf("|"))var i=t.tags.split("|").map(function(t,n){return e.createElement("a",{style:{marginRight:"6px"},href:"/t/"+t},t)});else var i=e.createElement("a",{href:"/t/"+t.tags},"d.tags");i=e.createElement("span",{className:"tag"}," ",e.createElement("i",{className:"fa fa-tags"})," ",i)}else var i=null;return e.createElement("article",{key:t.id},t.logo_dir?e.createElement("a",{className:"pic",href:"/article/"+t.id,style:{backgroundImage:"url("+t.logo_dir+")"}},e.createElement("span",null,t.cloumn)):null,e.createElement("div",{className:"desc"},e.createElement("a",{className:"title",href:"/article/"+t.id},t.title),e.createElement("div",{className:"author"},e.createElement("a",{href:"/user/"+t.uid},e.createElement("img",{className:"avatar",src:t.userUrl?t.userUrl:"/image/user-default.png"}),e.createElement("span",{className:"name"},t.username)),e.createElement("span",{className:"time"}," • ",n.timeFormat(t.addtime)),e.createElement("span",{className:"tag"}," 阅读: ",t.view),e.createElement("span",{className:"tag"}," 推荐: ",t.praise),e.createElement("span",{className:"tag"}," 评论: ",t.comment),i),e.createElement("div",{className:"description"},t.description)))}):null;return e.createElement(s,{transitionName:"fade",transitionAppear:!0},e.createElement("div",{className:"article-list-page"},e.createElement("div",{className:"top-bar"},e.createElement("div",{className:"nav"},e.createElement("a",{className:"tab active",onClick:this.handleTabChange,href:"javascript:void(0)"},"推荐"),e.createElement("a",{className:"tab",onClick:this.handleTabChange,href:"javascript:void(0)"},"最新"),e.createElement("a",{className:"tab",onClick:this.handleTabChange,href:"javascript:void(0)"},"热门"),t.state.uid?e.createElement("a",{className:"tab",onClick:this.handleTabChange,href:"javascript:void(0)"},"关注"):null)),e.createElement("div",{className:"article-list"},i,e.createElement("a",{className:"btn btn-default btn-large",href:"javascript:void(0)",style:t.state.next?{display:"block",marginTop:"15px"}:{display:"none"},"data-page":t.state.more[r]?t.state.more[r]:1,onClick:t.handleMore},"更多"))))}})}),define("home/model/cloumnModel",["home/model/base","jquery"],function(e,t){var n={getCloumnById:function(t,n,r){e.get("/cloumn/"+t+"/info",{uid:n},r)},getAllCloumns:function(t,n){e.get("/cloumns/info",{data:t},n)},getCloumnsByUid:function(t,n){e.get("/cloumns/user/"+t.uid,{data:t},n)},getCareCloumnsByUid:function(t,n){e.get("/cloumns/care/user/"+t.uid,{data:t},n)},addCloumn:function(t,n){e.post("/cloumn/add",{data:t},n)},editCloumn:function(t,n){e.put("/cloumn/"+t.id,{data:t},n)},delCloumn:function(t,n){e.del("/cloumn/"+t,{},n)},addCare:function(t,n){e.post("/cloumn/"+t.cid+"/care",{data:t},n)},delCare:function(t,n){e.del("/cloumn/"+t.cid+"/care",{data:t},n)}};return n}),define("home/common/dialog",["react","jquery","home/model/articleModel"],function(e,t,n){var r=function(e){return new r.propotype.init(e)},i={container:{position:"absolute",top:"10%",left:"50%",display:"block",marginLeft:"-219px"},title:{width:"400px",color:"#555"},desc:{width:"400px",height:"100px",marginTop:"10px",resize:"none",outline:"none",padding:"8px",border:"1px solid #ddd",color:"#555"}};return r.propotype={init:function(r){var s=e.createClass({displayName:"AlertBox",getInitialState:function(){return{name:r.name?r.name:"",description:r.description?r.description:""}},componentDidMount:function(){var e=this,n=t(e.getDOMNode());t("#mask").show()},handleOk:function(){var e=this,t=e.state;n.addTag(t,function(t,n){t&&(n.error||(e.handleClose(),r.ok&&r.ok(n.error)))})},handleClose:function(){e.unmountComponentAtNode(t("#mask").get(0)),t("#mask").hide()},handleNameChange:function(e){var t=this;t.setState({name:e.target.value})},handleDescChange:function(e){var t=this;t.setState({description:e.target.value})},render:function(){var t=this;return e.createElement("div",{ref:"dialogBox",className:"editormd-dialog",style:i.container},e.createElement("div",{className:"editormd-dialog-header"},e.createElement("strong",{"class":"editormd-dialog-title"},"添加标签")),e.createElement("a",{href:"javascript:;",className:"fa fa-close editormd-dialog-close",onClick:t.handleClose}),e.createElement("div",{className:"editormd-dialog-container"},e.createElement("div",{className:"editormd-form"},e.createElement("input",{type:"text",style:i.title,value:t.state.name,onChange:t.handleNameChange,placeholder:"标签名称"}),e.createElement("br",null),e.createElement("textarea",{style:i.desc,onChange:t.handleDescChange,value:t.state.description,placeholder:"请对此标签补充一些描述，以供他人参考"})),e.createElement("div",{className:"editormd-dialog-footer"},e.createElement("button",{className:"editormd-btn editormd-enter-btn",onClick:t.handleOk},"确定"),e.createElement("button",{className:"editormd-btn editormd-cancel-btn",onClick:t.handleClose},"取消"))))}});e.render(e.createElement(s,null),t("#mask").get(0))}},r}),function(e){if(typeof exports=="object"&&typeof module=="object")module.exports=e();else{if(typeof define=="function"&&define.amd)return define("codemirror",[],e);this.CodeMirror=e()}}(function(){function E(e,t){if(!(this instanceof E))return new E(e,t);this.options=t=t?nu(t):{},nu(Ei,t,!1),P(t);var n=t.value;typeof n=="string"&&(n=new Ks(n,t.mode)),this.doc=n;var o=new E.inputStyles[t.inputStyle](this),u=this.display=new S(e,n,o);u.wrapper.CodeMirror=this,O(this),L(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),t.autofocus&&!p&&u.input.focus(),F(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,draggingText:!1,highlight:new Xo,keySeq:null};var a=this;r&&i<11&&setTimeout(function(){a.display.input.reset(!0)},20),dr(this),Su(),Vn(this),this.curOp.forceUpdate=!0,Zs(this,n),t.autofocus&&!p||a.hasFocus()?setTimeout(ru(Vr,this),20):$r(this);for(var f in Si)Si.hasOwnProperty(f)&&Si[f](this,t[f],Ti);z(this),t.finishInit&&t.finishInit(this);for(var l=0;l<Li.length;++l)Li[l](this);Jn(this),s&&t.lineWrapping&&getComputedStyle(u.lineDiv).textRendering=="optimizelegibility"&&(u.lineDiv.style.textRendering="auto")}function S(t,n,o){var u=this;this.input=o,u.scrollbarFiller=lu("div",null,"CodeMirror-scrollbar-filler"),u.scrollbarFiller.setAttribute("cm-not-content","true"),u.gutterFiller=lu("div",null,"CodeMirror-gutter-filler"),u.gutterFiller.setAttribute("cm-not-content","true"),u.lineDiv=lu("div",null,"CodeMirror-code"),u.selectionDiv=lu("div",null,null,"position: relative; z-index: 1"),u.cursorDiv=lu("div",null,"CodeMirror-cursors"),u.measure=lu("div",null,"CodeMirror-measure"),u.lineMeasure=lu("div",null,"CodeMirror-measure"),u.lineSpace=lu("div",[u.measure,u.lineMeasure,u.selectionDiv,u.cursorDiv,u.lineDiv],null,"position: relative; outline: none"),u.mover=lu("div",[lu("div",[u.lineSpace],"CodeMirror-lines")],null,"position: relative"),u.sizer=lu("div",[u.mover],"CodeMirror-sizer"),u.sizerWidth=null,u.heightForcer=lu("div",null,null,"position: absolute; height: "+qo+"px; width: 1px;"),u.gutters=lu("div",null,"CodeMirror-gutters"),u.lineGutter=null,u.scroller=lu("div",[u.sizer,u.heightForcer,u.gutters],"CodeMirror-scroll"),u.scroller.setAttribute("tabIndex","-1"),u.wrapper=lu("div",[u.scrollbarFiller,u.gutterFiller,u.scroller],"CodeMirror"),r&&i<8&&(u.gutters.style.zIndex=-1,u.scroller.style.paddingRight=0),!s&&(!e||!p)&&(u.scroller.draggable=!0),t&&(t.appendChild?t.appendChild(u.wrapper):t(u.wrapper)),u.viewFrom=u.viewTo=n.first,u.reportedViewFrom=u.reportedViewTo=n.first,u.view=[],u.renderedView=null,u.externalMeasured=null,u.viewOffset=0,u.lastWrapHeight=u.lastWrapWidth=0,u.updateLineNumbers=null,u.nativeBarWidth=u.barHeight=u.barWidth=0,u.scrollbarsClipped=!1,u.lineNumWidth=u.lineNumInnerWidth=u.lineNumChars=null,u.alignWidgets=!1,u.cachedCharWidth=u.cachedTextHeight=u.cachedPaddingH=null,u.maxLine=null,u.maxLineLength=0,u.maxLineChanged=!1,u.wheelDX=u.wheelDY=u.wheelStartX=u.wheelStartY=null,u.shift=!1,u.selForContextMenu=null,u.activeTouch=null,o.init(u)}function x(e){e.doc.mode=E.getMode(e.options,e.doc.modeOption),T(e)}function T(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.frontier=e.doc.first,un(e,100),e.state.modeGen++,e.curOp&&ur(e)}function N(e){e.options.lineWrapping?(yu(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(gu(e.display.wrapper,"CodeMirror-wrap"),D(e)),k(e),ur(e),On(e),setTimeout(function(){I(e)},100)}function C(e){var t=Un(e.display),n=e.options.lineWrapping,r=n&&Math.max(5,e.display.scroller.clientWidth/zn(e.display)-3);return function(i){if(gs(e.doc,i))return 0;var s=0;if(i.widgets)for(var o=0;o<i.widgets.length;o++)i.widgets[o].height&&(s+=i.widgets[o].height);return n?s+(Math.ceil(i.text.length/r)||1)*t:s+t}}function k(e){var t=e.doc,n=C(e);t.iter(function(e){var t=n(e);t!=e.height&&ro(e,t)})}function L(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),On(e)}function A(e){O(e),ur(e),setTimeout(function(){U(e)},20)}function O(e){var t=e.display.gutters,n=e.options.gutters;hu(t);for(var r=0;r<n.length;++r){var i=n[r],s=t.appendChild(lu("div",null,"CodeMirror-gutter "+i));i=="CodeMirror-linenumbers"&&(e.display.lineGutter=s,s.style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=r?"":"none",M(e)}function M(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function _(e){if(e.height==0)return 0;var t=e.text.length,n,r=e;while(n=ls(r)){var i=n.find(0,!0);r=i.from.line,t+=i.from.ch-i.to.ch}r=e;while(n=cs(r)){var i=n.find(0,!0);t-=r.text.length-i.from.ch,r=i.to.line,t+=r.text.length-i.to.ch}return t}function D(e){var t=e.display,n=e.doc;t.maxLine=eo(n,n.first),t.maxLineLength=_(t.maxLine),t.maxLineChanged=!0,n.iter(function(e){var n=_(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)})}function P(e){var t=Yo(e.gutters,"CodeMirror-linenumbers");t==-1&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function H(e){var t=e.display,n=t.gutters.offsetWidth,r=Math.round(e.doc.height+hn(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+dn(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}function B(e,t,n){this.cm=n;var s=this.vert=lu("div",[lu("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),o=this.horiz=lu("div",[lu("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e(s),e(o),Oo(s,"scroll",function(){s.clientHeight&&t(s.scrollTop,"vertical")}),Oo(o,"scroll",function(){o.clientWidth&&t(o.scrollLeft,"horizontal")}),this.checkedOverlay=!1,r&&i<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function j(){}function F(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&gu(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new E.scrollbarModel[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),Oo(t,"mousedown",function(){e.state.focused&&setTimeout(function(){e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,n){n=="horizontal"?Or(e,t):Ar(e,t)},e),e.display.scrollbars.addClass&&yu(e.display.wrapper,e.display.scrollbars.addClass)}function I(e,t){t||(t=H(e));var n=e.display.barWidth,r=e.display.barHeight;q(e,t);for(var i=0;i<4&&n!=e.display.barWidth||r!=e.display.barHeight;i++)n!=e.display.barWidth&&e.options.lineWrapping&&Y(e),q(e,H(e)),n=e.display.barWidth,r=e.display.barHeight}function q(e,t){var n=e.display,r=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}function R(e,t,n){var r=n&&n.top!=null?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-cn(e));var i=n&&n.bottom!=null?n.bottom:r+e.wrapper.clientHeight,s=so(t,r),o=so(t,i);if(n&&n.ensure){var u=n.ensure.from.line,a=n.ensure.to.line;u<s?(s=u,o=so(t,oo(eo(t,u))+e.wrapper.clientHeight)):Math.min(a,t.lastLine())>=o&&(s=so(t,oo(eo(t,a))-e.wrapper.clientHeight),o=a)}return{from:s,to:Math.max(o,s+1)}}function U(e){var t=e.display,n=t.view;if(!t.alignWidgets&&(!t.gutters.firstChild||!e.options.fixedGutter))return;var r=X(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,s=r+"px";for(var o=0;o<n.length;o++)if(!n[o].hidden){e.options.fixedGutter&&n[o].gutter&&(n[o].gutter.style.left=s);var u=n[o].alignable;if(u)for(var a=0;a<u.length;a++)u[a].style.left=s}e.options.fixedGutter&&(t.gutters.style.left=r+i+"px")}function z(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=W(e.options,t.first+t.size-1),r=e.display;if(n.length!=r.lineNumChars){var i=r.measure.appendChild(lu("div",[lu("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),s=i.firstChild.offsetWidth,o=i.offsetWidth-s;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(s,r.lineGutter.offsetWidth-o),r.lineNumWidth=r.lineNumInnerWidth+o,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",M(e),!0}return!1}function W(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function X(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function V(e,t,n){var r=e.display;this.viewport=t,this.visible=R(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=vn(e),this.force=n,this.dims=et(e),this.events=[]}function $(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=dn(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=dn(e)+"px",t.scrollbarsClipped=!0)}function J(e,t){var n=e.display,r=e.doc;if(t.editorIsHidden)return fr(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(n.updateLineNumbers==null||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&pr(e)==0)return!1;z(e)&&(fr(e),t.dims=et(e));var i=r.first+r.size,s=Math.max(t.visible.from-e.options.viewportMargin,r.first),o=Math.min(i,t.visible.to+e.options.viewportMargin);n.viewFrom<s&&s-n.viewFrom<20&&(s=Math.max(r.first,n.viewFrom)),n.viewTo>o&&n.viewTo-o<20&&(o=Math.min(i,n.viewTo)),w&&(s=vs(e.doc,s),o=ms(e.doc,o));var u=s!=n.viewFrom||o!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;hr(e,s,o),n.viewOffset=oo(eo(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var a=pr(e);if(!u&&a==0&&!t.force&&n.renderedView==n.view&&(n.updateLineNumbers==null||n.updateLineNumbers>=n.viewTo))return!1;var f=vu();return a>4&&(n.lineDiv.style.display="none"),tt(e,n.updateLineNumbers,t.dims),a>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,f&&vu()!=f&&f.offsetHeight&&f.focus(),hu(n.cursorDiv),hu(n.selectionDiv),n.gutters.style.height=0,u&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,un(e,400)),n.updateLineNumbers=null,!0}function K(e,t){var n=t.force,r=t.viewport;for(var i=!0;;i=!1){if(i&&e.options.lineWrapping&&t.oldDisplayWidth!=vn(e))n=!0;else{n=!1,r&&r.top!=null&&(r={top:Math.min(e.doc.height+hn(e.display)-mn(e),r.top)}),t.visible=R(e.display,e.doc,r);if(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break}if(!J(e,t))break;Y(e);var s=H(e);tn(e),G(e,s),I(e,s)}t.signal(e,"update",e);if(e.display.viewFrom!=e.display.reportedViewFrom||e.display.viewTo!=e.display.reportedViewTo)t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo}function Q(e,t){var n=new V(e,t);if(J(e,n)){Y(e),K(e,n);var r=H(e);tn(e),G(e,r),I(e,r),n.finish()}}function G(e,t){e.display.sizer.style.minHeight=t.docHeight+"px";var n=t.docHeight+e.display.barHeight;e.display.heightForcer.style.top=n+"px",e.display.gutters.style.height=Math.max(n+dn(e),t.clientHeight)+"px"}function Y(e){var t=e.display,n=t.lineDiv.offsetTop;for(var s=0;s<t.view.length;s++){var o=t.view[s],u;if(o.hidden)continue;if(r&&i<8){var a=o.node.offsetTop+o.node.offsetHeight;u=a-n,n=a}else{var f=o.node.getBoundingClientRect();u=f.bottom-f.top}var l=o.line.height-u;u<2&&(u=Un(t));if(l>.001||l<-0.001){ro(o.line,u),Z(o.line);if(o.rest)for(var c=0;c<o.rest.length;c++)Z(o.rest[c])}}}function Z(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t)e.widgets[t].height=e.widgets[t].node.offsetHeight}function et(e){var t=e.display,n={},r={},i=t.gutters.clientLeft;for(var s=t.gutters.firstChild,o=0;s;s=s.nextSibling,++o)n[e.options.gutters[o]]=s.offsetLeft+s.clientLeft+i,r[e.options.gutters[o]]=s.clientWidth;return{fixedPos:X(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function tt(e,t,n){function a(t){var n=t.nextSibling;return s&&d&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}var r=e.display,i=e.options.lineNumbers,o=r.lineDiv,u=o.firstChild,f=r.view,l=r.viewFrom;for(var c=0;c<f.length;c++){var h=f[c];if(!h.hidden)if(!h.node||h.node.parentNode!=o){var p=lt(e,h,l,n);o.insertBefore(p,u)}else{while(u!=h.node)u=a(u);var v=i&&t!=null&&t<=l&&h.lineNumber;h.changes&&(Yo(h.changes,"gutter")>-1&&(v=!1),nt(e,h,l,n)),v&&(hu(h.lineNumber),h.lineNumber.appendChild(document.createTextNode(W(e.options,l)))),u=h.node.nextSibling}l+=h.size}while(u)u=a(u)}function nt(e,t,n,r){for(var i=0;i<t.changes.length;i++){var s=t.changes[i];s=="text"?ot(e,t):s=="gutter"?at(e,t,n,r):s=="class"?ut(t):s=="widget"&&ft(e,t,r)}t.changes=null}function rt(e){return e.node==e.text&&(e.node=lu("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),r&&i<8&&(e.node.style.zIndex=2)),e.node}function it(e){var t=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;t&&(t+=" CodeMirror-linebackground");if(e.background)t?e.background.className=t:(e.background.parentNode.removeChild(e.background),e.background=null);else if(t){var n=rt(e);e.background=n.insertBefore(lu("div",null,t),n.firstChild)}}function st(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):js(e,t)}function ot(e,t){var n=t.text.className,r=st(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,ut(t)):n&&(t.text.className=n)}function ut(e){it(e),e.line.wrapClass?rt(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var t=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=t||""}function at(e,t,n,r){t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null);var i=t.line.gutterMarkers;if(e.options.lineNumbers||i){var s=rt(t),o=t.gutter=lu("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px");e.display.input.setUneditable(o),s.insertBefore(o,t.text),t.line.gutterClass&&(o.className+=" "+t.line.gutterClass),e.options.lineNumbers&&(!i||!i["CodeMirror-linenumbers"])&&(t.lineNumber=o.appendChild(lu("div",W(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px")));if(i)for(var u=0;u<e.options.gutters.length;++u){var a=e.options.gutters[u],f=i.hasOwnProperty(a)&&i[a];f&&o.appendChild(lu("div",[f],"CodeMirror-gutter-elt","left: "+r.gutterLeft[a]+"px; width: "+r.gutterWidth[a]+"px"))}}}function ft(e,t,n){t.alignable&&(t.alignable=null);for(var r=t.node.firstChild,i;r;r=i){var i=r.nextSibling;r.className=="CodeMirror-linewidget"&&t.node.removeChild(r)}ct(e,t,n)}function lt(e,t,n,r){var i=st(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),ut(t),at(e,t,n,r),ct(e,t,r),t.node}function ct(e,t,n){ht(e,t.line,t,n,!0);if(t.rest)for(var r=0;r<t.rest.length;r++)ht(e,t.rest[r],t,n,!1)}function ht(e,t,n,r,i){if(!t.widgets)return;var s=rt(n);for(var o=0,u=t.widgets;o<u.length;++o){var a=u[o],f=lu("div",[a.node],"CodeMirror-linewidget");a.handleMouseEvents||f.setAttribute("cm-ignore-events","true"),pt(a,f,n,r),e.display.input.setUneditable(f),i&&a.above?s.insertBefore(f,n.gutter||n.text):s.appendChild(f),Po(a,"redraw")}}function pt(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var i=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(i-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function mt(e){return dt(e.line,e.ch)}function gt(e,t){return vt(e,t)<0?t:e}function yt(e,t){return vt(e,t)<0?e:t}function bt(e){e.state.focused||(e.display.input.focus(),Vr(e))}function wt(e){return e.options.readOnly||e.doc.cantEdit}function St(e,t,n,r){var i=e.doc;e.display.shift=!1,r||(r=i.sel);var s=Au(t),o=null;e.state.pasteIncoming&&r.ranges.length>1&&(Et&&Et.join("\n")==t?o=r.ranges.length%Et.length==0&&Zo(Et,Au):s.length==r.ranges.length&&(o=Zo(s,function(e){return[e]})));for(var u=r.ranges.length-1;u>=0;u--){var a=r.ranges[u],f=a.from(),l=a.to();a.empty()&&(n&&n>0?f=dt(f.line,f.ch-n):e.state.overwrite&&!e.state.pasteIncoming&&(l=dt(l.line,Math.min(eo(i,l.line).text.length,l.ch+Qo(s).length))));var c=e.curOp.updateInput,h={from:f,to:l,text:o?o[u%o.length]:s,origin:e.state.pasteIncoming?"paste":e.state.cutIncoming?"cut":"+input"};ni(e.doc,h),Po(e,"inputRead",e,h);if(t&&!e.state.pasteIncoming&&e.options.electricChars&&e.options.smartIndent&&a.head.ch<100&&(!u||r.ranges[u-1].head.line!=a.head.line)){var p=e.getModeAt(a.head),d=Qr(h);if(p.electricChars){for(var v=0;v<p.electricChars.length;v++)if(t.indexOf(p.electricChars.charAt(v))>-1){mi(e,d.line,"smart");break}}else p.electricInput&&p.electricInput.test(eo(i,d.line).text.slice(0,d.ch))&&mi(e,d.line,"smart")}}di(e),e.curOp.updateInput=c,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function xt(e){var t=[],n=[];for(var r=0;r<e.doc.sel.ranges.length;r++){var i=e.doc.sel.ranges[r].head.line,s={anchor:dt(i,0),head:dt(i+1,0)};n.push(s),t.push(e.getRange(s.anchor,s.head))}return{text:t,ranges:n}}function Tt(e){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck","false")}function Nt(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new Xo,this.inaccurateSelection=!1,this.hasSelection=!1}function Ct(){var e=lu("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none"),t=lu("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return s?e.style.width="1000px":e.setAttribute("wrap","off"),h&&(e.style.border="1px solid black"),Tt(e),t}function kt(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Xo}function Lt(e,t){var n=En(e,t.line);if(!n||n.hidden)return null;var r=eo(e.doc,t.line),i=yn(n,r,t.line),s=uo(r),o="left";if(s){var u=Xu(s,t.ch);o=u%2?"right":"left"}var a=Nn(i.map,t.ch,"left");return a.offset=a.collapse=="right"?a.end:a.start,a}function At(e,t){return t&&(e.bad=!0),e}function Ot(e,t,n){var r;if(t==e.display.lineDiv){r=e.display.lineDiv.childNodes[n];if(!r)return At(e.clipPos(dt(e.display.viewTo-1)),!0);t=null,n=0}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var s=e.display.view[i];if(s.node==r)return Mt(s,t,n)}}function Mt(e,t,n){function l(t,n,r){for(var i=-1;i<(f?f.length:0);i++){var s=i<0?a.map:f[i];for(var o=0;o<s.length;o+=3){var u=s[o+2];if(u==t||u==n){var l=io(i<0?e.line:e.rest[i]),c=s[o]+r;if(r<0||u!=t)c=s[o+(r?1:0)];return dt(l,c)}}}}var r=e.text.firstChild,i=!1;if(!t||!du(r,t))return At(dt(io(e.line),0),!0);if(t==r){i=!0,t=r.childNodes[n],n=0;if(!t){var s=e.rest?Qo(e.rest):e.line;return At(dt(io(s),s.text.length),i)}}var o=t.nodeType==3?t:null,u=t;!o&&t.childNodes.length==1&&t.firstChild.nodeType==3&&(o=t.firstChild,n&&(n=o.nodeValue.length));while(u.parentNode!=r)u=u.parentNode;var a=e.measure,f=a.maps,c=l(o,u,n);if(c)return At(c,i);for(var h=u.nextSibling,p=o?o.nodeValue.length-n:0;h;h=h.nextSibling){c=l(h,h.firstChild,0);if(c)return At(dt(c.line,c.ch-p),i);p+=h.textContent.length}for(var d=u.previousSibling,p=n;d;d=d.previousSibling){c=l(d,d.firstChild,-1);if(c)return At(dt(c.line,c.ch+p),i);p+=h.textContent.length}}function _t(e,t,n,r,i){function u(e){return function(t){return t.id==e}}function a(t){if(t.nodeType==1){var n=t.getAttribute("cm-text");if(n!=null){n==""&&(n=t.textContent.replace(/\u200b/g,"")),s+=n;return}var f=t.getAttribute("cm-marker"),l;if(f){var c=e.findMarks(dt(r,0),dt(i+1,0),u(+f));c.length&&(l=c[0].find())&&(s+=to(e.doc,l.from,l.to).join("\n"));return}if(t.getAttribute("contenteditable")=="false")return;for(var h=0;h<t.childNodes.length;h++)a(t.childNodes[h]);/^(pre|div|p)$/i.test(t.nodeName)&&(o=!0)}else if(t.nodeType==3){var p=t.nodeValue;if(!p)return;o&&(s+="\n",o=!1),s+=p}}var s="",o=!1;for(;;){a(t);if(t==n)break;t=t.nextSibling}return s}function Dt(e,t){this.ranges=e,this.primIndex=t}function Pt(e,t){this.anchor=e,this.head=t}function Ht(e,t){var n=e[t];e.sort(function(e,t){return vt(e.from(),t.from())}),t=Yo(e,n);for(var r=1;r<e.length;r++){var i=e[r],s=e[r-1];if(vt(s.to(),i.from())>=0){var o=yt(s.from(),i.from()),u=gt(s.to(),i.to()),a=s.empty()?i.from()==i.head:s.from()==s.head;r<=t&&--t,e.splice(--r,2,new Pt(a?u:o,a?o:u))}}return new Dt(e,t)}function Bt(e,t){return new Dt([new Pt(e,t||e)],0)}function jt(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function Ft(e,t){if(t.line<e.first)return dt(e.first,0);var n=e.first+e.size-1;return t.line>n?dt(n,eo(e,n).text.length):It(t,eo(e,t.line).text.length)}function It(e,t){var n=e.ch;return n==null||n>t?dt(e.line,t):n<0?dt(e.line,0):e}function qt(e,t){return t>=e.first&&t<e.first+e.size}function Rt(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=Ft(e,t[r]);return n}function Ut(e,t,n,r){if(e.cm&&e.cm.display.shift||e.extend){var i=t.anchor;if(r){var s=vt(n,i)<0;s!=vt(r,i)<0?(i=n,n=r):s!=vt(n,r)<0&&(n=r)}return new Pt(i,n)}return new Pt(r||n,n)}function zt(e,t,n,r){Kt(e,new Dt([Ut(e,e.sel.primary(),t,n)],0),r)}function Wt(e,t,n){for(var r=[],i=0;i<e.sel.ranges.length;i++)r[i]=Ut(e,e.sel.ranges[i],t[i],null);var s=Ht(r,e.sel.primIndex);Kt(e,s,n)}function Xt(e,t,n,r){var i=e.sel.ranges.slice(0);i[t]=n,Kt(e,Ht(i,e.sel.primIndex),r)}function Vt(e,t,n,r){Kt(e,Bt(t,n),r)}function $t(e,t){var n={ranges:t.ranges,update:function(t){this.ranges=[];for(var n=0;n<t.length;n++)this.ranges[n]=new Pt(Ft(e,t[n].anchor),Ft(e,t[n].head))}};return _o(e,"beforeSelectionChange",e,n),e.cm&&_o(e.cm,"beforeSelectionChange",e.cm,n),n.ranges!=t.ranges?Ht(n.ranges,n.ranges.length-1):t}function Jt(e,t,n){var r=e.history.done,i=Qo(r);i&&i.ranges?(r[r.length-1]=t,Qt(e,t,n)):Kt(e,t,n)}function Kt(e,t,n){Qt(e,t,n),vo(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function Qt(e,t,n){if(Fo(e,"beforeSelectionChange")||e.cm&&Fo(e.cm,"beforeSelectionChange"))t=$t(e,t);var r=n&&n.bias||(vt(t.primary().head,e.sel.primary().head)<0?-1:1);Gt(e,Zt(e,t,r,!0)),(!n||n.scroll!==!1)&&e.cm&&di(e.cm)}function Gt(e,t){if(t.equals(e.sel))return;e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,jo(e.cm)),Po(e,"cursorActivity",e)}function Yt(e){Gt(e,Zt(e,e.sel,null,!1),Uo)}function Zt(e,t,n,r){var i;for(var s=0;s<t.ranges.length;s++){var o=t.ranges[s],u=en(e,o.anchor,n,r),a=en(e,o.head,n,r);if(i||u!=o.anchor||a!=o.head)i||(i=t.ranges.slice(0,s)),i[s]=new Pt(u,a)}return i?Ht(i,t.primIndex):t}function en(e,t,n,r){var i=!1,s=t,o=n||1;e.cantEdit=!1;e:for(;;){var u=eo(e,s.line);if(u.markedSpans)for(var a=0;a<u.markedSpans.length;++a){var f=u.markedSpans[a],l=f.marker;if((f.from==null||(l.inclusiveLeft?f.from<=s.ch:f.from<s.ch))&&(f.to==null||(l.inclusiveRight?f.to>=s.ch:f.to>s.ch))){if(r){_o(l,"beforeCursorEnter");if(l.explicitlyCleared){if(!u.markedSpans)break;--a;continue}}if(!l.atomic)continue;var c=l.find(o<0?-1:1);if(vt(c,s)==0){c.ch+=o,c.ch<0?c.line>e.first?c=Ft(e,dt(c.line-1)):c=null:c.ch>u.text.length&&(c.line<e.first+e.size-1?c=dt(c.line+1,0):c=null);if(!c){if(i)return r?(e.cantEdit=!0,dt(e.first,0)):en(e,t,n,!0);i=!0,c=t,o=-o}}s=c;continue e}}return s}}function tn(e){e.display.input.showSelection(e.display.input.prepareSelection())}function nn(e,t){var n=e.doc,r={},i=r.cursors=document.createDocumentFragment(),s=r.selection=document.createDocumentFragment();for(var o=0;o<n.sel.ranges.length;o++){if(t===!1&&o==n.sel.primIndex)continue;var u=n.sel.ranges[o],a=u.empty();(a||e.options.showCursorWhenSelecting)&&rn(e,u,i),a||sn(e,u,s)}return r}function rn(e,t,n){var r=Bn(e,t.head,"div",null,null,!e.options.singleCursorHeightPerLine),i=n.appendChild(lu("div"," ","CodeMirror-cursor"));i.style.left=r.left+"px",i.style.top=r.top+"px",i.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px";if(r.other){var s=n.appendChild(lu("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));s.style.display="",s.style.left=r.other.left+"px",s.style.top=r.other.top+"px",s.style.height=(r.other.bottom-r.other.top)*.85+"px"}}function sn(e,t,n){function f(e,t,n,r){t<0&&(t=0),t=Math.round(t),r=Math.round(r),s.appendChild(lu("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px; top: "+t+"px; width: "+(n==null?a-e:n)+"px; height: "+(r-t)+"px"))}function l(t,n,r){function h(n,r){return Hn(e,dt(t,n),"div",s,r)}var s=eo(i,t),o=s.text.length,l,c;return Hu(uo(s),n||0,r==null?o:r,function(e,t,i){var s=h(e,"left"),p,d,v;if(e==t)p=s,d=v=s.left;else{p=h(t-1,"right");if(i=="rtl"){var m=s;s=p,p=m}d=s.left,v=p.right}n==null&&e==0&&(d=u),p.top-s.top>3&&(f(d,s.top,null,s.bottom),d=u,s.bottom<p.top&&f(d,s.bottom,null,p.top)),r==null&&t==o&&(v=a);if(!l||s.top<l.top||s.top==l.top&&s.left<l.left)l=s;if(!c||p.bottom>c.bottom||p.bottom==c.bottom&&p.right>c.right)c=p;d<u+1&&(d=u),f(d,p.top,v-d,p.bottom)}),{start:l,end:c}}var r=e.display,i=e.doc,s=document.createDocumentFragment(),o=pn(e.display),u=o.left,a=Math.max(r.sizerWidth,vn(e)-r.sizer.offsetLeft)-o.right,c=t.from(),h=t.to();if(c.line==h.line)l(c.line,c.ch,h.ch);else{var p=eo(i,c.line),d=eo(i,h.line),v=ps(p)==ps(d),m=l(c.line,c.ch,v?p.text.length+1:null).end,g=l(h.line,v?0:null,h.ch).start;v&&(m.top<g.top-2?(f(m.right,m.top,null,m.bottom),f(u,g.top,g.left,g.bottom)):f(m.right,m.top,g.left-m.right,m.bottom)),m.bottom<g.top&&f(u,m.bottom,null,g.top)}n.appendChild(s)}function on(e){if(!e.state.focused)return;var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){t.cursorDiv.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}function un(e,t){e.doc.mode.startState&&e.doc.frontier<e.display.viewTo&&e.state.highlight.set(t,ru(an,e))}function an(e){var t=e.doc;t.frontier<t.first&&(t.frontier=t.first);if(t.frontier>=e.display.viewTo)return;var n=+(new Date)+e.options.workTime,r=Oi(t.mode,ln(e,t.frontier)),i=[];t.iter(t.frontier,Math.min(t.first+t.size,e.display.viewTo+500),function(s){if(t.frontier>=e.display.viewFrom){var o=s.styles,u=Ms(e,s,r,!0);s.styles=u.styles;var a=s.styleClasses,f=u.classes;f?s.styleClasses=f:a&&(s.styleClasses=null);var l=!o||o.length!=s.styles.length||a!=f&&(!a||!f||a.bgClass!=f.bgClass||a.textClass!=f.textClass);for(var c=0;!l&&c<o.length;++c)l=o[c]!=s.styles[c];l&&i.push(t.frontier),s.stateAfter=Oi(t.mode,r)}else Ds(e,s.text,r),s.stateAfter=t.frontier%5==0?Oi(t.mode,r):null;++t.frontier;if(+(new Date)>n)return un(e,e.options.workDelay),!0}),i.length&&tr(e,function(){for(var t=0;t<i.length;t++)ar(e,i[t],"text")})}function fn(e,t,n){var r,i,s=e.doc,o=n?-1:t-(e.doc.mode.innerMode?1e3:100);for(var u=t;u>o;--u){if(u<=s.first)return s.first;var a=eo(s,u-1);if(a.stateAfter&&(!n||u<=s.frontier))return u;var f=Vo(a.text,null,e.options.tabSize);if(i==null||r>f)i=u-1,r=f}return i}function ln(e,t,n){var r=e.doc,i=e.display;if(!r.mode.startState)return!0;var s=fn(e,t,n),o=s>r.first&&eo(r,s-1).stateAfter;return o?o=Oi(r.mode,o):o=Mi(r.mode),r.iter(s,t,function(n){Ds(e,n.text,o);var u=s==t-1||s%5==0||s>=i.viewFrom&&s<i.viewTo;n.stateAfter=u?Oi(r.mode,o):null,++s}),n&&(r.frontier=s),o}function cn(e){return e.lineSpace.offsetTop}function hn(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function pn(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=pu(e.measure,lu("pre","x")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return!isNaN(r.left)&&!isNaN(r.right)&&(e.cachedPaddingH=r),r}function dn(e){return qo-e.display.nativeBarWidth}function vn(e){return e.display.scroller.clientWidth-dn(e)-e.display.barWidth}function mn(e){return e.display.scroller.clientHeight-dn(e)-e.display.barHeight}function gn(e,t,n){var r=e.options.lineWrapping,i=r&&vn(e);if(!t.measure.heights||r&&t.measure.width!=i){var s=t.measure.heights=[];if(r){t.measure.width=i;var o=t.text.firstChild.getClientRects();for(var u=0;u<o.length-1;u++){var a=o[u],f=o[u+1];Math.abs(a.bottom-f.bottom)>2&&s.push((a.bottom+f.top)/2-n.top)}}s.push(n.bottom-n.top)}}function yn(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var r=0;r<e.rest.length;r++)if(io(e.rest[r])>n)return{map:e.measure.maps[r],cache:e.measure.caches[r],before:!0}}function bn(e,t){t=ps(t);var n=io(t),r=e.display.externalMeasured=new sr(e.doc,t,n);r.lineN=n;var i=r.built=js(e,r);return r.text=i.pre,pu(e.display.lineMeasure,i.pre),r}function wn(e,t,n,r){return xn(e,Sn(e,t),n,r)}function En(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[lr(e,t)];var n=e.display.externalMeasured;if(n&&t>=n.lineN&&t<n.lineN+n.size)return n}function Sn(e,t){var n=io(t),r=En(e,n);r&&!r.text?r=null:r&&r.changes&&nt(e,r,n,et(e)),r||(r=bn(e,t));var i=yn(r,t,n);return{line:t,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function xn(e,t,n,r,i){t.before&&(n=-1);var s=n+(r||""),o;return t.cache.hasOwnProperty(s)?o=t.cache[s]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(gn(e,t.view,t.rect),t.hasHeights=!0),o=Cn(e,t,n,r),o.bogus||(t.cache[s]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}function Nn(e,t,n){var r,i,s,o;for(var u=0;u<e.length;u+=3){var a=e[u],f=e[u+1];if(t<a)i=0,s=1,o="left";else if(t<f)i=t-a,s=i+1;else if(u==e.length-3||t==f&&e[u+3]>t)s=f-a,i=s-1,t>=f&&(o="right");if(i!=null){r=e[u+2],a==f&&n==(r.insertLeft?"left":"right")&&(o=n);if(n=="left"&&i==0)while(u&&e[u-2]==e[u-3]&&e[u-1].insertLeft)r=e[(u-=3)+2],o="left";if(n=="right"&&i==f-a)while(u<e.length-3&&e[u+3]==e[u+4]&&!e[u+5].insertLeft)r=e[(u+=3)+2],o="right";break}}return{node:r,start:i,end:s,collapse:o,coverStart:a,coverEnd:f}}function Cn(e,t,n,s){var o=Nn(t.map,n,s),u=o.node,a=o.start,f=o.end,l=o.collapse,c;if(u.nodeType==3){for(var h=0;h<4;h++){while(a&&fu(t.line.text.charAt(o.coverStart+a)))--a;while(o.coverStart+f<o.coverEnd&&fu(t.line.text.charAt(o.coverStart+f)))++f;if(r&&i<9&&a==0&&f==o.coverEnd-o.coverStart)c=u.parentNode.getBoundingClientRect();else if(r&&e.options.lineWrapping){var p=cu(u,a,f).getClientRects();p.length?c=p[s=="right"?p.length-1:0]:c=Tn}else c=cu(u,a,f).getBoundingClientRect()||Tn;if(c.left||c.right||a==0)break;f=a,a-=1,l="right"}r&&i<11&&(c=kn(e.display.measure,c))}else{a>0&&(l=s="right");var p;e.options.lineWrapping&&(p=u.getClientRects()).length>1?c=p[s=="right"?p.length-1:0]:c=u.getBoundingClientRect()}if(r&&i<9&&!a&&(!c||!c.left&&!c.right)){var d=u.parentNode.getClientRects()[0];d?c={left:d.left,right:d.left+zn(e.display),top:d.top,bottom:d.bottom}:c=Tn}var v=c.top-t.rect.top,m=c.bottom-t.rect.top,g=(v+m)/2,y=t.view.measure.heights;for(var h=0;h<y.length-1;h++)if(g<y[h])break;var b=h?y[h-1]:0,w=y[h],E={left:(l=="right"?c.right:c.left)-t.rect.left,right:(l=="left"?c.left:c.right)-t.rect.left,top:b,bottom:w};return!c.left&&!c.right&&(E.bogus=!0),e.options.singleCursorHeightPerLine||(E.rtop=v,E.rbottom=m),E}function kn(e,t){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!Du(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*r,bottom:t.bottom*r}}function Ln(e){if(e.measure){e.measure.cache={},e.measure.heights=null;if(e.rest)for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}}function An(e){e.display.externalMeasure=null,hu(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)Ln(e.display.view[t])}function On(e){An(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function Mn(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function _n(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function Dn(e,t,n,r){if(t.widgets)for(var i=0;i<t.widgets.length;++i)if(t.widgets[i].above){var s=Es(t.widgets[i]);n.top+=s,n.bottom+=s}if(r=="line")return n;r||(r="local");var o=oo(t);r=="local"?o+=cn(e.display):o-=e.display.viewOffset;if(r=="page"||r=="window"){var u=e.display.lineSpace.getBoundingClientRect();o+=u.top+(r=="window"?0:_n());var a=u.left+(r=="window"?0:Mn());n.left+=a,n.right+=a}return n.top+=o,n.bottom+=o,n}function Pn(e,t,n){if(n=="div")return t;var r=t.left,i=t.top;if(n=="page")r-=Mn(),i-=_n();else if(n=="local"||!n){var s=e.display.sizer.getBoundingClientRect();r+=s.left,i+=s.top}var o=e.display.lineSpace.getBoundingClientRect();return{left:r-o.left,top:i-o.top}}function Hn(e,t,n,r,i){return r||(r=eo(e.doc,t.line)),Dn(e,r,wn(e,r,t.ch,i),n)}function Bn(e,t,n,r,i,s){function o(t,o){var u=xn(e,i,t,o?"right":"left",s);return o?u.left=u.right:u.right=u.left,Dn(e,r,u,n)}function u(e,t){var n=a[t],r=n.level%2;return e==Bu(n)&&t&&n.level<a[t-1].level?(n=a[--t],e=ju(n)-(n.level%2?0:1),r=!0):e==ju(n)&&t<a.length-1&&n.level<a[t+1].level&&(n=a[++t],e=Bu(n)-n.level%2,r=!1),r&&e==n.to&&e>n.from?o(e-1):o(e,r)}r=r||eo(e.doc,t.line),i||(i=Sn(e,r));var a=uo(r),f=t.ch;if(!a)return o(f);var l=Xu(a,f),c=u(f,l);return Wu!=null&&(c.other=u(f,Wu)),c}function jn(e,t){var n=0,t=Ft(e.doc,t);e.options.lineWrapping||(n=zn(e.display)*t.ch);var r=eo(e.doc,t.line),i=oo(r)+cn(e.display);return{left:n,right:n,top:i,bottom:i+r.height}}function Fn(e,t,n,r){var i=dt(e,t);return i.xRel=r,n&&(i.outside=!0),i}function In(e,t,n){var r=e.doc;n+=e.display.viewOffset;if(n<0)return Fn(r.first,0,!0,-1);var i=so(r,n),s=r.first+r.size-1;if(i>s)return Fn(r.first+r.size-1,eo(r,s).text.length,!0,1);t<0&&(t=0);var o=eo(r,i);for(;;){var u=qn(e,o,i,t,n),a=cs(o),f=a&&a.find(0,!0);if(!a||!(u.ch>f.from.ch||u.ch==f.from.ch&&u.xRel>0))return u;i=io(o=f.to.line)}}function qn(e,t,n,r,i){function f(r){var i=Bn(e,dt(n,r),"line",t,a);return o=!0,s>i.bottom?i.left-u:s<i.top?i.left+u:(o=!1,i.left)}var s=i-oo(t),o=!1,u=2*e.display.wrapper.clientWidth,a=Sn(e,t),l=uo(t),c=t.text.length,h=Fu(t),p=Iu(t),d=f(h),v=o,m=f(p),g=o;if(r>m)return Fn(n,p,g,1);for(;;){if(l?p==h||p==$u(t,h,1):p-h<=1){var y=r<d||r-d<=m-r?h:p,b=r-(y==h?d:m);while(fu(t.text.charAt(y)))++y;var w=Fn(n,y,y==h?v:g,b<-1?-1:b>1?1:0);return w}var E=Math.ceil(c/2),S=h+E;if(l){S=h;for(var x=0;x<E;++x)S=$u(t,S,1)}var T=f(S);if(T>r){p=S,m=T;if(g=o)m+=1e3;c=E}else h=S,d=T,v=o,c-=E}}function Un(e){if(e.cachedTextHeight!=null)return e.cachedTextHeight;if(Rn==null){Rn=lu("pre");for(var t=0;t<49;++t)Rn.appendChild(document.createTextNode("x")),Rn.appendChild(lu("br"));Rn.appendChild(document.createTextNode("x"))}pu(e.measure,Rn);var n=Rn.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),hu(e.measure),n||1}function zn(e){if(e.cachedCharWidth!=null)return e.cachedCharWidth;var t=lu("span","xxxxxxxxxx"),n=lu("pre",[t]);pu(e.measure,n);var r=t.getBoundingClientRect(),i=(r.right-r.left)/10;return i>2&&(e.cachedCharWidth=i),i||10}function Vn(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,id:++Xn},Wn?Wn.ops.push(e.curOp):e.curOp.ownsGroup=Wn={ops:[e.curOp],delayedCallbacks:[]}}function $n(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n]();for(var r=0;r<e.ops.length;r++){var i=e.ops[r];if(i.cursorActivityHandlers)while(i.cursorActivityCalled<i.cursorActivityHandlers.length)i.cursorActivityHandlers[i.cursorActivityCalled++](i.cm)}}while(n<t.length)}function Jn(e){var t=e.curOp,n=t.ownsGroup;if(!n)return;try{$n(n)}finally{Wn=null;for(var r=0;r<n.ops.length;r++)n.ops[r].cm.curOp=null;Kn(n)}}function Kn(e){var t=e.ops;for(var n=0;n<t.length;n++)Qn(t[n]);for(var n=0;n<t.length;n++)Gn(t[n]);for(var n=0;n<t.length;n++)Yn(t[n]);for(var n=0;n<t.length;n++)Zn(t[n]);for(var n=0;n<t.length;n++)er(t[n])}function Qn(e){var t=e.cm,n=t.display;$(t),e.updateMaxLine&&D(t),e.mustUpdate=e.viewChanged||e.forceUpdate||e.scrollTop!=null||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new V(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Gn(e){e.updatedDisplay=e.mustUpdate&&J(e.cm,e.update)}function Yn(e){var t=e.cm,n=t.display;e.updatedDisplay&&Y(t),e.barMeasure=H(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=wn(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+dn(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-vn(t)));if(e.updatedDisplay||e.selectionChanged)e.preparedSelection=n.input.prepareSelection()}function Zn(e){var t=e.cm;e.adjustWidthTo!=null&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&Or(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1),e.preparedSelection&&t.display.input.showSelection(e.preparedSelection),e.updatedDisplay&&G(t,e.barMeasure),(e.updatedDisplay||e.startHeight!=t.doc.height)&&I(t,e.barMeasure),e.selectionChanged&&on(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing)}function er(e){var t=e.cm,n=t.display,r=t.doc;e.updatedDisplay&&K(t,e.update),n.wheelStartX!=null&&(e.scrollTop!=null||e.scrollLeft!=null||e.scrollToPos)&&(n.wheelStartX=n.wheelStartY=null),e.scrollTop!=null&&(n.scroller.scrollTop!=e.scrollTop||e.forceScroll)&&(r.scrollTop=Math.max(0,Math.min(n.scroller.scrollHeight-n.scroller.clientHeight,e.scrollTop)),n.scrollbars.setScrollTop(r.scrollTop),n.scroller.scrollTop=r.scrollTop),e.scrollLeft!=null&&(n.scroller.scrollLeft!=e.scrollLeft||e.forceScroll)&&(r.scrollLeft=Math.max(0,Math.min(n.scroller.scrollWidth-vn(t),e.scrollLeft)),n.scrollbars.setScrollLeft(r.scrollLeft),n.scroller.scrollLeft=r.scrollLeft,U(t));if(e.scrollToPos){var i=li(t,Ft(r,e.scrollToPos.from),Ft(r,e.scrollToPos.to),e.scrollToPos.margin);e.scrollToPos.isCursor&&t.state.focused&&fi(t,i)}var s=e.maybeHiddenMarkers,o=e.maybeUnhiddenMarkers;if(s)for(var u=0;u<s.length;++u)s[u].lines.length||_o(s[u],"hide");if(o)for(var u=0;u<o.length;++u)o[u].lines.length&&_o(o[u],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&_o(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function tr(e,t){if(e.curOp)return t();Vn(e);try{return t()}finally{Jn(e)}}function nr(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Vn(e);try{return t.apply(e,arguments)}finally{Jn(e)}}}function rr(e){return function(){if(this.curOp)return e.apply(this,arguments);Vn(this);try{return e.apply(this,arguments)}finally{Jn(this)}}}function ir(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);Vn(t);try{return e.apply(this,arguments)}finally{Jn(t)}}}function sr(e,t,n){this.line=t,this.rest=ds(t),this.size=this.rest?io(Qo(this.rest))-n+1:1,this.node=this.text=null,this.hidden=gs(e,t)}function or(e,t,n){var r=[],i;for(var s=t;s<n;s=i){var o=new sr(e.doc,eo(e.doc,s),s);i=s+o.size,r.push(o)}return r}function ur(e,t,n,r){t==null&&(t=e.doc.first),n==null&&(n=e.doc.first+e.doc.size),r||(r=0);var i=e.display;r&&n<i.viewTo&&(i.updateLineNumbers==null||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0;if(t>=i.viewTo)w&&vs(e.doc,t)<i.viewTo&&fr(e);else if(n<=i.viewFrom)w&&ms(e.doc,n+r)>i.viewFrom?fr(e):(i.viewFrom+=r,i.viewTo+=r);else if(t<=i.viewFrom&&n>=i.viewTo)fr(e);else if(t<=i.viewFrom){var s=cr(e,n,n+r,1);s?(i.view=i.view.slice(s.index),i.viewFrom=s.lineN,i.viewTo+=r):fr(e)}else if(n>=i.viewTo){var s=cr(e,t,t,-1);s?(i.view=i.view.slice(0,s.index),i.viewTo=s.lineN):fr(e)}else{var o=cr(e,t,t,-1),u=cr(e,n,n+r,1);o&&u?(i.view=i.view.slice(0,o.index).concat(or(e,o.lineN,u.lineN)).concat(i.view.slice(u.index)),i.viewTo+=r):fr(e)}var a=i.externalMeasured;a&&(n<a.lineN?a.lineN+=r:t<a.lineN+a.size&&(i.externalMeasured=null))}function ar(e,t,n){e.curOp.viewChanged=!0;var r=e.display,i=e.display.externalMeasured;i&&t>=i.lineN&&t<i.lineN+i.size&&(r.externalMeasured=null);if(t<r.viewFrom||t>=r.viewTo)return;var s=r.view[lr(e,t)];if(s.node==null)return;var o=s.changes||(s.changes=[]);Yo(o,n)==-1&&o.push(n)}function fr(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function lr(e,t){if(t>=e.display.viewTo)return null;t-=e.display.viewFrom;if(t<0)return null;var n=e.display.view;for(var r=0;r<n.length;r++){t-=n[r].size;if(t<0)return r}}function cr(e,t,n,r){var i=lr(e,t),s,o=e.display.view;if(!w||n==e.doc.first+e.doc.size)return{index:i,lineN:n};for(var u=0,a=e.display.viewFrom;u<i;u++)a+=o[u].size;if(a!=t){if(r>0){if(i==o.length-1)return null;s=a+o[i].size-t,i++}else s=a-t;t+=s,n+=s}while(vs(e.doc,n)!=n){if(i==(r<0?0:o.length-1))return null;n+=r*o[i-(r<0?1:0)].size,i+=r}return{index:i,lineN:n}}function hr(e,t,n){var r=e.display,i=r.view;i.length==0||t>=r.viewTo||n<=r.viewFrom?(r.view=or(e,t,n),r.viewFrom=t):(r.viewFrom>t?r.view=or(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(lr(e,t))),r.viewFrom=t,r.viewTo<n?r.view=r.view.concat(or(e,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,lr(e,n)))),r.viewTo=n}function pr(e){var t=e.display.view,n=0;for(var r=0;r<t.length;r++){var i=t[r];!i.hidden&&(!i.node||i.changes)&&++n}return n}function dr(e){function o(){t.activeTouch&&(n=setTimeout(function(){t.activeTouch=null},1e3),s=t.activeTouch,s.end=+(new Date))}function u(e){if(e.touches.length!=1)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function a(e,t){if(t.left==null)return!0;var n=t.left-e.left,r=t.top-e.top;return n*n+r*r>400}function f(t){Bo(e,t)||ko(t)}var t=e.display;Oo(t.scroller,"mousedown",nr(e,yr)),r&&i<11?Oo(t.scroller,"dblclick",nr(e,function(t){if(Bo(e,t))return;var n=gr(e,t);if(!n||Nr(e,t)||mr(e.display,t))return;To(t);var r=e.findWordAt(n);zt(e.doc,r.anchor,r.head)})):Oo(t.scroller,"dblclick",function(t){Bo(e,t)||To(t)}),y||Oo(t.scroller,"contextmenu",function(t){Jr(e,t)});var n,s={end:0};Oo(t.scroller,"touchstart",function(e){if(!u(e)){clearTimeout(n);var r=+(new Date);t.activeTouch={start:r,moved:!1,prev:r-s.end<=300?s:null},e.touches.length==1&&(t.activeTouch.left=e.touches[0].pageX,t.activeTouch.top=e.touches[0].pageY)}}),Oo(t.scroller,"touchmove",function(){t.activeTouch&&(t.activeTouch.moved=!0)}),Oo(t.scroller,"touchend",function(n){var r=t.activeTouch;if(r&&!mr(t,n)&&r.left!=null&&!r.moved&&new Date-r.start<300){var i=e.coordsChar(t.activeTouch,"page"),s;!r.prev||a(r,r.prev)?s=new Pt(i,i):!r.prev.prev||a(r,r.prev.prev)?s=e.findWordAt(i):s=new Pt(dt(i.line,0),Ft(e.doc,dt(i.line+1,0))),e.setSelection(s.anchor,s.head),e.focus(),To(n)}o()}),Oo(t.scroller,"touchcancel",o),Oo(t.scroller,"scroll",function(){t.scroller.clientHeight&&(Ar(e,t.scroller.scrollTop),Or(e,t.scroller.scrollLeft,!0),_o(e,"scroll",e))}),Oo(t.scroller,"mousewheel",function(t){Pr(e,t)}),Oo(t.scroller,"DOMMouseScroll",function(t){Pr(e,t)}),Oo(t.wrapper,"scroll",function(){t.wrapper.scrollTop=t.wrapper.scrollLeft=0}),e.options.dragDrop&&(Oo(t.scroller,"dragstart",function(t){Lr(e,t)}),Oo(t.scroller,"dragenter",f),Oo(t.scroller,"dragover",f),Oo(t.scroller,"drop",nr(e,kr)));var l=t.input.getField();Oo(l,"keyup",function(t){Wr.call(e,t)}),Oo(l,"keydown",nr(e,Ur)),Oo(l,"keypress",nr(e,Xr)),Oo(l,"focus",ru(Vr,e)),Oo(l,"blur",ru($r,e))}function vr(e){var t=e.display;if(t.lastWrapHeight==t.wrapper.clientHeight&&t.lastWrapWidth==t.wrapper.clientWidth)return;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}function mr(e,t){for(var n=Lo(t);n!=e.wrapper;n=n.parentNode)if(!n||n.nodeType==1&&n.getAttribute("cm-ignore-events")=="true"||n.parentNode==e.sizer&&n!=e.mover)return!0}function gr(e,t,n,r){var i=e.display;if(!n&&Lo(t).getAttribute("cm-not-content")=="true")return null;var s,o,u=i.lineSpace.getBoundingClientRect();try{s=t.clientX-u.left,o=t.clientY-u.top}catch(t){return null}var a=In(e,s,o),f;if(r&&a.xRel==1&&(f=eo(e.doc,a.line).text).length==a.ch){var l=Vo(f,f.length,e.options.tabSize)-f.length;a=dt(a.line,Math.max(0,Math.round((s-pn(e.display).left)/zn(e.display))-l))}return a}function yr(e){var t=this,n=t.display;if(n.activeTouch&&n.input.supportsTouch()||Bo(t,e))return;n.shift=e.shiftKey;if(mr(n,e)){s||(n.scroller.draggable=!1,setTimeout(function(){n.scroller.draggable=!0},100));return}if(Nr(t,e))return;var r=gr(t,e);window.focus();switch(Ao(e)){case 1:r?Er(t,e,r):Lo(e)==n.scroller&&To(e);break;case 2:s&&(t.state.lastMiddleDown=+(new Date)),r&&zt(t.doc,r),setTimeout(function(){n.input.focus()},20),To(e);break;case 3:y&&Jr(t,e)}}function Er(e,t,n){r?setTimeout(ru(bt,e),0):bt(e);var i=+(new Date),s;wr&&wr.time>i-400&&vt(wr.pos,n)==0?s="triple":br&&br.time>i-400&&vt(br.pos,n)==0?(s="double",wr={time:i,pos:n}):(s="single",br={time:i,pos:n});var o=e.doc.sel,u=d?t.metaKey:t.ctrlKey,a;e.options.dragDrop&&Tu&&!wt(e)&&s=="single"&&(a=o.contains(n))>-1&&!o.ranges[a].empty()?Sr(e,t,n,u):xr(e,t,n,s,u)}function Sr(e,t,n,o){var u=e.display,a=nr(e,function(f){s&&(u.scroller.draggable=!1),e.state.draggingText=!1,Mo(document,"mouseup",a),Mo(u.scroller,"drop",a),Math.abs(t.clientX-f.clientX)+Math.abs(t.clientY-f.clientY)<10&&(To(f),o||zt(e.doc,n),u.input.focus(),r&&i==9&&setTimeout(function(){document.body.focus(),u.input.focus()},20))});s&&(u.scroller.draggable=!0),e.state.draggingText=a,u.scroller.dragDrop&&u.scroller.dragDrop(),Oo(document,"mouseup",a),Oo(u.scroller,"drop",a)}function xr(e,t,n,r,i){function d(t){if(vt(p,t)==0)return;p=t;if(r=="rect"){var i=[],s=e.options.tabSize,l=Vo(eo(o,n.line).text,n.ch,s),c=Vo(eo(o,t.line).text,t.ch,s),h=Math.min(l,c),d=Math.max(l,c);for(var v=Math.min(n.line,t.line),m=Math.min(e.lastLine(),Math.max(n.line,t.line));v<=m;v++){var g=eo(o,v).text,y=$o(g,h,s);h==d?i.push(new Pt(dt(v,y),dt(v,y))):g.length>y&&i.push(new Pt(dt(v,y),dt(v,$o(g,d,s))))}i.length||i.push(new Pt(n,n)),Kt(o,Ht(f.ranges.slice(0,a).concat(i),a),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var b=u,w=b.anchor,E=t;if(r!="single"){if(r=="double")var S=e.findWordAt(t);else var S=new Pt(dt(t.line,0),Ft(o,dt(t.line+1,0)));vt(S.anchor,w)>0?(E=S.head,w=yt(b.from(),S.anchor)):(E=S.anchor,w=gt(b.to(),S.head))}var i=f.ranges.slice(0);i[a]=new Pt(Ft(o,w),E),Kt(o,Ht(i,a),zo)}}function g(t){var n=++m,i=gr(e,t,!0,r=="rect");if(!i)return;if(vt(i,p)!=0){bt(e),d(i);var u=R(s,o);(i.line>=u.to||i.line<u.from)&&setTimeout(nr(e,function(){m==n&&g(t)}),150)}else{var a=t.clientY<v.top?-20:t.clientY>v.bottom?20:0;a&&setTimeout(nr(e,function(){if(m!=n)return;s.scroller.scrollTop+=a,g(t)}),50)}}function y(e){m=Infinity,To(e),s.input.focus(),Mo(document,"mousemove",b),Mo(document,"mouseup",w),o.history.lastSelOrigin=null}var s=e.display,o=e.doc;To(t);var u,a,f=o.sel,l=f.ranges;i&&!t.shiftKey?(a=o.sel.contains(n),a>-1?u=l[a]:u=new Pt(n,n)):u=o.sel.primary();if(t.altKey)r="rect",i||(u=new Pt(n,n)),n=gr(e,t,!0,!0),a=-1;else if(r=="double"){var c=e.findWordAt(n);e.display.shift||o.extend?u=Ut(o,u,c.anchor,c.head):u=c}else if(r=="triple"){var h=new Pt(dt(n.line,0),Ft(o,dt(n.line+1,0)));e.display.shift||o.extend?u=Ut(o,u,h.anchor,h.head):u=h}else u=Ut(o,u,n);i?a==-1?(a=l.length,Kt(o,Ht(l.concat([u]),a),{scroll:!1,origin:"*mouse"})):l.length>1&&l[a].empty()&&r=="single"?(Kt(o,Ht(l.slice(0,a).concat(l.slice(a+1)),0)),f=o.sel):Xt(o,a,u,zo):(a=0,Kt(o,new Dt([u],0),zo),f=o.sel);var p=n,v=s.wrapper.getBoundingClientRect(),m=0,b=nr(e,function(e){Ao(e)?g(e):y(e)}),w=nr(e,y);Oo(document,"mousemove",b),Oo(document,"mouseup",w)}function Tr(e,t,n,r,i){try{var s=t.clientX,o=t.clientY}catch(t){return!1}if(s>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&To(t);var u=e.display,a=u.lineDiv.getBoundingClientRect();if(o>a.bottom||!Fo(e,n))return Co(t);o-=a.top-u.viewOffset;for(var f=0;f<e.options.gutters.length;++f){var l=u.gutters.childNodes[f];if(l&&l.getBoundingClientRect().right>=s){var c=so(e.doc,o),h=e.options.gutters[f];return i(e,n,e,c,h,t),Co(t)}}}function Nr(e,t){return Tr(e,t,"gutterClick",!0,Po)}function kr(e){var t=this;if(Bo(t,e)||mr(t.display,e))return;To(e),r&&(Cr=+(new Date));var n=gr(t,e,!0),i=e.dataTransfer.files;if(!n||wt(t))return;if(i&&i.length&&window.FileReader&&window.File){var s=i.length,o=Array(s),u=0,a=function(e,r){var i=new FileReader;i.onload=nr(t,function(){o[r]=i.result;if(++u==s){n=Ft(t.doc,n);var e={from:n,to:n,text:Au(o.join("\n")),origin:"paste"};ni(t.doc,e),Jt(t.doc,Bt(n,Qr(e)))}}),i.readAsText(e)};for(var f=0;f<s;++f)a(i[f],f)}else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1){t.state.draggingText(e),setTimeout(function(){t.display.input.focus()},20);return}try{var o=e.dataTransfer.getData("Text");if(o){if(t.state.draggingText&&(d?!e.metaKey:!e.ctrlKey))var l=t.listSelections();Qt(t.doc,Bt(n,n));if(l)for(var f=0;f<l.length;++f)ai(t.doc,"",l[f].anchor,l[f].head,"drag");t.replaceSelection(o,"around","paste"),t.display.input.focus()}}catch(e){}}}function Lr(e,t){if(r&&(!e.state.draggingText||+(new Date)-Cr<100)){ko(t);return}if(Bo(e,t)||mr(e.display,t))return;t.dataTransfer.setData("Text",e.getSelection());if(t.dataTransfer.setDragImage&&!f){var n=lu("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",a&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),a&&n.parentNode.removeChild(n)}}function Ar(t,n){if(Math.abs(t.doc.scrollTop-n)<2)return;t.doc.scrollTop=n,e||Q(t,{top:n}),t.display.scroller.scrollTop!=n&&(t.display.scroller.scrollTop=n),t.display.scrollbars.setScrollTop(n),e&&Q(t),un(t,100)}function Or(e,t,n){if(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)return;t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),e.doc.scrollLeft=t,U(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t)}function Pr(t,n){var r=Dr(n),i=r.x,o=r.y,u=t.display,f=u.scroller;if(!(i&&f.scrollWidth>f.clientWidth||o&&f.scrollHeight>f.clientHeight))return;if(o&&d&&s)e:for(var l=n.target,c=u.view;l!=f;l=l.parentNode)for(var h=0;h<c.length;h++)if(c[h].node==l){t.display.currentWheelTarget=l;break e}if(i&&!e&&!a&&_r!=null){o&&Ar(t,Math.max(0,Math.min(f.scrollTop+o*_r,f.scrollHeight-f.clientHeight))),Or(t,Math.max(0,Math.min(f.scrollLeft+i*_r,f.scrollWidth-f.clientWidth))),To(n),u.wheelStartX=null;return}if(o&&_r!=null){var p=o*_r,v=t.doc.scrollTop,m=v+u.wrapper.clientHeight;p<0?v=Math.max(0,v+p-50):m=Math.min(t.doc.height,m+p+50),Q(t,{top:v,bottom:m})}Mr<20&&(u.wheelStartX==null?(u.wheelStartX=f.scrollLeft,u.wheelStartY=f.scrollTop,u.wheelDX=i,u.wheelDY=o,setTimeout(function(){if(u.wheelStartX==null)return;var e=f.scrollLeft-u.wheelStartX,t=f.scrollTop-u.wheelStartY,n=t&&u.wheelDY&&t/u.wheelDY||e&&u.wheelDX&&e/u.wheelDX;u.wheelStartX=u.wheelStartY=null;if(!n)return;_r=(_r*Mr+n)/(Mr+1),++Mr},200)):(u.wheelDX+=i,u.wheelDY+=o))}function Hr(e,t,n){if(typeof t=="string"){t=_i[t];if(!t)return!1}e.display.input.ensurePolled();var r=e.display.shift,i=!1;try{wt(e)&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),i=t(e)!=Ro}finally{e.display.shift=r,e.state.suppressEdits=!1}return i}function Br(e,t,n){for(var r=0;r<e.state.keyMaps.length;r++){var i=Hi(t,e.state.keyMaps[r],n,e);if(i)return i}return e.options.extraKeys&&Hi(t,e.options.extraKeys,n,e)||Hi(t,e.options.keyMap,n,e)}function Fr(e,t,n,r){var i=e.state.keySeq;if(i){if(Bi(t))return"handled";jr.set(50,function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())}),t=i+" "+t}var s=Br(e,t,r);s=="multi"&&(e.state.keySeq=t),s=="handled"&&Po(e,"keyHandled",e,t,n);if(s=="handled"||s=="multi")To(n),on(e);return i&&!s&&/\'$/.test(t)?(To(n),!0):!!s}function Ir(e,t){var n=ji(t,!0);return n?t.shiftKey&&!e.state.keySeq?Fr(e,"Shift-"+n,t,function(t){return Hr(e,t,!0)})||Fr(e,n,t,function(t){if(typeof t=="string"?/^go[A-Z]/.test(t):t.motion)return Hr(e,t)}):Fr(e,n,t,function(t){return Hr(e,t)}):!1}function qr(e,t,n){return Fr(e,"'"+n+"'",t,function(t){return Hr(e,t,!0)})}function Ur(e){var t=this;bt(t);if(Bo(t,e))return;r&&i<11&&e.keyCode==27&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=n==16||e.shiftKey;var s=Ir(t,e);a&&(Rr=s?n:null,!s&&n==88&&!Mu&&(d?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),n==18&&!/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)&&zr(t)}function zr(e){function n(e){if(e.keyCode==18||!e.altKey)gu(t,"CodeMirror-crosshair"),Mo(document,"keyup",n),Mo(document,"mouseover",n)}var t=e.display.lineDiv;yu(t,"CodeMirror-crosshair"),Oo(document,"keyup",n),Oo(document,"mouseover",n)}function Wr(e){e.keyCode==16&&(this.doc.sel.shift=!1),Bo(this,e)}function Xr(e){var t=this;if(mr(t.display,e)||Bo(t,e)||e.ctrlKey&&!e.altKey||d&&e.metaKey)return;var n=e.keyCode,r=e.charCode;if(a&&n==Rr){Rr=null,To(e);return}if(a&&(!e.which||e.which<10)&&Ir(t,e))return;var i=String.fromCharCode(r==null?n:r);if(qr(t,e,i))return;t.display.input.onKeyPress(e)}function Vr(e){if(e.options.readOnly=="nocursor")return;e.state.focused||(_o(e,"focus",e),e.state.focused=!0,yu(e.display.wrapper,"CodeMirror-focused"),!e.curOp&&e.display.selForContextMenu!=e.doc.sel&&(e.display.input.reset(),s&&setTimeout(function(){e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),on(e)}function $r(e){e.state.focused&&(_o(e,"blur",e),e.state.focused=!1,gu(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150)}function Jr(e,t){if(mr(e.display,t)||Kr(e,t))return;e.display.input.onContextMenu(t)}function Kr(e,t){return Fo(e,"gutterContextMenu")?Tr(e,t,"gutterContextMenu",!1,_o):!1}function Gr(e,t){if(vt(e,t.from)<0)return e;if(vt(e,t.to)<=0)return Qr(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=Qr(t).ch-t.to.ch),dt(n,r)}function Yr(e,t){var n=[];for(var r=0;r<e.sel.ranges.length;r++){var i=e.sel.ranges[r];n.push(new Pt(Gr(i.anchor,t),Gr(i.head,t)))}return Ht(n,e.sel.primIndex)}function Zr(e,t,n){return e.line==t.line?dt(n.line,e.ch-t.ch+n.ch):dt(n.line+(e.line-t.line),e.ch)}function ei(e,t,n){var r=[],i=dt(e.first,0),s=i;for(var o=0;o<t.length;o++){var u=t[o],a=Zr(u.from,i,s),f=Zr(Qr(u),i,s);i=u.to,s=f;if(n=="around"){var l=e.sel.ranges[o],c=vt(l.head,l.anchor)<0;r[o]=new Pt(c?f:a,c?a:f)}else r[o]=new Pt(a,a)}return new Dt(r,e.sel.primIndex)}function ti(e,t,n){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){this.canceled=!0}};return n&&(r.update=function(t,n,r,i){t&&(this.from=Ft(e,t)),n&&(this.to=Ft(e,n)),r&&(this.text=r),i!==undefined&&(this.origin=i)}),_o(e,"beforeChange",e,r),e.cm&&_o(e.cm,"beforeChange",e.cm,r),r.canceled?null:{from:r.from,to:r.to,text:r.text,origin:r.origin}}function ni(e,t,n){if(e.cm){if(!e.cm.curOp)return nr(e.cm,ni)(e,t,n);if(e.cm.state.suppressEdits)return}if(Fo(e,"beforeChange")||e.cm&&Fo(e.cm,"beforeChange")){t=ti(e,t,!0);if(!t)return}var r=b&&!n&&rs(e,t.from,t.to);if(r)for(var i=r.length-1;i>=0;--i)ri(e,{from:r[i].from,to:r[i].to,text:i?[""]:t.text});else ri(e,t)}function ri(e,t){if(t.text.length==1&&t.text[0]==""&&vt(t.from,t.to)==0)return;var n=Yr(e,t);ho(e,t,n,e.cm?e.cm.curOp.id:NaN),oi(e,t,n,es(e,t));var r=[];Ys(e,function(e,n){!n&&Yo(r,e.history)==-1&&(xo(e.history,t),r.push(e.history)),oi(e,t,null,es(e,t))})}function ii(e,t,n){if(e.cm&&e.cm.state.suppressEdits)return;var r=e.history,i,s=e.sel,o=t=="undo"?r.done:r.undone,u=t=="undo"?r.undone:r.done;for(var a=0;a<o.length;a++){i=o[a];if(n?i.ranges&&!i.equals(e.sel):!i.ranges)break}if(a==o.length)return;r.lastOrigin=r.lastSelOrigin=null;for(;;){i=o.pop();if(!i.ranges)break;mo(i,u);if(n&&!i.equals(e.sel)){Kt(e,i,{clearRedo:!1});return}s=i}var f=[];mo(s,u),u.push({changes:f,generation:r.generation}),r.generation=i.generation||++r.maxGeneration;var l=Fo(e,"beforeChange")||e.cm&&Fo(e.cm,"beforeChange");for(var a=i.changes.length-1;a>=0;--a){var c=i.changes[a];c.origin=t;if(l&&!ti(e,c,!1)){o.length=0;return}f.push(fo(e,c));var h=a?Yr(e,c):Qo(o);oi(e,c,h,ns(e,c)),!a&&e.cm&&e.cm.scrollIntoView({from:c.from,to:Qr(c)});var p=[];Ys(e,function(e,t){!t&&Yo(p,e.history)==-1&&(xo(e.history,c),p.push(e.history)),oi(e,c,null,ns(e,c))})}}function si(e,t){if(t==0)return;e.first+=t,e.sel=new Dt(Zo(e.sel.ranges,function(e){return new Pt(dt(e.anchor.line+t,e.anchor.ch),dt(e.head.line+t,e.head.ch))}),e.sel.primIndex);if(e.cm){ur(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)ar(e.cm,r,"gutter")}}function oi(e,t,n,r){if(e.cm&&!e.cm.curOp)return nr(e.cm,oi)(e,t,n,r);if(t.to.line<e.first){si(e,t.text.length-1-(t.to.line-t.from.line));return}if(t.from.line>e.lastLine())return;if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);si(e,i),t={from:dt(e.first,0),to:dt(t.to.line+i,t.to.ch),text:[Qo(t.text)],origin:t.origin}}var s=e.lastLine();t.to.line>s&&(t={from:t.from,to:dt(s,eo(e,s).text.length),text:[t.text[0]],origin:t.origin}),t.removed=to(e,t.from,t.to),n||(n=Yr(e,t)),e.cm?ui(e.cm,t,r):Xs(e,t,r),Qt(e,n,Uo)}function ui(e,t,n){var r=e.doc,i=e.display,s=t.from,o=t.to,u=!1,a=s.line;e.options.lineWrapping||(a=io(ps(eo(r,s.line))),r.iter(a,o.line+1,function(e){if(e==i.maxLine)return u=!0,!0})),r.sel.contains(t.from,t.to)>-1&&jo(e),Xs(r,t,n,C(e)),e.options.lineWrapping||(r.iter(a,s.line+t.text.length,function(e){var t=_(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,u=!1)}),u&&(e.curOp.updateMaxLine=!0)),r.frontier=Math.min(r.frontier,s.line),un(e,400);var f=t.text.length-(o.line-s.line)-1;t.full?ur(e):s.line==o.line&&t.text.length==1&&!Ws(e.doc,t)?ar(e,s.line,"text"):ur(e,s.line,o.line+1,f);var l=Fo(e,"changes"),c=Fo(e,"change");if(c||l){var h={from:s,to:o,text:t.text,removed:t.removed,origin:t.origin};c&&Po(e,"change",e,h),l&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(h)}e.display.selForContextMenu=null}function ai(e,t,n,r,i){r||(r=n);if(vt(r,n)<0){var s=r;r=n,n=s}typeof t=="string"&&(t=Au(t)),ni(e,{from:n,to:r,text:t,origin:i})}function fi(e,t){if(Bo(e,"scrollCursorIntoView"))return;var n=e.display,r=n.sizer.getBoundingClientRect(),i=null;t.top+r.top<0?i=!0:t.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1);if(i!=null&&!c){var s=lu("div","​",null,"position: absolute; top: "+(t.top-n.viewOffset-cn(e.display))+"px; height: "+(t.bottom-t.top+dn(e)+n.barHeight)+"px; left: "+t.left+"px; width: 2px;");e.display.lineSpace.appendChild(s),s.scrollIntoView(i),e.display.lineSpace.removeChild(s)}}function li(e,t,n,r){r==null&&(r=0);for(var i=0;i<5;i++){var s=!1,o=Bn(e,t),u=!n||n==t?o:Bn(e,n),a=hi(e,Math.min(o.left,u.left),Math.min(o.top,u.top)-r,Math.max(o.left,u.left),Math.max(o.bottom,u.bottom)+r),f=e.doc.scrollTop,l=e.doc.scrollLeft;a.scrollTop!=null&&(Ar(e,a.scrollTop),Math.abs(e.doc.scrollTop-f)>1&&(s=!0)),a.scrollLeft!=null&&(Or(e,a.scrollLeft),Math.abs(e.doc.scrollLeft-l)>1&&(s=!0));if(!s)break}return o}function ci(e,t,n,r,i){var s=hi(e,t,n,r,i);s.scrollTop!=null&&Ar(e,s.scrollTop),s.scrollLeft!=null&&Or(e,s.scrollLeft)}function hi(e,t,n,r,i){var s=e.display,o=Un(e.display);n<0&&(n=0);var u=e.curOp&&e.curOp.scrollTop!=null?e.curOp.scrollTop:s.scroller.scrollTop,a=mn(e),f={};i-n>a&&(i=n+a);var l=e.doc.height+hn(s),c=n<o,h=i>l-o;if(n<u)f.scrollTop=c?0:n;else if(i>u+a){var p=Math.min(n,(h?l:i)-a);p!=u&&(f.scrollTop=p)}var d=e.curOp&&e.curOp.scrollLeft!=null?e.curOp.scrollLeft:s.scroller.scrollLeft,v=vn(e)-(e.options.fixedGutter?s.gutters.offsetWidth:0),m=r-t>v;return m&&(r=t+v),t<10?f.scrollLeft=0:t<d?f.scrollLeft=Math.max(0,t-(m?0:10)):r>v+d-3&&(f.scrollLeft=r+(m?0:10)-v),f}function pi(e,t,n){(t!=null||n!=null)&&vi(e),t!=null&&(e.curOp.scrollLeft=(e.curOp.scrollLeft==null?e.doc.scrollLeft:e.curOp.scrollLeft)+t),n!=null&&(e.curOp.scrollTop=(e.curOp.scrollTop==null?e.doc.scrollTop:e.curOp.scrollTop)+n)}function di(e){vi(e);var t=e.getCursor(),n=t,r=t;e.options.lineWrapping||(n=t.ch?dt(t.line,t.ch-1):t,r=dt(t.line,t.ch+1)),e.curOp.scrollToPos={from:n,to:r,margin:e.options.cursorScrollMargin,isCursor:!0}}function vi(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var n=jn(e,t.from),r=jn(e,t.to),i=hi(e,Math.min(n.left,r.left),Math.min(n.top,r.top)-t.margin,Math.max(n.right,r.right),Math.max(n.bottom,r.bottom)+t.margin);e.scrollTo(i.scrollLeft,i.scrollTop)}}function mi(e,t,n,r){var i=e.doc,s;n==null&&(n="add"),n=="smart"&&(i.mode.indent?s=ln(e,t):n="prev");var o=e.options.tabSize,u=eo(i,t),a=Vo(u.text,null,o);u.stateAfter&&(u.stateAfter=null);var f=u.text.match(/^\s*/)[0],l;if(!r&&!/\S/.test(u.text))l=0,n="not";else if(n=="smart"){l=i.mode.indent(s,u.text.slice(f.length),u.text);if(l==Ro||l>150){if(!r)return;n="prev"}}n=="prev"?t>i.first?l=Vo(eo(i,t-1).text,null,o):l=0:n=="add"?l=a+e.options.indentUnit:n=="subtract"?l=a-e.options.indentUnit:typeof n=="number"&&(l=a+n),l=Math.max(0,l);var c="",h=0;if(e.options.indentWithTabs)for(var p=Math.floor(l/o);p;--p)h+=o,c+="	";h<l&&(c+=Ko(l-h));if(c!=f)ai(i,c,dt(t,0),dt(t,f.length),"+input");else for(var p=0;p<i.sel.ranges.length;p++){var d=i.sel.ranges[p];if(d.head.line==t&&d.head.ch<f.length){var h=dt(t,f.length);Xt(i,p,new Pt(h,h));break}}u.stateAfter=null}function gi(e,t,n,r){var i=t,s=t;return typeof t=="number"?s=eo(e,jt(e,t)):i=io(t),i==null?null:(r(s,i)&&e.cm&&ar(e.cm,i,n),s)}function yi(e,t){var n=e.doc.sel.ranges,r=[];for(var i=0;i<n.length;i++){var s=t(n[i]);while(r.length&&vt(s.from,Qo(r).to)<=0){var o=r.pop();if(vt(o.from,s.from)<0){s.from=o.from;break}}r.push(s)}tr(e,function(){for(var t=r.length-1;t>=0;t--)ai(e.doc,"",r[t].from,r[t].to,"+delete");di(e)})}function bi(e,t,n,r,i){function l(){var t=s+n;return t<e.first||t>=e.first+e.size?f=!1:(s=t,a=eo(e,t))}function c(e){var t=(i?$u:Ju)(a,o,n,!0);if(t==null){if(!!e||!l())return f=!1;i?o=(n<0?Iu:Fu)(a):o=n<0?a.text.length:0}else o=t;return!0}var s=t.line,o=t.ch,u=n,a=eo(e,s),f=!0;if(r=="char")c();else if(r=="column")c(!0);else if(r=="word"||r=="group"){var h=null,p=r=="group",d=e.cm&&e.cm.getHelper(t,"wordChars");for(var v=!0;;v=!1){if(n<0&&!c(!v))break;var m=a.text.charAt(o)||"\n",g=ou(m,d)?"w":p&&m=="\n"?"n":!p||/\s/.test(m)?null:"p";p&&!v&&!g&&(g="s");if(h&&h!=g){n<0&&(n=1,c());break}g&&(h=g);if(n>0&&!c(!v))break}}var y=en(e,dt(s,o),u,!0);return f||(y.hitSide=!0),y}function wi(e,t,n,r){var i=e.doc,s=t.left,o;if(r=="page"){var u=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);o=t.top+n*(u-(n<0?1.5:.5)*Un(e.display))}else r=="line"&&(o=n>0?t.bottom+3:t.top-3);for(;;){var a=In(e,s,o);if(!a.outside)break;if(n<0?o<=0:o>=i.height){a.hitSide=!0;break}o+=n*5}return a}function xi(e,t,n,r){E.defaults[e]=t,n&&(Si[e]=r?function(e,t,r){r!=Ti&&n(e,t,r)}:n)}function Pi(e){var t=e.split(/-(?!$)/),e=t[t.length-1],n,r,i,s;for(var o=0;o<t.length-1;o++){var u=t[o];if(/^(cmd|meta|m)$/i.test(u))s=!0;else if(/^a(lt)?$/i.test(u))n=!0;else if(/^(c|ctrl|control)$/i.test(u))r=!0;else{if(!/^s(hift)$/i.test(u))throw new Error("Unrecognized modifier name: "+u);i=!0}}return n&&(e="Alt-"+e),r&&(e="Ctrl-"+e),s&&(e="Cmd-"+e),i&&(e="Shift-"+e),e}function Fi(e){return typeof e=="string"?Di[e]:e}function Ui(e,t,n,r,i){if(r&&r.shared)return Wi(e,t,n,r,i);if(e.cm&&!e.cm.curOp)return nr(e.cm,Ui)(e,t,n,r,i);var s=new Ri(e,i),o=vt(t,n);r&&nu(r,s,!1);if(o>0||o==0&&s.clearWhenEmpty!==!1)return s;s.replacedWith&&(s.collapsed=!0,s.widgetNode=lu("span",[s.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||s.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(s.widgetNode.insertLeft=!0));if(s.collapsed){if(hs(e,t.line,t,n,s)||t.line!=n.line&&hs(e,n.line,t,n,s))throw new Error("Inserting collapsed marker partially overlapping an existing one");w=!0}s.addToHistory&&ho(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var u=t.line,a=e.cm,f;e.iter(u,n.line+1,function(e){a&&s.collapsed&&!a.options.lineWrapping&&ps(e)==a.display.maxLine&&(f=!0),s.collapsed&&u!=t.line&&ro(e,0),Gi(e,new Ji(s,u==t.line?t.ch:null,u==n.line?n.ch:null)),++u}),s.collapsed&&e.iter(t.line,n.line+1,function(t){gs(e,t)&&ro(t,0)}),s.clearOnEnter&&Oo(s,"beforeCursorEnter",function(){s.clear()}),s.readOnly&&(b=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),s.collapsed&&(s.id=++qi,s.atomic=!0);if(a){f&&(a.curOp.updateMaxLine=!0);if(s.collapsed)ur(a,t.line,n.line+1);else if(s.className||s.title||s.startStyle||s.endStyle||s.css)for(var l=t.line;l<=n.line;l++)ar(a,l,"text");s.atomic&&Yt(a.doc),Po(a,"markerAdded",a,s)}return s}function Wi(e,t,n,r,i){r=nu(r),r.shared=!1;var s=[Ui(e,t,n,r,i)],o=s[0],u=r.widgetNode;return Ys(e,function(e){u&&(r.widgetNode=u.cloneNode(!0)),s.push(Ui(e,Ft(e,t),Ft(e,n),r,i));for(var a=0;a<e.linked.length;++a)if(e.linked[a].isParent)return;o=Qo(s)}),new zi(s,o)}function Xi(e){return e.findMarks(dt(e.first,0),e.clipPos(dt(e.lastLine())),function(e){return e.parent})}function Vi(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=r.find(),s=e.clipPos(i.from),o=e.clipPos(i.to);if(vt(s,o)){var u=Ui(e,s,o,r.primary,r.primary.type);r.markers.push(u),u.parent=r}}}function $i(e){for(var t=0;t<e.length;t++){var n=e[t],r=[n.primary.doc];Ys(n.primary.doc,function(e){r.push(e)});for(var i=0;i<n.markers.length;i++){var s=n.markers[i];Yo(r,s.doc)==-1&&(s.parent=null,n.markers.splice(i--,1))}}}function Ji(e,t,n){this.marker=e,this.from=t,this.to=n}function Ki(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function Qi(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function Gi(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function Yi(e,t,n){if(e)for(var r=0,i;r<e.length;++r){var s=e[r],o=s.marker,u=s.from==null||(o.inclusiveLeft?s.from<=t:s.from<t);if(u||s.from==t&&o.type=="bookmark"&&(!n||!s.marker.insertLeft)){var a=s.to==null||(o.inclusiveRight?s.to>=t:s.to>t);(i||(i=[])).push(new Ji(o,s.from,a?null:s.to))}}return i}function Zi(e,t,n){if(e)for(var r=0,i;r<e.length;++r){var s=e[r],o=s.marker,u=s.to==null||(o.inclusiveRight?s.to>=t:s.to>t);if(u||s.from==t&&o.type=="bookmark"&&(!n||s.marker.insertLeft)){var a=s.from==null||(o.inclusiveLeft?s.from<=t:s.from<t);(i||(i=[])).push(new Ji(o,a?null:s.from-t,s.to==null?null:s.to-t))}}return i}function es(e,t){if(t.full)return null;var n=qt(e,t.from.line)&&eo(e,t.from.line).markedSpans,r=qt(e,t.to.line)&&eo(e,t.to.line).markedSpans;if(!n&&!r)return null;var i=t.from.ch,s=t.to.ch,o=vt(t.from,t.to)==0,u=Yi(n,i,o),a=Zi(r,s,o),f=t.text.length==1,l=Qo(t.text).length+(f?i:0);if(u)for(var c=0;c<u.length;++c){var h=u[c];if(h.to==null){var p=Ki(a,h.marker);p?f&&(h.to=p.to==null?null:p.to+l):h.to=i}}if(a)for(var c=0;c<a.length;++c){var h=a[c];h.to!=null&&(h.to+=l);if(h.from==null){var p=Ki(u,h.marker);p||(h.from=l,f&&(u||(u=[])).push(h))}else h.from+=l,f&&(u||(u=[])).push(h)}u&&(u=ts(u)),a&&a!=u&&(a=ts(a));var d=[u];if(!f){var v=t.text.length-2,m;if(v>0&&u)for(var c=0;c<u.length;++c)u[c].to==null&&(m||(m=[])).push(new Ji(u[c].marker,null,null));for(var c=0;c<v;++c)d.push(m);d.push(a)}return d}function ts(e){for(var t=0;t<e.length;++t){var n=e[t];n.from!=null&&n.from==n.to&&n.marker.clearWhenEmpty!==!1&&e.splice(t--,1)}return e.length?e:null}function ns(e,t){var n=bo(e,t),r=es(e,t);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var s=n[i],o=r[i];if(s&&o)e:for(var u=0;u<o.length;++u){var a=o[u];for(var f=0;f<s.length;++f)if(s[f].marker==a.marker)continue e;s.push(a)}else o&&(n[i]=o)}return n}function rs(e,t,n){var r=null;e.iter(t.line,n.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;n.readOnly&&(!r||Yo(r,n)==-1)&&(r||(r=[])).push(n)}});if(!r)return null;var i=[{from:t,to:n}];for(var s=0;s<r.length;++s){var o=r[s],u=o.find(0);for(var a=0;a<i.length;++a){var f=i[a];if(vt(f.to,u.from)<0||vt(f.from,u.to)>0)continue;var l=[a,1],c=vt(f.from,u.from),h=vt(f.to,u.to);(c<0||!o.inclusiveLeft&&!c)&&l.push({from:f.from,to:u.from}),(h>0||!o.inclusiveRight&&!h)&&l.push({from:u.to,to:f.to}),i.splice.apply(i,l),a+=l.length-1}}return i}function is(e){var t=e.markedSpans;if(!t)return;for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}function ss(e,t){if(!t)return;for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}function os(e){return e.inclusiveLeft?-1:0}function us(e){return e.inclusiveRight?1:0}function as(e,t){var n=e.lines.length-t.lines.length;if(n!=0)return n;var r=e.find(),i=t.find(),s=vt(r.from,i.from)||os(e)-os(t);if(s)return-s;var o=vt(r.to,i.to)||us(e)-us(t);return o?o:t.id-e.id}function fs(e,t){var n=w&&e.markedSpans,r;if(n)for(var i,s=0;s<n.length;++s)i=n[s],i.marker.collapsed&&(t?i.from:i.to)==null&&(!r||as(r,i.marker)<0)&&(r=i.marker);return r}function ls(e){return fs(e,!0)}function cs(e){return fs(e,!1)}function hs(e,t,n,r,i){var s=eo(e,t),o=w&&s.markedSpans;if(o)for(var u=0;u<o.length;++u){var a=o[u];if(!a.marker.collapsed)continue;var f=a.marker.find(0),l=vt(f.from,n)||os(a.marker)-os(i),c=vt(f.to,r)||us(a.marker)-us(i);if(l>=0&&c<=0||l<=0&&c>=0)continue;if(l<=0&&(vt(f.to,n)>0||a.marker.inclusiveRight&&i.inclusiveLeft)||l>=0&&(vt(f.from,r)<0||a.marker.inclusiveLeft&&i.inclusiveRight))return!0}}function ps(e){var t;while(t=ls(e))e=t.find(-1,!0).line;return e}function ds(e){var t,n;while(t=cs(e))e=t.find(1,!0).line,(n||(n=[])).push(e);return n}function vs(e,t){var n=eo(e,t),r=ps(n);return n==r?t:io(r)}function ms(e,t){if(t>e.lastLine())return t;var n=eo(e,t),r;if(!gs(e,n))return t;while(r=cs(n))n=r.find(1,!0).line;return io(n)+1}function gs(e,t){var n=w&&t.markedSpans;if(n)for(var r,i=0;i<n.length;++i){r=n[i];if(!r.marker.collapsed)continue;if(r.from==null)return!0;if(r.marker.widgetNode)continue;if(r.from==0&&r.marker.inclusiveLeft&&ys(e,t,r))return!0}}function ys(e,t,n){if(n.to==null){var r=n.marker.find(1,!0);return ys(e,r.line,Ki(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var i,s=0;s<t.markedSpans.length;++s){i=t.markedSpans[s];if(i.marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(i.to==null||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&ys(e,t,i))return!0}}function ws(e,t,n){oo(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&pi(e,null,n)}function Es(e){if(e.height!=null)return e.height;if(!du(document.body,e.node)){var t="position: relative;";e.coverGutter&&(t+="margin-left: -"+e.cm.display.gutters.offsetWidth+"px;"),e.noHScroll&&(t+="width: "+e.cm.display.wrapper.clientWidth+"px;"),pu(e.cm.display.measure,lu("div",[e.node],null,t))}return e.height=e.node.offsetHeight}function Ss(e,t,n,r){var i=new bs(e,n,r);return i.noHScroll&&(e.display.alignWidgets=!0),gi(e.doc,t,"widget",function(t){var n=t.widgets||(t.widgets=[]);i.insertAt==null?n.push(i):n.splice(Math.min(n.length-1,Math.max(0,i.insertAt)),0,i),i.line=t;if(!gs(e.doc,t)){var r=oo(t)<e.doc.scrollTop;ro(t,t.height+Es(i)),r&&pi(e,null,i.height),e.curOp.forceUpdate=!0}return!0}),i}function Ts(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),e.order!=null&&(e.order=null),is(e),ss(e,n);var i=r?r(e):1;i!=e.height&&ro(e,i)}function Ns(e){e.parent=null,is(e)}function Cs(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";t[r]==null?t[r]=n[2]:(new RegExp("(?:^|s)"+n[2]+"(?:$|s)")).test(t[r])||(t[r]+=" "+n[2])}return e}function ks(e,t){if(e.blankLine)return e.blankLine(t);if(!e.innerMode)return;var n=E.innerMode(e,t);if(n.mode.blankLine)return n.mode.blankLine(n.state)}function Ls(e,t,n,r){for(var i=0;i<10;i++){r&&(r[0]=E.innerMode(e,n).mode);var s=e.token(t,n);if(t.pos>t.start)return s}throw new Error("Mode "+e.name+" failed to advance stream.")}function As(e,t,n,r){function i(e){return{start:l.start,end:l.pos,string:l.current(),type:u||null,state:e?Oi(s.mode,f):f}}var s=e.doc,o=s.mode,u;t=Ft(s,t);var a=eo(s,t.line),f=ln(e,t.line,n),l=new Ii(a.text,e.options.tabSize),c;r&&(c=[]);while((r||l.pos<t.ch)&&!l.eol())l.start=l.pos,u=Ls(o,l,f),r&&c.push(i(!0));return r?c:i()}function Os(e,t,n,r,i,s,o){var u=n.flattenSpans;u==null&&(u=e.options.flattenSpans);var a=0,f=null,l=new Ii(t,e.options.tabSize),c,h=e.options.addModeClass&&[null];t==""&&Cs(ks(n,r),s);while(!l.eol()){l.pos>e.options.maxHighlightLength?(u=!1,o&&Ds(e,t,r,l.pos),l.pos=t.length,c=null):c=Cs(Ls(n,l,r,h),s);if(h){var p=h[0].name;p&&(c="m-"+(c?p+" "+c:p))}if(!u||f!=c){while(a<l.start)a=Math.min(l.start,a+5e4),i(a,f);f=c}l.start=l.pos}while(a<l.pos){var d=Math.min(l.pos,a+5e4);i(d,f),a=d}}function Ms(e,t,n,r){var i=[e.state.modeGen],s={};Os(e,t.text,e.doc.mode,n,function(e,t){i.push(e,t)},s,r);for(var o=0;o<e.state.overlays.length;++o){var u=e.state.overlays[o],a=1,f=0;Os(e,t.text,u.mode,!0,function(e,t){var n=a;while(f<e){var r=i[a];r>e&&i.splice(a,1,e,i[a+1],r),a+=2,f=Math.min(e,r)}if(!t)return;if(u.opaque)i.splice(n,a-n,e,"cm-overlay "+t),a=n+2;else for(;n<a;n+=2){var s=i[n+1];i[n+1]=(s?s+" ":"")+"cm-overlay "+t}},s)}return{styles:i,classes:s.bgClass||s.textClass?s:null}}function _s(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=Ms(e,t,t.stateAfter=ln(e,io(t)));t.styles=r.styles,r.classes?t.styleClasses=r.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.frontier&&e.doc.frontier++}return t.styles}function Ds(e,t,n,r){var i=e.doc.mode,s=new Ii(t,e.options.tabSize);s.start=s.pos=r||0,t==""&&ks(i,n);while(!s.eol()&&s.pos<=e.options.maxHighlightLength)Ls(i,s,n),s.start=s.pos}function Bs(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?Hs:Ps;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function js(e,t){var n=lu("span",null,null,s?"padding-right: .1px":null),i={pre:lu("pre",[n]),content:n,col:0,pos:0,cm:e};t.measure={};for(var o=0;o<=(t.rest?t.rest.length:0);o++){var u=o?t.rest[o-1]:t.line,a;i.pos=0,i.addToken=Is,(r||s)&&e.getOption("lineWrapping")&&(i.addToken=qs(i.addToken)),Lu(e.display.measure)&&(a=uo(u))&&(i.addToken=Rs(i.addToken,a)),i.map=[];var f=t!=e.display.externalMeasured&&io(u);zs(u,i,_s(e,u,f)),u.styleClasses&&(u.styleClasses.bgClass&&(i.bgClass=bu(u.styleClasses.bgClass,i.bgClass||"")),u.styleClasses.textClass&&(i.textClass=bu(u.styleClasses.textClass,i.textClass||""))),i.map.length==0&&i.map.push(0,0,i.content.appendChild(Cu(e.display.measure))),o==0?(t.measure.map=i.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(i.map),(t.measure.caches||(t.measure.caches=[])).push({}))}return s&&/\bcm-tab\b/.test(i.content.lastChild.className)&&(i.content.className="cm-tab-wrap-hack"),_o(e,"renderLine",e,t.line,i.pre),i.pre.className&&(i.textClass=bu(i.pre.className,i.textClass||"")),i}function Fs(e){var t=lu("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function Is(e,t,n,s,o,u,a){if(!t)return;var f=e.cm.options.specialChars,l=!1;if(!f.test(t)){e.col+=t.length;var c=document.createTextNode(t);e.map.push(e.pos,e.pos+t.length,c),r&&i<9&&(l=!0),e.pos+=t.length}else{var c=document.createDocumentFragment(),h=0;for(;;){f.lastIndex=h;var p=f.exec(t),d=p?p.index-h:t.length-h;if(d){var v=document.createTextNode(t.slice(h,h+d));r&&i<9?c.appendChild(lu("span",[v])):c.appendChild(v),e.map.push(e.pos,e.pos+d,v),e.col+=d,e.pos+=d}if(!p)break;h+=d+1;if(p[0]=="	"){var m=e.cm.options.tabSize,g=m-e.col%m,v=c.appendChild(lu("span",Ko(g),"cm-tab"));v.setAttribute("role","presentation"),v.setAttribute("cm-text","	"),e.col+=g}else{var v=e.cm.options.specialCharPlaceholder(p[0]);v.setAttribute("cm-text",p[0]),r&&i<9?c.appendChild(lu("span",[v])):c.appendChild(v),e.col+=1}e.map.push(e.pos,e.pos+1,v),e.pos++}}if(n||s||o||l||a){var y=n||"";s&&(y+=s),o&&(y+=o);var b=lu("span",[c],y,a);return u&&(b.title=u),e.content.appendChild(b)}e.content.appendChild(c)}function qs(e){function t(e){var t=" ";for(var n=0;n<e.length-2;++n)t+=n%2?" ":" ";return t+=" ",t}return function(n,r,i,s,o,u){e(n,r.replace(/ {3,}/g,t),i,s,o,u)}}function Rs(e,t){return function(n,r,i,s,o,u){i=i?i+" cm-force-border":"cm-force-border";var a=n.pos,f=a+r.length;for(;;){for(var l=0;l<t.length;l++){var c=t[l];if(c.to>a&&c.from<=a)break}if(c.to>=f)return e(n,r,i,s,o,u);e(n,r.slice(0,c.to-a),i,s,null,u),s=null,r=r.slice(c.to-a),a=c.to}}}function Us(e,t,n,r){var i=!r&&n.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!r&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",n.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t}function zs(e,t,n){var r=e.markedSpans,i=e.text,s=0;if(!r){for(var o=1;o<n.length;o+=2)t.addToken(t,i.slice(s,s=n[o]),Bs(n[o+1],t.cm.options));return}var u=i.length,a=0,o=1,f="",l,c,h=0,p,d,v,m,g;for(;;){if(h==a){p=d=v=m=c="",g=null,h=Infinity;var y=[];for(var b=0;b<r.length;++b){var w=r[b],E=w.marker;w.from<=a&&(w.to==null||w.to>a)?(w.to!=null&&h>w.to&&(h=w.to,d=""),E.className&&(p+=" "+E.className),E.css&&(c=E.css),E.startStyle&&w.from==a&&(v+=" "+E.startStyle),E.endStyle&&w.to==h&&(d+=" "+E.endStyle),E.title&&!m&&(m=E.title),E.collapsed&&(!g||as(g.marker,E)<0)&&(g=w)):w.from>a&&h>w.from&&(h=w.from),E.type=="bookmark"&&w.from==a&&E.widgetNode&&y.push(E)}if(g&&(g.from||0)==a){Us(t,(g.to==null?u+1:g.to)-a,g.marker,g.from==null);if(g.to==null)return}if(!g&&y.length)for(var b=0;b<y.length;++b)Us(t,0,y[b])}if(a>=u)break;var S=Math.min(u,h);for(;;){if(f){var x=a+f.length;if(!g){var T=x>S?f.slice(0,S-a):f;t.addToken(t,T,l?l+p:p,v,a+T.length==h?d:"",m,c)}if(x>=S){f=f.slice(S-a),a=S;break}a=x,v=""}f=i.slice(s,s=n[o++]),l=Bs(n[o++],t.cm.options)}}}function Ws(e,t){return t.from.ch==0&&t.to.ch==0&&Qo(t.text)==""&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Xs(e,t,n,r){function i(e){return n?n[e]:null}function s(e,n,i){Ts(e,n,i,r),Po(e,"change",e,t)}function o(e,t){for(var n=e,s=[];n<t;++n)s.push(new xs(f[n],i(n),r));return s}var u=t.from,a=t.to,f=t.text,l=eo(e,u.line),c=eo(e,a.line),h=Qo(f),p=i(f.length-1),d=a.line-u.line;if(t.full)e.insert(0,o(0,f.length)),e.remove(f.length,e.size-f.length);else if(Ws(e,t)){var v=o(0,f.length-1);s(c,c.text,p),d&&e.remove(u.line,d),v.length&&e.insert(u.line,v)}else if(l==c)if(f.length==1)s(l,l.text.slice(0,u.ch)+h+l.text.slice(a.ch),p);else{var v=o(1,f.length-1);v.push(new xs(h+l.text.slice(a.ch),p,r)),s(l,l.text.slice(0,u.ch)+f[0],i(0)),e.insert(u.line+1,v)}else if(f.length==1)s(l,l.text.slice(0,u.ch)+f[0]+c.text.slice(a.ch),i(0)),e.remove(u.line+1,d);else{s(l,l.text.slice(0,u.ch)+f[0],i(0)),s(c,h+c.text.slice(a.ch),p);var v=o(1,f.length-1);d>1&&e.remove(u.line+1,d-1),e.insert(u.line+1,v)}Po(e,"change",e,t)}function Vs(e){this.lines=e,this.parent=null;for(var t=0,n=0;t<e.length;++t)e[t].parent=this,n+=e[t].height;this.height=n}function $s(e){this.children=e;var t=0,n=0;for(var r=0;r<e.length;++r){var i=e[r];t+=i.chunkSize(),n+=i.height,i.parent=this}this.size=t,this.height=n,this.parent=null}function Ys(e,t,n){function r(e,i,s){if(e.linked)for(var o=0;o<e.linked.length;++o){var u=e.linked[o];if(u.doc==i)continue;var a=s&&u.sharedHist;if(n&&!a)continue;t(u.doc,a),r(u.doc,e,a)}}r(e,null,!0)}function Zs(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,k(e),x(e),e.options.lineWrapping||D(e),e.options.mode=t.modeOption,ur(e)}function eo(e,t){t-=e.first;if(t<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var r=0;;++r){var i=n.children[r],s=i.chunkSize();if(t<s){n=i;break}t-=s}return n.lines[t]}function to(e,t,n){var r=[],i=t.line;return e.iter(t.line,n.line+1,function(e){var s=e.text;i==n.line&&(s=s.slice(0,n.ch)),i==t.line&&(s=s.slice(t.ch)),r.push(s),++i}),r}function no(e,t,n){var r=[];return e.iter(t,n,function(e){r.push(e.text)}),r}function ro(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function io(e){if(e.parent==null)return null;var t=e.parent,n=Yo(t.lines,e);for(var r=t.parent;r;t=r,r=r.parent)for(var i=0;;++i){if(r.children[i]==t)break;n+=r.children[i].chunkSize()}return n+t.first}function so(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var i=e.children[r],s=i.height;if(t<s){e=i;continue e}t-=s,n+=i.chunkSize()}return n}while(!e.lines);for(var r=0;r<e.lines.length;++r){var o=e.lines[r],u=o.height;if(t<u)break;t-=u}return n+r}function oo(e){e=ps(e);var t=0,n=e.parent;for(var r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==e)break;t+=i.height}for(var s=n.parent;s;n=s,s=n.parent)for(var r=0;r<s.children.length;++r){var o=s.children[r];if(o==n)break;t+=o.height}return t}function uo(e){var t=e.order;return t==null&&(t=e.order=Ku(e.text)),t}function ao(e){this.done=[],this.undone=[],this.undoDepth=Infinity,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function fo(e,t){var n={from:mt(t.from),to:Qr(t),text:to(e,t.from,t.to)};return go(e,n,t.from.line,t.to.line+1),Ys(e,function(e){go(e,n,t.from.line,t.to.line+1)},!0),n}function lo(e){while(e.length){var t=Qo(e);if(!t.ranges)break;e.pop()}}function co(e,t){if(t)return lo(e.done),Qo(e.done);if(e.done.length&&!Qo(e.done).ranges)return Qo(e.done);if(e.done.length>1&&!e.done[e.done.length-2].ranges)return e.done.pop(),Qo(e.done)}function ho(e,t,n,r){var i=e.history;i.undone.length=0;var s=+(new Date),o;if((i.lastOp==r||i.lastOrigin==t.origin&&t.origin&&(t.origin.charAt(0)=="+"&&e.cm&&i.lastModTime>s-e.cm.options.historyEventDelay||t.origin.charAt(0)=="*"))&&(o=co(i,i.lastOp==r))){var u=Qo(o.changes);vt(t.from,t.to)==0&&vt(t.from,u.to)==0?u.to=Qr(t):o.changes.push(fo(e,t))}else{var a=Qo(i.done);(!a||!a.ranges)&&mo(e.sel,i.done),o={changes:[fo(e,t)],generation:i.generation},i.done.push(o);while(i.done.length>i.undoDepth)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=s,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=t.origin,u||_o(e,"historyAdded")}function po(e,t,n,r){var i=t.charAt(0);return i=="*"||i=="+"&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function vo(e,t,n,r){var i=e.history,s=r&&r.origin;n==i.lastSelOp||s&&i.lastSelOrigin==s&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==s||po(e,s,Qo(i.done),t))?i.done[i.done.length-1]=t:mo(t,i.done),i.lastSelTime=+(new Date),i.lastSelOrigin=s,i.lastSelOp=n,r&&r.clearRedo!==!1&&lo(i.undone)}function mo(e,t){var n=Qo(t);n&&n.ranges&&n.equals(e)||t.push(e)}function go(e,t,n,r){var i=t["spans_"+e.id],s=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),function(n){n.markedSpans&&((i||(i=t["spans_"+e.id]={}))[s]=n.markedSpans),++s})}function yo(e){if(!e)return null;for(var t=0,n;t<e.length;++t)e[t].marker.explicitlyCleared?n||(n=e.slice(0,t)):n&&n.push(e[t]);return n?n.length?n:null:e}function bo(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var r=0,i=[];r<t.text.length;++r)i.push(yo(n[r]));return i}function wo(e,t,n){for(var r=0,i=[];r<e.length;++r){var s=e[r];if(s.ranges){i.push(n?Dt.prototype.deepCopy.call(s):s);continue}var o=s.changes,u=[];i.push({changes:u});for(var a=0;a<o.length;++a){var f=o[a],l;u.push({from:f.from,to:f.to,text:f.text});if(t)for(var c in f)(l=c.match(/^spans_(\d+)$/))&&Yo(t,Number(l[1]))>-1&&(Qo(u)[c]=f[c],delete f[c])}}return i}function Eo(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function So(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i],o=!0;if(s.ranges){s.copied||(s=e[i]=s.deepCopy(),s.copied=!0);for(var u=0;u<s.ranges.length;u++)Eo(s.ranges[u].anchor,t,n,r),Eo(s.ranges[u].head,t,n,r);continue}for(var u=0;u<s.changes.length;++u){var a=s.changes[u];if(n<a.from.line)a.from=dt(a.from.line+r,a.from.ch),a.to=dt(a.to.line+r,a.to.ch);else if(t<=a.to.line){o=!1;break}}o||(e.splice(0,i+1),i=0)}}function xo(e,t){var n=t.from.line,r=t.to.line,i=t.text.length-(r-n)-1;So(e.done,n,r,i),So(e.undone,n,r,i)}function Co(e){return e.defaultPrevented!=null?e.defaultPrevented:e.returnValue==0}function Lo(e){return e.target||e.srcElement}function Ao(e){var t=e.which;return t==null&&(e.button&1?t=1:e.button&2?t=3:e.button&4&&(t=2)),d&&e.ctrlKey&&t==1&&(t=3),t}function Po(e,t){function s(e){return function(){e.apply(null,r)}}var n=e._handlers&&e._handlers[t];if(!n)return;var r=Array.prototype.slice.call(arguments,2),i;Wn?i=Wn.delayedCallbacks:Do?i=Do:(i=Do=[],setTimeout(Ho,0));for(var o=0;o<n.length;++o)i.push(s(n[o]))}function Ho(){var e=Do;Do=null;for(var t=0;t<e.length;++t)e[t]()}function Bo(e,t,n){return typeof t=="string"&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),_o(e,n||t.type,e,t),Co(t)||t.codemirrorIgnore}function jo(e){var t=e._handlers&&e._handlers.cursorActivity;if(!t)return;var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]);for(var r=0;r<t.length;++r)Yo(n,t[r])==-1&&n.push(t[r])}function Fo(e,t){var n=e._handlers&&e._handlers[t];return n&&n.length>0}function Io(e){e.prototype.on=function(e,t){Oo(this,e,t)},e.prototype.off=function(e,t){Mo(this,e,t)}}function Xo(){this.id=null}function $o(e,t,n){for(var r=0,i=0;;){var s=e.indexOf("	",r);s==-1&&(s=e.length);var o=s-r;if(s==e.length||i+o>=t)return r+Math.min(o,t-i);i+=s-r,i+=n-i%n,r=s+1;if(i>=t)return r}}function Ko(e){while(Jo.length<=e)Jo.push(Qo(Jo)+" ");return Jo[e]}function Qo(e){return e[e.length-1]}function Yo(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}function Zo(e,t){var n=[];for(var r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function eu(){}function tu(e,t){var n;return Object.create?n=Object.create(e):(eu.prototype=e,n=new eu),t&&nu(t,n),n}function nu(e,t,n){t||(t={});for(var r in e)e.hasOwnProperty(r)&&(n!==!1||!t.hasOwnProperty(r))&&(t[r]=e[r]);return t}function ru(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function ou(e,t){return t?t.source.indexOf("\\w")>-1&&su(e)?!0:t.test(e):su(e)}function uu(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function fu(e){return e.charCodeAt(0)>=768&&au.test(e)}function lu(e,t,n,r){var i=document.createElement(e);n&&(i.className=n),r&&(i.style.cssText=r);if(typeof t=="string")i.appendChild(document.createTextNode(t));else if(t)for(var s=0;s<t.length;++s)i.appendChild(t[s]);return i}function hu(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function pu(e,t){return hu(e).appendChild(t)}function vu(){return document.activeElement}function mu(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function bu(e,t){var n=e.split(" ");for(var r=0;r<n.length;r++)n[r]&&!mu(n[r]).test(t)&&(t+=" "+n[r]);return t}function wu(e){if(!document.body.getElementsByClassName)return;var t=document.body.getElementsByClassName("CodeMirror");for(var n=0;n<t.length;n++){var r=t[n].CodeMirror;r&&e(r)}}function Su(){if(Eu)return;xu(),Eu=!0}function xu(){var e;Oo(window,"resize",function(){e==null&&(e=setTimeout(function(){e=null,wu(vr)},100))}),Oo(window,"blur",function(){wu($r)})}function Cu(e){if(Nu==null){var t=lu("span","​");pu(e,lu("span",[t,document.createTextNode("x")])),e.firstChild.offsetHeight!=0&&(Nu=t.offsetWidth<=1&&t.offsetHeight>2&&!(r&&i<8))}var n=Nu?lu("span","​"):lu("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function Lu(e){if(ku!=null)return ku;var t=pu(e,document.createTextNode("AخA")),n=cu(t,0,1).getBoundingClientRect();if(!n||n.left==n.right)return!1;var r=cu(t,1,2).getBoundingClientRect();return ku=r.right-n.right<3}function Du(e){if(_u!=null)return _u;var t=pu(e,lu("span","x")),n=t.getBoundingClientRect(),r=cu(t,0,1).getBoundingClientRect();return _u=Math.abs(n.left-r.left)>1}function Hu(e,t,n,r){if(!e)return r(t,n,"ltr");var i=!1;for(var s=0;s<e.length;++s){var o=e[s];if(o.from<n&&o.to>t||t==n&&o.to==t)r(Math.max(o.from,t),Math.min(o.to,n),o.level==1?"rtl":"ltr"),i=!0}i||r(t,n,"ltr")}function Bu(e){return e.level%2?e.to:e.from}function ju(e){return e.level%2?e.from:e.to}function Fu(e){var t=uo(e);return t?Bu(t[0]):0}function Iu(e){var t=uo(e);return t?ju(Qo(t)):e.text.length}function qu(e,t){var n=eo(e.doc,t),r=ps(n);r!=n&&(t=io(r));var i=uo(r),s=i?i[0].level%2?Iu(r):Fu(r):0;return dt(t,s)}function Ru(e,t){var n,r=eo(e.doc,t);while(n=cs(r))r=n.find(1,!0).line,t=null;var i=uo(r),s=i?i[0].level%2?Fu(r):Iu(r):r.text.length;return dt(t==null?io(r):t,s)}function Uu(e,t){var n=qu(e,t.line),r=eo(e.doc,n.line),i=uo(r);if(!i||i[0].level==0){var s=Math.max(0,r.text.search(/\S/)),o=t.line==n.line&&t.ch<=s&&t.ch;return dt(n.line,o?0:s)}return n}function zu(e,t,n){var r=e[0].level;return t==r?!0:n==r?!1:t<n}function Xu(e,t){Wu=null;for(var n=0,r;n<e.length;++n){var i=e[n];if(i.from<t&&i.to>t)return n;if(i.from==t||i.to==t){if(r!=null)return zu(e,i.level,e[r].level)?(i.from!=i.to&&(Wu=r),n):(i.from!=i.to&&(Wu=n),r);r=n}}return r}function Vu(e,t,n,r){if(!r)return t+n;do t+=n;while(t>0&&fu(e.text.charAt(t)));return t}function $u(e,t,n,r){var i=uo(e);if(!i)return Ju(e,t,n,r);var s=Xu(i,t),o=i[s],u=Vu(e,t,o.level%2?-n:n,r);for(;;){if(u>o.from&&u<o.to)return u;if(u==o.from||u==o.to)return Xu(i,u)==s?u:(o=i[s+=n],n>0==o.level%2?o.to:o.from);o=i[s+=n];if(!o)return null;n>0==o.level%2?u=Vu(e,o.to,-1,r):u=Vu(e,o.from,1,r)}}function Ju(e,t,n,r){var i=t+n;if(r)while(i>0&&fu(e.text.charAt(i)))i+=n;return i<0||i>e.text.length?null:i}var e=/gecko\/\d/i.test(navigator.userAgent),t=/MSIE \d/.test(navigator.userAgent),n=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),r=t||n,i=r&&(t?document.documentMode||6:n[1]),s=/WebKit\//.test(navigator.userAgent),o=s&&/Qt\/\d+\.\d+/.test(navigator.userAgent),u=/Chrome\//.test(navigator.userAgent),a=/Opera\//.test(navigator.userAgent),f=/Apple Computer/.test(navigator.vendor),l=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent),c=/PhantomJS/.test(navigator.userAgent),h=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),p=h||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent),d=h||/Mac/.test(navigator.platform),v=/win/i.test(navigator.platform),m=a&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);m&&(m=Number(m[1])),m&&m>=15&&(a=!1,s=!0);var g=d&&(o||a&&(m==null||m<12.11)),y=e||r&&i>=9,b=!1,w=!1;B.prototype=nu({update:function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?r+"px":"0";var i=e.viewHeight-(t?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=e.barLeft+"px";var s=e.viewWidth-e.barLeft-(n?r:0);this.horiz.firstChild.style.width=e.scrollWidth-e.clientWidth+s+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedOverlay&&e.clientHeight>0&&(r==0&&this.overlayHack(),this.checkedOverlay=!0),{right:n?r:0,bottom:t?r:0}},setScrollLeft:function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e)},setScrollTop:function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e)},overlayHack:function(){var e=d&&!l?"12px":"18px";this.horiz.style.minHeight=this.vert.style.minWidth=e;var t=this,n=function(e){Lo(e)!=t.vert&&Lo(e)!=t.horiz&&nr(t.cm,yr)(e)};Oo(this.vert,"mousedown",n),Oo(this.horiz,"mousedown",n)},clear:function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)}},B.prototype),j.prototype=nu({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},j.prototype),E.scrollbarModel={"native":B,"null":j},V.prototype.signal=function(e,t){Fo(e,t)&&this.events.push(arguments)},V.prototype.finish=function(){for(var e=0;e<this.events.length;e++)_o.apply(null,this.events[e])};var dt=E.Pos=function(e,t){if(!(this instanceof dt))return new dt(e,t);this.line=e,this.ch=t},vt=E.cmpPos=function(e,t){return e.line-t.line||e.ch-t.ch},Et=null;Nt.prototype=nu({init:function(e){function a(e){if(n.somethingSelected())Et=n.getSelections(),t.inaccurateSelection&&(t.prevInput="",t.inaccurateSelection=!1,u.value=Et.join("\n"),Go(u));else{var r=xt(n);Et=r.text,e.type=="cut"?n.setSelections(r.ranges,null,Uo):(t.prevInput="",u.value=r.text.join("\n"),Go(u))}e.type=="cut"&&(n.state.cutIncoming=!0)}var t=this,n=this.cm,o=this.wrapper=Ct(),u=this.textarea=o.firstChild;e.wrapper.insertBefore(o,e.wrapper.firstChild),h&&(u.style.width="0px"),Oo(u,"input",function(){r&&i>=9&&t.hasSelection&&(t.hasSelection=null),t.poll()}),Oo(u,"paste",function(){if(s&&!n.state.fakedLastChar&&!(new Date-n.state.lastMiddleDown<200)){var e=u.selectionStart,r=u.selectionEnd;u.value+="$",u.selectionEnd=r,u.selectionStart=e,n.state.fakedLastChar=!0}n.state.pasteIncoming=!0,t.fastPoll()}),Oo(u,"cut",a),Oo(u,"copy",a),Oo(e.scroller,"paste",function(r){if(mr(e,r))return;n.state.pasteIncoming=!0,t.focus()}),Oo(e.lineSpace,"selectstart",function(t){mr(e,t)||To(t)})},prepareSelection:function(){var e=this.cm,t=e.display,n=e.doc,r=nn(e);if(e.options.moveInputWithCursor){var i=Bn(e,n.sel.primary().head,"div"),s=t.wrapper.getBoundingClientRect(),o=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+o.top-s.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+o.left-s.left))}return r},showSelection:function(e){var t=this.cm,n=t.display;pu(n.cursorDiv,e.cursors),pu(n.selectionDiv,e.selection),e.teTop!=null&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},reset:function(e){if(this.contextMenuPending)return;var t,n,s=this.cm,o=s.doc;if(s.somethingSelected()){this.prevInput="";var u=o.sel.primary();t=Mu&&(u.to().line-u.from().line>100||(n=s.getSelection()).length>1e3);var a=t?"-":n||s.getSelection();this.textarea.value=a,s.state.focused&&Go(this.textarea),r&&i>=9&&(this.hasSelection=a)}else e||(this.prevInput=this.textarea.value="",r&&i>=9&&(this.hasSelection=null));this.inaccurateSelection=t},getField:function(){return this.textarea},supportsTouch:function(){return!1},focus:function(){if(this.cm.options.readOnly!="nocursor"&&(!p||vu()!=this.textarea))try{this.textarea.focus()}catch(e){}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var e=this;if(e.pollingFast)return;e.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},fastPoll:function(){function n(){var r=t.poll();!r&&!e?(e=!0,t.polling.set(60,n)):(t.pollingFast=!1,t.slowPoll())}var e=!1,t=this;t.pollingFast=!0,t.polling.set(20,n)},poll:function(){var e=this.cm,t=this.textarea,n=this.prevInput;if(!e.state.focused||Ou(t)&&!n||wt(e)||e.options.disableInput||e.state.keySeq)return!1;e.state.pasteIncoming&&e.state.fakedLastChar&&(t.value=t.value.substring(0,t.value.length-1),e.state.fakedLastChar=!1);var s=t.value;if(s==n&&!e.somethingSelected())return!1;if(r&&i>=9&&this.hasSelection===s||d&&/[\uf700-\uf7ff]/.test(s))return e.display.input.reset(),!1;s.charCodeAt(0)==8203&&e.doc.sel==e.display.selForContextMenu&&!n&&(n="​");var o=0,u=Math.min(n.length,s.length);while(o<u&&n.charCodeAt(o)==s.charCodeAt(o))++o;var a=this;return tr(e,function(){St(e,s.slice(o),n.length-o),s.length>1e3||s.indexOf("\n")>-1?t.value=a.prevInput="":a.prevInput=s}),!0},ensurePolled:function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},onKeyPress:function(){r&&i>=9&&(this.hasSelection=null),this.fastPoll()},onContextMenu:function(e){function d(){if(u.selectionStart!=null){var e=n.somethingSelected(),r=u.value="​"+(e?u.value:"");t.prevInput=e?"":"​",u.selectionStart=1,u.selectionEnd=r.length,o.selForContextMenu=n.doc.sel}}function v(){t.contextMenuPending=!1,t.wrapper.style.position="relative",u.style.cssText=h,r&&i<9&&o.scrollbars.setScrollTop(o.scroller.scrollTop=l);if(u.selectionStart!=null){(!r||r&&i<9)&&d();var e=0,s=function(){o.selForContextMenu==n.doc.sel&&u.selectionStart==0?nr(n,_i.selectAll)(n):e++<10?o.detectingSelectAll=setTimeout(s,500):o.input.reset()};o.detectingSelectAll=setTimeout(s,200)}}var t=this,n=t.cm,o=n.display,u=t.textarea,f=gr(n,e),l=o.scroller.scrollTop;if(!f||a)return;var c=n.options.resetSelectionOnContextMenu;c&&n.doc.sel.contains(f)==-1&&nr(n,Kt)(n.doc,Bt(f),Uo);var h=u.style.cssText;t.wrapper.style.position="absolute",u.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(e.clientY-5)+"px; left: "+(e.clientX-5)+"px; z-index: 1000; background: "+(r?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";if(s)var p=window.scrollY;o.input.focus(),s&&window.scrollTo(null,p),o.input.reset(),n.somethingSelected()||(u.value=t.prevInput=" "),t.contextMenuPending=!0,o.selForContextMenu=n.doc.sel,clearTimeout(o.detectingSelectAll),r&&i>=9&&d();if(y){ko(e);var m=function(){Mo(window,"mouseup",m),setTimeout(v,20)};Oo(window,"mouseup",m)}else setTimeout(v,50)},setUneditable:eu,needsContentAttribute:!1},Nt.prototype),kt.prototype=nu({init:function(e){function i(e){if(n.somethingSelected())Et=n.getSelections(),e.type=="cut"&&n.replaceSelection("",null,"cut");else{var t=xt(n);Et=t.text,e.type=="cut"&&n.operation(function(){n.setSelections(t.ranges,0,Uo),n.replaceSelection("",null,"cut")})}if(e.clipboardData&&!h)e.preventDefault(),e.clipboardData.clearData(),e.clipboardData.setData("text/plain",Et.join("\n"));else{var r=Ct(),i=r.firstChild;n.display.lineSpace.insertBefore(r,n.display.lineSpace.firstChild),i.value=Et.join("\n");var s=document.activeElement;Go(i),setTimeout(function(){n.display.lineSpace.removeChild(r),s.focus()},50)}}var t=this,n=t.cm,r=t.div=e.lineDiv;r.contentEditable="true",Tt(r),Oo(r,"paste",function(e){var t=e.clipboardData&&e.clipboardData.getData("text/plain");t&&(e.preventDefault(),n.replaceSelection(t,null,"paste"))}),Oo(r,"compositionstart",function(e){var r=e.data;t.composing={sel:n.doc.sel,data:r,startData:r};if(!r)return;var i=n.doc.sel.primary(),s=n.getLine(i.head.line),o=s.indexOf(r,Math.max(0,i.head.ch-r.length));o>-1&&o<=i.head.ch&&(t.composing.sel=Bt(dt(i.head.line,o),dt(i.head.line,o+r.length)))}),Oo(r,"compositionupdate",function(e){t.composing.data=e.data}),Oo(r,"compositionend",function(e){var n=t.composing;if(!n)return;e.data!=n.startData&&!/\u200b/.test(e.data)&&(n.data=e.data),setTimeout(function(){n.handled||t.applyComposition(n),t.composing==n&&(t.composing=null)},50)}),Oo(r,"touchstart",function(){t.forceCompositionEnd()}),Oo(r,"input",function(){if(t.composing)return;t.pollContent()||tr(t.cm,function(){ur(n)})}),Oo(r,"copy",i),Oo(r,"cut",i)},prepareSelection:function(){var e=nn(this.cm,!1);return e.focus=this.cm.state.focused,e},showSelection:function(e){if(!e||!this.cm.display.view.length)return;e.focus&&this.showPrimarySelection(),this.showMultipleSelections(e)},showPrimarySelection:function(){var e=window.getSelection(),t=this.cm.doc.sel.primary(),n=Ot(this.cm,e.anchorNode,e.anchorOffset),r=Ot(this.cm,e.focusNode,e.focusOffset);if(n&&!n.bad&&r&&!r.bad&&vt(yt(n,r),t.from())==0&&vt(gt(n,r),t.to())==0)return;var i=Lt(this.cm,t.from()),s=Lt(this.cm,t.to());if(!i&&!s)return;var o=this.cm.display.view,u=e.rangeCount&&e.getRangeAt(0);if(!i)i={node:o[0].measure.map[2],offset:0};else if(!s){var a=o[o.length-1].measure,f=a.maps?a.maps[a.maps.length-1]:a.map;s={node:f[f.length-1],offset:f[f.length-2]-f[f.length-3]}}try{var l=cu(i.node,i.offset,s.offset,s.node)}catch(c){}l&&(e.removeAllRanges(),e.addRange(l),u&&e.anchorNode==null&&e.addRange(u)),this.rememberSelection()},showMultipleSelections:function(e){pu(this.cm.display.cursorDiv,e.cursors),pu(this.cm.display.selectionDiv,e.selection)},rememberSelection:function(){var e=window.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},selectionInEditor:function(){var e=window.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return du(this.div,t)},focus:function(){this.cm.options.readOnly!="nocursor"&&this.div.focus()},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return!0},receivedFocus:function(){function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))}var e=this;this.selectionInEditor()?this.pollSelection():tr(this.cm,function(){e.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,t)},pollSelection:function(){if(this.composing)return;var e=window.getSelection(),t=this.cm;if(e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset){this.rememberSelection();var n=Ot(t,e.anchorNode,e.anchorOffset),r=Ot(t,e.focusNode,e.focusOffset);n&&r&&tr(t,function(){Kt(t.doc,Bt(n,r),Uo);if(n.bad||r.bad)t.curOp.selectionChanged=!0})}},pollContent:function(){var e=this.cm,t=e.display,n=e.doc.sel.primary(),r=n.from(),i=n.to();if(r.line<t.viewFrom||i.line>t.viewTo-1)return!1;var s;if(r.line==t.viewFrom||(s=lr(e,r.line))==0)var o=io(t.view[0].line),u=t.view[0].node;else var o=io(t.view[s].line),u=t.view[s-1].node.nextSibling;var a=lr(e,i.line);if(a==t.view.length-1)var f=t.viewTo-1,l=t.view[a].node;else var f=io(t.view[a+1].line)-1,l=t.view[a+1].node.previousSibling;var c=Au(_t(e,u,l,o,f)),h=to(e.doc,dt(o,0),dt(f,eo(e.doc,f).text.length));while(c.length>1&&h.length>1)if(Qo(c)==Qo(h))c.pop(),h.pop(),f--;else{if(c[0]!=h[0])break;c.shift(),h.shift(),o++}var p=0,d=0,v=c[0],m=h[0],g=Math.min(v.length,m.length);while(p<g&&v.charCodeAt(p)==m.charCodeAt(p))++p;var y=Qo(c),b=Qo(h),w=Math.min(y.length-(c.length==1?p:0),b.length-(h.length==1?p:0));while(d<w&&y.charCodeAt(y.length-d-1)==b.charCodeAt(b.length-d-1))++d;c[c.length-1]=y.slice(0,y.length-d),c[0]=c[0].slice(p);var E=dt(o,p),S=dt(f,h.length?Qo(h).length-d:0);if(c.length>1||c[0]||vt(E,S))return ai(e.doc,c,E,S,"+input"),!0},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){if(!this.composing||this.composing.handled)return;this.applyComposition(this.composing),this.composing.handled=!0,this.div.blur(),this.div.focus()},applyComposition:function(e){e.data&&e.data!=e.startData&&nr(this.cm,St)(this.cm,e.data,0,e.sel)},setUneditable:function(e){e.setAttribute("contenteditable","false")},onKeyPress:function(e){e.preventDefault(),nr(this.cm,St)(this.cm,String.fromCharCode(e.charCode==null?e.keyCode:e.charCode),0)},onContextMenu:eu,resetPosition:eu,needsContentAttribute:!0},kt.prototype),E.inputStyles={textarea:Nt,contenteditable:kt},Dt.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],r=e.ranges[t];if(vt(n.anchor,r.anchor)!=0||vt(n.head,r.head)!=0)return!1}return!0},deepCopy:function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new Pt(mt(this.ranges[t].anchor),mt(this.ranges[t].head));return new Dt(e,this.primIndex)},somethingSelected:function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},contains:function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(vt(t,r.from())>=0&&vt(e,r.to())<=0)return n}return-1}},Pt.prototype={from:function(){return yt(this.anchor,this.head)},to:function(){return gt(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var Tn={left:0,right:0,top:0,bottom:0},Rn,Wn=null,Xn=0,br,wr,Cr=0,Mr=0,_r=null;r?_r=-0.53:e?_r=15:u?_r=-0.7:f&&(_r=-1/3);var Dr=function(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return t==null&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),n==null&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:n==null&&(n=e.wheelDelta),{x:t,y:n}};E.wheelEventPixels=function(e){var t=Dr(e);return t.x*=_r,t.y*=_r,t};var jr=new Xo,Rr=null,Qr=E.changeEnd=function(e){return e.text?dt(e.from.line+e.text.length-1,Qo(e.text).length+(e.text.length==1?e.from.ch:0)):e.to};E.prototype={constructor:E,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,t){var n=this.options,r=n[e];if(n[e]==t&&e!="mode")return;n[e]=t,Si.hasOwnProperty(e)&&nr(this,Si[e])(this,t,r)},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Fi(e))},removeKeyMap:function(e){var t=this.state.keyMaps;for(var n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:rr(function(e,t){var n=e.token?e:E.getMode(this.options,e);if(n.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:n,modeSpec:e,opaque:t&&t.opaque}),this.state.modeGen++,ur(this)}),removeOverlay:rr(function(e){var t=this.state.overlays;for(var n=0;n<t.length;++n){var r=t[n].modeSpec;if(r==e||typeof e=="string"&&r.name==e){t.splice(n,1),this.state.modeGen++,ur(this);return}}}),indentLine:rr(function(e,t,n){typeof t!="string"&&typeof t!="number"&&(t==null?t=this.options.smartIndent?"smart":"prev":t=t?"add":"subtract"),qt(this.doc,e)&&mi(this,e,t,n)}),indentSelection:rr(function(e){var t=this.doc.sel.ranges,n=-1;for(var r=0;r<t.length;r++){var i=t[r];if(!i.empty()){var s=i.from(),o=i.to(),u=Math.max(n,s.line);n=Math.min(this.lastLine(),o.line-(o.ch?0:1))+1;for(var a=u;a<n;++a)mi(this,a,e);var f=this.doc.sel.ranges;s.ch==0&&t.length==f.length&&f[r].from().ch>0&&Xt(this.doc,r,new Pt(s,f[r].to()),Uo)}else i.head.line>n&&(mi(this,i.head.line,e,!0),n=i.head.line,r==this.doc.sel.primIndex&&di(this))}}),getTokenAt:function(e,t){return As(this,e,t)},getLineTokens:function(e,t){return As(this,dt(e),t,!0)},getTokenTypeAt:function(e){e=Ft(this.doc,e);var t=_s(this,eo(this.doc,e.line)),n=0,r=(t.length-1)/2,i=e.ch,s;if(i==0)s=t[2];else for(;;){var o=n+r>>1;if((o?t[o*2-1]:0)>=i)r=o;else{if(!(t[o*2+1]<i)){s=t[o*2+2];break}n=o+1}}var u=s?s.indexOf("cm-overlay "):-1;return u<0?s:u==0?null:s.slice(0,u-1)},getModeAt:function(e){var t=this.doc.mode;return t.innerMode?E.innerMode(t,this.getTokenAt(e).state).mode:t},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var n=[];if(!Ai.hasOwnProperty(t))return Ai;var r=Ai[t],i=this.getModeAt(e);if(typeof i[t]=="string")r[i[t]]&&n.push(r[i[t]]);else if(i[t])for(var s=0;s<i[t].length;s++){var o=r[i[t][s]];o&&n.push(o)}else i.helperType&&r[i.helperType]?n.push(r[i.helperType]):r[i.name]&&n.push(r[i.name]);for(var s=0;s<r._global.length;s++){var u=r._global[s];u.pred(i,this)&&Yo(n,u.val)==-1&&n.push(u.val)}return n},getStateAfter:function(e,t){var n=this.doc;return e=jt(n,e==null?n.first+n.size-1:e),ln(this,e+1,t)},cursorCoords:function(e,t){var n,r=this.doc.sel.primary();return e==null?n=r.head:typeof e=="object"?n=Ft(this.doc,e):n=e?r.from():r.to(),Bn(this,n,t||"page")},charCoords:function(e,t){return Hn(this,Ft(this.doc,e),t||"page")},coordsChar:function(e,t){return e=Pn(this,e,t||"page"),In(this,e.left,e.top)},lineAtHeight:function(e,t){return e=Pn(this,{top:e,left:0},t||"page").top,so(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t){var n=!1,r=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>r&&(e=r,n=!0);var i=eo(this.doc,e);return Dn(this,i,{top:0,left:0},t||"page").top+(n?this.doc.height-oo(i):0)},defaultTextHeight:function(){return Un(this.display)},defaultCharWidth:function(){return zn(this.display)},setGutterMarker:rr(function(e,t,n){return gi(this.doc,e,"gutter",function(e){var r=e.gutterMarkers||(e.gutterMarkers={});return r[t]=n,!n&&uu(r)&&(e.gutterMarkers=null),!0})}),clearGutter:rr(function(e){var t=this,n=t.doc,r=n.first;n.iter(function(n){n.gutterMarkers&&n.gutterMarkers[e]&&(n.gutterMarkers[e]=null,ar(t,r,"gutter"),uu(n.gutterMarkers)&&(n.gutterMarkers=null)),++r})}),addLineWidget:rr(function(e,t,n){return Ss(this,e,t,n)}),removeLineWidget:function(e){e.clear()},lineInfo:function(e){if(typeof e=="number"){if(!qt(this.doc,e))return null;var t=e;e=eo(this.doc,e);if(!e)return null}else{var t=io(e);if(t==null)return null}return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,r,i){var s=this.display;e=Bn(this,Ft(this.doc,e));var o=e.bottom,u=e.left;t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),s.sizer.appendChild(t);if(r=="over")o=e.top;else if(r=="above"||r=="near"){var a=Math.max(s.wrapper.clientHeight,this.doc.height),f=Math.max(s.sizer.clientWidth,s.lineSpace.clientWidth);(r=="above"||e.bottom+t.offsetHeight>a)&&e.top>t.offsetHeight?o=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=a&&(o=e.bottom),u+t.offsetWidth>f&&(u=f-t.offsetWidth)}t.style.top=o+"px",t.style.left=t.style.right="",i=="right"?(u=s.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):(i=="left"?u=0:i=="middle"&&(u=(s.sizer.clientWidth-t.offsetWidth)/2),t.style.left=u+"px"),n&&ci(this,u,o,u+t.offsetWidth,o+t.offsetHeight)},triggerOnKeyDown:rr(Ur),triggerOnKeyPress:rr(Xr),triggerOnKeyUp:Wr,execCommand:function(e){if(_i.hasOwnProperty(e))return _i[e](this)},findPosH:function(e,t,n,r){var i=1;t<0&&(i=-1,t=-t);for(var s=0,o=Ft(this.doc,e);s<t;++s){o=bi(this.doc,o,i,n,r);if(o.hitSide)break}return o},moveH:rr(function(e,t){var n=this;n.extendSelectionsBy(function(r){return n.display.shift||n.doc.extend||r.empty()?bi(n.doc,r.head,e,t,n.options.rtlMoveVisually):e<0?r.from():r.to()},Wo)}),deleteH:rr(function(e,t){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):yi(this,function(n){var i=bi(r,n.head,e,t,!1);return e<0?{from:i,to:n.head}:{from:n.head,to:i}})}),findPosV:function(e,t,n,r){var i=1,s=r;t<0&&(i=-1,t=-t);for(var o=0,u=Ft(this.doc,e);o<t;++o){var a=Bn(this,u,"div");s==null?s=a.left:a.left=s,u=wi(this,a,i,n);if(u.hitSide)break}return u},moveV:rr(function(e,t){var n=this,r=this.doc,i=[],s=!n.display.shift&&!r.extend&&r.sel.somethingSelected();r.extendSelectionsBy(function(o){if(s)return e<0?o.from():o.to();var u=Bn(n,o.head,"div");o.goalColumn!=null&&(u.left=o.goalColumn),i.push(u.left);var a=wi(n,u,e,t);return t=="page"&&o==r.sel.primary()&&pi(n,null,Hn(n,a,"div").top-u.top),a},Wo);if(i.length)for(var o=0;o<r.sel.ranges.length;o++)r.sel.ranges[o].goalColumn=i[o]}),findWordAt:function(e){var t=this.doc,n=eo(t,e.line).text,r=e.ch,i=e.ch;if(n){var s=this.getHelper(e,"wordChars");(e.xRel<0||i==n.length)&&r?--r:++i;var o=n.charAt(r),u=ou(o,s)?function(e){return ou(e,s)}:/\s/.test(o)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!ou(e)};while(r>0&&u(n.charAt(r-1)))--r;while(i<n.length&&u(n.charAt(i)))++i}return new Pt(dt(e.line,r),dt(e.line,i))},toggleOverwrite:function(e){if(e!=null&&e==this.state.overwrite)return;(this.state.overwrite=!this.state.overwrite)?yu(this.display.cursorDiv,"CodeMirror-overwrite"):gu(this.display.cursorDiv,"CodeMirror-overwrite"),_o(this,"overwriteToggle",this,this.state.overwrite)},hasFocus:function(){return this.display.input.getField()==vu()},scrollTo:rr(function(e,t){(e!=null||t!=null)&&vi(this),e!=null&&(this.curOp.scrollLeft=e),t!=null&&(this.curOp.scrollTop=t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-dn(this)-this.display.barHeight,width:e.scrollWidth-dn(this)-this.display.barWidth,clientHeight:mn(this),clientWidth:vn(this)}},scrollIntoView:rr(function(e,t){e==null?(e={from:this.doc.sel.primary().head,to:null},t==null&&(t=this.options.cursorScrollMargin)):typeof e=="number"?e={from:dt(e,0),to:null}:e.from==null&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0;if(e.from.line!=null)vi(this),this.curOp.scrollToPos=e;else{var n=hi(this,Math.min(e.from.left,e.to.left),Math.min(e.from.top,e.to.top)-e.margin,Math.max(e.from.right,e.to.right),Math.max(e.from.bottom,e.to.bottom)+e.margin);this.scrollTo(n.scrollLeft,n.scrollTop)}}),setSize:rr(function(e,t){function r(e){return typeof e=="number"||/^\d+$/.test(String(e))?e+"px":e}var n=this;e!=null&&(n.display.wrapper.style.width=r(e)),t!=null&&(n.display.wrapper.style.height=r(t)),n.options.lineWrapping&&An(this);var i=n.display.viewFrom;n.doc.iter(i,n.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){ar(n,i,"widget");break}++i}),n.curOp.forceUpdate=!0,_o(n,"refresh",this)}),operation:function(e){return tr(this,e)},refresh:rr(function(){var e=this.display.cachedTextHeight;ur(this),this.curOp.forceUpdate=!0,On(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),M(this),(e==null||Math.abs(e-Un(this.display))>.5)&&k(this),_o(this,"refresh",this)}),swapDoc:rr(function(e){var t=this.doc;return t.cm=null,Zs(this,e),On(this),this.display.input.reset(),this.scrollTo(e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,Po(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Io(E);var Ei=E.defaults={},Si=E.optionHandlers={},Ti=E.Init={toString:function(){return"CodeMirror.Init"}};xi("value","",function(e,t){e.setValue(t)},!0),xi("mode",null,function(e,t){e.doc.modeOption=t,x(e)},!0),xi("indentUnit",2,x,!0),xi("indentWithTabs",!1),xi("smartIndent",!0),xi("tabSize",4,function(e){T(e),On(e),ur(e)},!0),xi("specialChars",/[\t\u0000-\u0019\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(e,t){e.options.specialChars=new RegExp(t.source+(t.test("	")?"":"|	"),"g"),e.refresh()},!0),xi("specialCharPlaceholder",Fs,function(e){e.refresh()},!0),xi("electricChars",!0),xi("inputStyle",p?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),xi("rtlMoveVisually",!v),xi("wholeLineUpdateBefore",!0),xi("theme","default",function(e){L(e),A(e)},!0),xi("keyMap","default",function(e,t,n){var r=Fi(t),i=n!=E.Init&&Fi(n);i&&i.detach&&i.detach(e,r),r.attach&&r.attach(e,i||null)}),xi("extraKeys",null),xi("lineWrapping",!1,N,!0),xi("gutters",[],function(e){P(e.options),A(e)},!0),xi("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?X(e.display)+"px":"0",e.refresh()},!0),xi("coverGutterNextToScrollbar",!1,function(e){I(e)},!0),xi("scrollbarStyle","native",function(e){F(e),I(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),xi("lineNumbers",!1,function(e){P(e.options),A(e)},!0),xi("firstLineNumber",1,A,!0),xi("lineNumberFormatter",function(e){return e},A,!0),xi("showCursorWhenSelecting",!1,tn,!0),xi("resetSelectionOnContextMenu",!0),xi("readOnly",!1,function(e,t){t=="nocursor"?($r(e),e.display.input.blur(),e.display.disabled=!0):(e.display.disabled=!1,t||e.display.input.reset())}),xi("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),xi("dragDrop",!0),xi("cursorBlinkRate",530),xi("cursorScrollMargin",0),xi("cursorHeight",1,tn,!0),xi("singleCursorHeightPerLine",!0,tn,!0),xi("workTime",100),xi("workDelay",100),xi("flattenSpans",!0,T,!0),xi("addModeClass",!1,T,!0),xi("pollInterval",100),xi("undoDepth",200,function(e,t){e.doc.history.undoDepth=t}),xi("historyEventDelay",1250),xi("viewportMargin",10,function(e){e.refresh()},!0),xi("maxHighlightLength",1e4,T,!0),xi("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),xi("tabindex",null,function(e,t){e.display.input.getField().tabIndex=t||""}),xi("autofocus",null);var Ni=E.modes={},Ci=E.mimeModes={};E.defineMode=function(e,t){!E.defaults.mode&&e!="null"&&(E.defaults.mode=e),arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),Ni[e]=t},E.defineMIME=function(e,t){Ci[e]=t},E.resolveMode=function(e){if(typeof e=="string"&&Ci.hasOwnProperty(e))e=Ci[e];else if(e&&typeof e.name=="string"&&Ci.hasOwnProperty(e.name)){var t=Ci[e.name];typeof t=="string"&&(t={name:t}),e=tu(t,e),e.name=t.name}else if(typeof e=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return E.resolveMode("application/xml");return typeof e=="string"?{name:e}:e||{name:"null"}},E.getMode=function(e,t){var t=E.resolveMode(t),n=Ni[t.name];if(!n)return E.getMode(e,"text/plain");var r=n(e,t);if(ki.hasOwnProperty(t.name)){var i=ki[t.name];for(var s in i){if(!i.hasOwnProperty(s))continue;r.hasOwnProperty(s)&&(r["_"+s]=r[s]),r[s]=i[s]}}r.name=t.name,t.helperType&&(r.helperType=t.helperType);if(t.modeProps)for(var s in t.modeProps)r[s]=t.modeProps[s];return r},E.defineMode("null",function(){return{token:function(e){e.skipToEnd()}}}),E.defineMIME("text/plain","null");var ki=E.modeExtensions={};E.extendMode=function(e,t){var n=ki.hasOwnProperty(e)?ki[e]:ki[e]={};nu(t,n)},E.defineExtension=function(e,t){E.prototype[e]=t},E.defineDocExtension=function(e,t){Ks.prototype[e]=t},E.defineOption=xi;var Li=[];E.defineInitHook=function(e){Li.push(e)};var Ai=E.helpers={};E.registerHelper=function(e,t,n){Ai.hasOwnProperty(e)||(Ai[e]=E[e]={_global:[]}),Ai[e][t]=n},E.registerGlobalHelper=function(e,t,n,r){E.registerHelper(e,t,r),Ai[e]._global.push({pred:n,val:r})};var Oi=E.copyState=function(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var i=t[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n},Mi=E.startState=function(e,t,n){return e.startState?e.startState(t,n):!0};E.innerMode=function(e,t){while(e.innerMode){var n=e.innerMode(t);if(!n||n.mode==e)break;t=n.state,e=n.mode}return n||{mode:e,state:t}};var _i=E.commands={selectAll:function(e){e.setSelection(dt(e.firstLine(),0),dt(e.lastLine()),Uo)},singleSelection:function(e){e.setSelection(e.getCursor("anchor"),e.getCursor("head"),Uo)},killLine:function(e){yi(e,function(t){if(t.empty()){var n=eo(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:dt(t.head.line+1,0)}:{from:t.head,to:dt(t.head.line,n)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){yi(e,function(t){return{from:dt(t.from().line,0),to:Ft(e.doc,dt(t.to().line+1,0))}})},delLineLeft:function(e){yi(e,function(e){return{from:dt(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){yi(e,function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return{from:r,to:t.from()}})},delWrappedLineRight:function(e){yi(e,function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:r}})},undo:function(e){e.undo()},redo:function(e){e.redo()},undoSelection:function(e){e.undoSelection()},redoSelection:function(e){e.redoSelection()},goDocStart:function(e){e.extendSelection(dt(e.firstLine(),0))},goDocEnd:function(e){e.extendSelection(dt(e.lastLine()))},goLineStart:function(e){e.extendSelectionsBy(function(t){return qu(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){e.extendSelectionsBy(function(t){return Uu(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){e.extendSelectionsBy(function(t){return Ru(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")},Wo)},goLineLeft:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")},Wo)},goLineLeftSmart:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return r.ch<e.getLine(r.line).search(/\S/)?Uu(e,t.head):r},Wo)},goLineUp:function(e){e.moveV(-1,"line")},goLineDown:function(e){e.moveV(1,"line")},goPageUp:function(e){e.moveV(-1,"page")},goPageDown:function(e){e.moveV(1,"page")},goCharLeft:function(e){e.moveH(-1,"char")},goCharRight:function(e){e.moveH(1,"char")},goColumnLeft:function(e){e.moveH(-1,"column")},goColumnRight:function(e){e.moveH(1,"column")},goWordLeft:function(e){e.moveH(-1,"word")},goGroupRight:function(e){e.moveH(1,"group")},goGroupLeft:function(e){e.moveH(-1,"group")},goWordRight:function(e){e.moveH(1,"word")},delCharBefore:function(e){e.deleteH(-1,"char")},delCharAfter:function(e){e.deleteH(1,"char")},delWordBefore:function(e){e.deleteH(-1,"word")},delWordAfter:function(e){e.deleteH(1,"word")},delGroupBefore:function(e){e.deleteH(-1,"group")},delGroupAfter:function(e){e.deleteH(1,"group")},indentAuto:function(e){e.indentSelection("smart")},indentMore:function(e){e.indentSelection("add")},indentLess:function(e){e.indentSelection("subtract")},insertTab:function(e){e.replaceSelection("	")},insertSoftTab:function(e){var t=[],n=e.listSelections(),r=e.options.tabSize;for(var i=0;i<n.length;i++){var s=n[i].from(),o=Vo(e.getLine(s.line),s.ch,r);t.push((new Array(r-o%r+1)).join(" "))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){tr(e,function(){var t=e.listSelections(),n=[];for(var r=0;r<t.length;r++){var i=t[r].head,s=eo(e.doc,i.line).text;if(s){i.ch==s.length&&(i=new dt(i.line,i.ch-1));if(i.ch>0)i=new dt(i.line,i.ch+1),e.replaceRange(s.charAt(i.ch-1)+s.charAt(i.ch-2),dt(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var o=eo(e.doc,i.line-1).text;o&&e.replaceRange(s.charAt(0)+"\n"+o.charAt(o.length-1),dt(i.line-1,o.length-1),dt(i.line,1),"+transpose")}}n.push(new Pt(i,i))}e.setSelections(n)})},newlineAndIndent:function(e){tr(e,function(){var t=e.listSelections().length;for(var n=0;n<t;n++){var r=e.listSelections()[n];e.replaceRange("\n",r.anchor,r.head,"+input"),e.indentLine(r.from().line+1,null,!0),di(e)}})},toggleOverwrite:function(e){e.toggleOverwrite()}},Di=E.keyMap={};Di.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Di.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Di.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},Di.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Di["default"]=d?Di.macDefault:Di.pcDefault,E.normalizeKeyMap=function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if(r=="..."){delete e[n];continue}var i=Zo(n.split(" "),Pi);for(var s=0;s<i.length;s++){var o,u;s==i.length-1?(u=n,o=r):(u=i.slice(0,s+1).join(" "),o="...");var a=t[u];if(!a)t[u]=o;else if(a!=o)throw new Error("Inconsistent bindings for "+u)}delete e[n]}for(var f in t)e[f]=t[f];return e};var Hi=E.lookupKey=function(e,t,n,r){t=Fi(t);var i=t.call?t.call(e,r):t[e];if(i===!1)return"nothing";if(i==="...")return"multi";if(i!=null&&n(i))return"handled";if(t.fallthrough){if(Object.prototype.toString.call(t.fallthrough)!="[object Array]")return Hi(e,t.fallthrough,n,r);for(var s=0;s<t.fallthrough.length;s++){var o=Hi(e,t.fallthrough[s],n,r);if(o)return o}}},Bi=E.isModifierKey=function(e){var t=typeof e=="string"?e:Pu[e.keyCode];return t=="Ctrl"||t=="Alt"||t=="Shift"||t=="Mod"},ji=E.keyName=function(e,t){if(a&&e.keyCode==34&&e["char"])return!1;var n=Pu[e.keyCode],r=n;return r==null||e.altGraphKey?!1:(e.altKey&&n!="Alt"&&(r="Alt-"+r),(g?e.metaKey:e.ctrlKey)&&n!="Ctrl"&&(r="Ctrl-"+r),(g?e.ctrlKey:e.metaKey)&&n!="Cmd"&&(r="Cmd-"+r),!t&&e.shiftKey&&n!="Shift"&&(r="Shift-"+r),r)};E.fromTextArea=function(e,t){function r(){e.value=a.getValue()}t=t?nu(t):{},t.value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder);if(t.autofocus==null){var n=vu();t.autofocus=n==e||e.getAttribute("autofocus")!=null&&n==document.body}if(e.form){Oo(e.form,"submit",r);if(!t.leaveSubmitMethodAlone){var i=e.form,s=i.submit;try{var o=i.submit=function(){r(),i.submit=s,i.submit(),i.submit=o}}catch(u){}}}t.finishInit=function(t){t.save=r,t.getTextArea=function(){return e},t.toTextArea=function(){t.toTextArea=isNaN,r(),e.parentNode.removeChild(t.getWrapperElement()),e.style.display="",e.form&&(Mo(e.form,"submit",r),typeof e.form.submit=="function"&&(e.form.submit=s))}},e.style.display="none";var a=E(function(t){e.parentNode.insertBefore(t,e.nextSibling)},t);return a};var Ii=E.StringStream=function(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};Ii.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||undefined},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(e){var t=this.string.charAt(this.pos);if(typeof e=="string")var n=t==e;else var n=t&&(e.test?e.test(t):e(t));if(n)return++this.pos,t},eatWhile:function(e){var t=this.pos;while(this.eat(e));return this.pos>t},eatSpace:function(){var e=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos)))++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},backUp:function(e){this.pos-=e},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Vo(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Vo(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return Vo(this.string,null,this.tabSize)-(this.lineStart?Vo(this.string,this.lineStart,this.tabSize):0)},match:function(e,t,n){if(typeof e!="string"){var s=this.string.slice(this.pos).match(e);return s&&s.index>0?null:(s&&t!==!1&&(this.pos+=s[0].length),s)}var r=function(e){return n?e.toLowerCase():e},i=this.string.substr(this.pos,e.length);if(r(i)==r(e))return t!==!1&&(this.pos+=e.length),!0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}}};var qi=0,Ri=E.TextMarker=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++qi};Io(Ri),Ri.prototype.clear=function(){if(this.explicitlyCleared)return;var e=this.doc.cm,t=e&&!e.curOp;t&&Vn(e);if(Fo(this,"clear")){var n=this.find();n&&Po(this,"clear",n.from,n.to)}var r=null,i=null;for(var s=0;s<this.lines.length;++s){var o=this.lines[s],u=Ki(o.markedSpans,this);e&&!this.collapsed?ar(e,io(o),"text"):e&&(u.to!=null&&(i=io(o)),u.from!=null&&(r=io(o))),o.markedSpans=Qi(o.markedSpans,u),u.from==null&&this.collapsed&&!gs(this.doc,o)&&e&&ro(o,Un(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var s=0;s<this.lines.length;++s){var a=ps(this.lines[s]),f=_(a);f>e.display.maxLineLength&&(e.display.maxLine=a,e.display.maxLineLength=f,e.display.maxLineChanged=!0)}r!=null&&e&&this.collapsed&&ur(e,r,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Yt(e.doc)),e&&Po(e,"markerCleared",e,this),t&&Jn(e),this.parent&&this.parent.clear()},Ri.prototype.find=function(e,t){e==null&&this.type=="bookmark"&&(e=1);var n,r;for(var i=0;i<this.lines.length;++i){var s=this.lines[i],o=Ki(s.markedSpans,this);if(o.from!=null){n=dt(t?s:io(s),o.from);if(e==-1)return n}if(o.to!=null){r=dt(t?s:io(s),o.to);if(e==1)return r}}return n&&{from:n,to:r}},Ri.prototype.changed=function(){var e=this.find(-1,!0),t=this,n=this.doc.cm;if(!e||!n)return;tr(n,function(){var r=e.line,i=io(e.line),s=En(n,i);s&&(Ln(s),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0;if(!gs(t.doc,r)&&t.height!=null){var o=t.height;t.height=null;var u=Es(t)-o;u&&ro(r,r.height+u)}})},Ri.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(!t.maybeHiddenMarkers||Yo(t.maybeHiddenMarkers,this)==-1)&&(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},Ri.prototype.detachLine=function(e){this.lines.splice(Yo(this.lines,e),1);if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}};var qi=0,zi=E.SharedTextMarker=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};Io(zi),zi.prototype.clear=function(){if(this.explicitlyCleared)return;this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();Po(this,"clear")},zi.prototype.find=function(e,t){return this.primary.find(e,t)};var bs=E.LineWidget=function(e,t,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.cm=e,this.node=t};Io(bs),bs.prototype.clear=function(){var e=this.cm,t=this.line.widgets,n=this.line,r=io(n);if(r==null||!t)return;for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(n.widgets=null);var s=Es(this);tr(e,function(){ws(e,n,-s),ar(e,r,"widget"),ro(n,Math.max(0,n.height-s))})},bs.prototype.changed=function(){var e=this.height,t=this.cm,n=this.line;this.height=null;var r=Es(this)-e;if(!r)return;tr(t,function(){t.curOp.forceUpdate=!0,ws(t,n,r),ro(n,n.height+r)})};var xs=E.Line=function(e,t,n){this.text=e,ss(this,t),this.height=n?n(this):1};Io(xs),xs.prototype.lineNo=function(){return io(this)};var Ps={},Hs={};Vs.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,r=e+t;n<r;++n){var i=this.lines[n];this.height-=i.height,Ns(i),Po(i,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r<t.length;++r)t[r].parent=this},iterN:function(e,t,n){for(var r=e+t;e<r;++e)if(n(this.lines[e]))return!0}},$s.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var r=this.children[n],i=r.chunkSize();if(e<i){var s=Math.min(t,i-e),o=r.height;r.removeInner(e,s),this.height-=o-r.height,i==s&&(this.children.splice(n--,1),r.parent=null);if((t-=s)==0)break;e=0}else e-=i}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof Vs))){var u=[];this.collapse(u),this.children=[new Vs(u)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var r=0;r<this.children.length;++r){var i=this.children[r],s=i.chunkSize();if(e<=s){i.insertInner(e,t,n);if(i.lines&&i.lines.length>50){while(i.lines.length>50){var o=i.lines.splice(i.lines.length-25,25),u=new Vs(o);i.height-=u.height,this.children.splice(r+1,0,u),u.parent=this}this.maybeSpill()}break}e-=s}},maybeSpill:function(){if(this.children.length<=10)return;var e=this;do{var t=e.children.splice(e.children.length-5,5),n=new $s(t);if(!e.parent){var r=new $s(e.children);r.parent=e,e.children=[r,n],e=r}else{e.size-=n.size,e.height-=n.height;var i=Yo(e.parent.children,e);e.parent.children.splice(i+1,0,n)}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()},iterN:function(e,t,n){for(var r=0;r<this.children.length;++r){var i=this.children[r],s=i.chunkSize();if(e<s){var o=Math.min(t,s-e);if(i.iterN(e,o,n))return!0;if((t-=o)==0)break;e=0}else e-=s}}};var Js=0,Ks=E.Doc=function(e,t,n){if(!(this instanceof Ks))return new Ks(e,t,n);n==null&&(n=0),$s.call(this,[new Vs([new xs("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=n;var r=dt(n,0);this.sel=Bt(r),this.history=new ao(null),this.id=++Js,this.modeOption=t,typeof e=="string"&&(e=Au(e)),Xs(this,{from:r,to:r,text:e}),Kt(this,Bt(r),Uo)};Ks.prototype=tu($s.prototype,{constructor:Ks,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){var n=0;for(var r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=no(this,this.first,this.first+this.size);return e===!1?t:t.join(e||"\n")},setValue:ir(function(e){var t=dt(this.first,0),n=this.first+this.size-1;ni(this,{from:t,to:dt(n,eo(this,n).text.length),text:Au(e),origin:"setValue",full:!0},!0),Kt(this,Bt(t))}),replaceRange:function(e,t,n,r){t=Ft(this,t),n=n?Ft(this,n):t,ai(this,e,t,n,r)},getRange:function(e,t,n){var r=to(this,Ft(this,e),Ft(this,t));return n===!1?r:r.join(n||"\n")},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(qt(this,e))return eo(this,e)},getLineNumber:function(e){return io(e)},getLineHandleVisualStart:function(e){return typeof e=="number"&&(e=eo(this,e)),ps(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return Ft(this,e)},getCursor:function(e){var t=this.sel.primary(),n;return e==null||e=="head"?n=t.head:e=="anchor"?n=t.anchor:e=="end"||e=="to"||e===!1?n=t.to():n=t.from(),n},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:ir(function(e,t,n){Vt(this,Ft(this,typeof e=="number"?dt(e,t||0):e),null,n)}),setSelection:ir(function(e,t,n){Vt(this,Ft(this,e),Ft(this,t||e),n)}),extendSelection:ir(function(e,t,n){zt(this,Ft(this,e),t&&Ft(this,t),n)}),extendSelections:ir(function(e,t){Wt(this,Rt(this,e,t))}),extendSelectionsBy:ir(function(e,t){Wt(this,Zo(this.sel.ranges,e),t)}),setSelections:ir(function(e,t,n){if(!e.length)return;for(var r=0,i=[];r<e.length;r++)i[r]=new Pt(Ft(this,e[r].anchor),Ft(this,e[r].head));t==null&&(t=Math.min(e.length-1,this.sel.primIndex)),Kt(this,Ht(i,t),n)}),addSelection:ir(function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new Pt(Ft(this,e),Ft(this,t||e))),Kt(this,Ht(r,r.length-1),n)}),getSelection:function(e){var t=this.sel.ranges,n;for(var r=0;r<t.length;r++){var i=to(this,t[r].from(),t[r].to());n=n?n.concat(i):i}return e===!1?n:n.join(e||"\n")},getSelections:function(e){var t=[],n=this.sel.ranges;for(var r=0;r<n.length;r++){var i=to(this,n[r].from(),n[r].to());e!==!1&&(i=i.join(e||"\n")),t[r]=i}return t},replaceSelection:function(e,t,n){var r=[];for(var i=0;i<this.sel.ranges.length;i++)r[i]=e;this.replaceSelections(r,t,n||"+input")},replaceSelections:ir(function(e,t,n){var r=[],i=this.sel;for(var s=0;s<i.ranges.length;s++){var o=i.ranges[s];r[s]={from:o.from(),to:o.to(),text:Au(e[s]),origin:n}}var u=t&&t!="end"&&ei(this,r,t);for(var s=r.length-1;s>=0;s--)ni(this,r[s]);u?Jt(this,u):this.cm&&di(this.cm)}),undo:ir(function(){ii(this,"undo")}),redo:ir(function(){ii(this,"redo")}),undoSelection:ir(function(){ii(this,"undo",!0)}),redoSelection:ir(function(){ii(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){var e=this.history,t=0,n=0;for(var r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(var r=0;r<e.undone.length;r++)e.undone[r].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){this.history=new ao(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:wo(this.history.done),undone:wo(this.history.undone)}},setHistory:function(e){var t=this.history=new ao(this.history.maxGeneration);t.done=wo(e.done.slice(0),null,!0),t.undone=wo(e.undone.slice(0),null,!0)},addLineClass:ir(function(e,t,n){return gi(this,e,t=="gutter"?"gutter":"class",function(e){var r=t=="text"?"textClass":t=="background"?"bgClass":t=="gutter"?"gutterClass":"wrapClass";if(!e[r])e[r]=n;else{if(mu(n).test(e[r]))return!1;e[r]+=" "+n}return!0})}),removeLineClass:ir(function(e,t,n){return gi(this,e,t=="gutter"?"gutter":"class",function(e){var r=t=="text"?"textClass":t=="background"?"bgClass":t=="gutter"?"gutterClass":"wrapClass",i=e[r];if(!i)return!1;if(n==null)e[r]=null;else{var s=i.match(mu(n));if(!s)return!1;var o=s.index+s[0].length;e[r]=i.slice(0,s.index)+(!s.index||o==i.length?"":" ")+i.slice(o)||null}return!0})}),markText:function(e,t,n){return Ui(this,Ft(this,e),Ft(this,t),n,"range")},setBookmark:function(e,t){var n={replacedWith:t&&(t.nodeType==null?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared};return e=Ft(this,e),Ui(this,e,e,n,"bookmark")},findMarksAt:function(e){e=Ft(this,e);var t=[],n=eo(this,e.line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(i.from==null||i.from<=e.ch)&&(i.to==null||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,n){e=Ft(this,e),t=Ft(this,t);var r=[],i=e.line;return this.iter(e.line,t.line+1,function(s){var o=s.markedSpans;if(o)for(var u=0;u<o.length;u++){var a=o[u];!(i==e.line&&e.ch>a.to||a.from==null&&i!=e.line||i==t.line&&a.from>t.ch)&&(!n||n(a.marker))&&r.push(a.marker.parent||a.marker)}++i}),r},getAllMarks:function(){var e=[];return this.iter(function(t){var n=t.markedSpans;if(n)for(var r=0;r<n.length;++r)n[r].from!=null&&e.push(n[r].marker)}),e},posFromIndex:function(e){var t,n=this.first;return this.iter(function(r){var i=r.text.length+1;if(i>e)return t=e,!0;e-=i,++n}),Ft(this,dt(n,t))},indexFromPos:function(e){e=Ft(this,e);var t=e.ch;return e.line<this.first||e.ch<0?0:(this.iter(this.first,e.line,function(e){t+=e.text.length+1}),t)},copy:function(e){var t=new Ks(no(this,this.first,this.first+this.size),this.modeOption,this.first);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;e.from!=null&&e.from>t&&(t=e.from),e.to!=null&&e.to<n&&(n=e.to);var r=new Ks(no(this,t,n),e.mode||this.modeOption,t);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],Vi(r,Xi(this)),r},unlinkDoc:function(e){e instanceof E&&(e=e.doc);if(this.linked)for(var t=0;t<this.linked.length;++t){var n=this.linked[t];if(n.doc!=e)continue;this.linked.splice(t,1),e.unlinkDoc(this),$i(Xi(this));break}if(e.history==this.history){var r=[e.id];Ys(e,function(e){r.push(e.id)},!0),e.history=new ao(null),e.history.done=wo(this.history.done,r),e.history.undone=wo(this.history.undone,r)}},iterLinkedDocs:function(e){Ys(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm}}),Ks.prototype.eachLine=Ks.prototype.iter;var Qs="iter insert remove copy getEditor".split(" ");for(var Gs in Ks.prototype)Ks.prototype.hasOwnProperty(Gs)&&Yo(Qs,Gs)<0&&(E.prototype[Gs]=function(e){return function(){return e.apply(this.doc,arguments)}}(Ks.prototype[Gs]));Io(Ks);var To=E.e_preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},No=E.e_stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},ko=E.e_stop=function(e){To(e),No(e)},Oo=E.on=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var r=e._handlers||(e._handlers={}),i=r[t]||(r[t]=[]);i.push(n)}},Mo=E.off=function(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var r=e._handlers&&e._handlers[t];if(!r)return;for(var i=0;i<r.length;++i)if(r[i]==n){r.splice(i,1);break}}},_o=E.signal=function(e,t){var n=e._handlers&&e._handlers[t];if(!n)return;var r=Array.prototype.slice.call(arguments,2);for(var i=0;i<n.length;++i)n[i].apply(null,r)},Do=null,qo=30,Ro=E.Pass={toString:function(){return"CodeMirror.Pass"}},Uo={scroll:!1},zo={origin:"*mouse"},Wo={origin:"+move"};Xo.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var Vo=E.countColumn=function(e,t,n,r,i){t==null&&(t=e.search(/[^\s\u00a0]/),t==-1&&(t=e.length));for(var s=r||0,o=i||0;;){var u=e.indexOf("	",s);if(u<0||u>=t)return o+(t-s);o+=u-s,o+=n-o%n,s=u+1}},Jo=[""],Go=function(e){e.select()};h?Go=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:r&&(Go=function(e){try{e.select()}catch(t){}});var iu=/[\u00df\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,su=E.isWordChar=function(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||iu.test(e))},au=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,cu;document.createRange?cu=function(e,t,n,r){var i=document.createRange();return i.setEnd(r||e,n),i.setStart(e,t),i}:cu=function(e,t,n){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch(i){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r};var du=E.contains=function(e,t){t.nodeType==3&&(t=t.parentNode);if(e.contains)return e.contains(t);do{t.nodeType==11&&(t=t.host);if(t==e)return!0}while(t=t.parentNode)};r&&i<11&&(vu=function(){try{return document.activeElement}catch(e){return document.body}});var gu=E.rmClass=function(e,t){var n=e.className,r=mu(t).exec(n);if(r){var i=n.slice(r.index+r[0].length);e.className=n.slice(0,r.index)+(i?r[1]+i:"")}},yu=E.addClass=function(e,t){var n=e.className;mu(t).test(n)||(e.className+=(n?" ":"")+t)},Eu=!1,Tu=function(){if(r&&i<9)return!1;var e=lu("div");return"draggable"in e||"dragDrop"in e}(),Nu,ku,Au=E.splitLines="\n\nb".split(/\n/).length!=3?function(e){var t=0,n=[],r=e.length;while(t<=r){var i=e.indexOf("\n",t);i==-1&&(i=e.length);var s=e.slice(t,e.charAt(i-1)=="\r"?i-1:i),o=s.indexOf("\r");o!=-1?(n.push(s.slice(0,o)),t+=o+1):(n.push(s),t=i+1)}return n}:function(e){return e.split(/\r\n?|\n/)},Ou=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){try{var t=e.ownerDocument.selection.createRange()}catch(n){}return!t||t.parentElement()!=e?!1:t.compareEndPoints("StartToEnd",t)!=0},Mu=function(){var e=lu("div");return"oncopy"in e?!0:(e.setAttribute("oncopy","return;"),typeof e.oncopy=="function")}(),_u=null,Pu={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",107:"=",109:"-",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};E.keyNames=Pu,function(){for(var e=0;e<10;e++)Pu[e+48]=Pu[e+96]=String(e);for(var e=65;e<=90;e++)Pu[e]=String.fromCharCode(e);for(var e=1;e<=12;e++)Pu[e+111]=Pu[e+63235]="F"+e}();var Wu,Ku=function(){function n(n){return n<=247?e.charAt(n):1424<=n&&n<=1524?"R":1536<=n&&n<=1773?t.charAt(n-1536):1774<=n&&n<=2220?"r":8192<=n&&n<=8203?"w":n==8204?"b":"L"}function f(e,t,n){this.level=e,this.from=t,this.to=n}var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",t="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,i=/[stwN]/,s=/[LRr]/,o=/[Lb1n]/,u=/[1n]/,a="L";return function(e){if(!r.test(e))return!1;var t=e.length,l=[];for(var c=0,h;c<t;++c)l.push(h=n(e.charCodeAt(c)));for(var c=0,p=a;c<t;++c){var h=l[c];h=="m"?l[c]=p:p=h}for(var c=0,d=a;c<t;++c){var h=l[c];h=="1"&&d=="r"?l[c]="n":s.test(h)&&(d=h,h=="r"&&(l[c]="R"))}for(var c=1,p=l[0];c<t-1;++c){var h=l[c];h=="+"&&p=="1"&&l[c+1]=="1"?l[c]="1":h==","&&p==l[c+1]&&(p=="1"||p=="n")&&(l[c]=p),p=h}for(var c=0;c<t;++c){var h=l[c];if(h==",")l[c]="N";else if(h=="%"){for(var v=c+1;v<t&&l[v]=="%";++v);var m=c&&l[c-1]=="!"||v<t&&l[v]=="1"?"1":"N";for(var g=c;g<v;++g)l[g]=m;c=v-1}}for(var c=0,d=a;c<t;++c){var h=l[c];d=="L"&&h=="1"?l[c]="L":s.test(h)&&(d=h)}for(var c=0;c<t;++c)if(i.test(l[c])){for(var v=c+1;v<t&&i.test(l[v]);++v);var y=(c?l[c-1]:a)=="L",b=(v<t?l[v]:a)=="L",m=y||b?"L":"R";for(var g=c;g<v;++g)l[g]=m;c=v-1}var w=[],E;for(var c=0;c<t;)if(o.test(l[c])){var S=c;for(++c;c<t&&o.test(l[c]);++c);w.push(new f(0,S,c))}else{var x=c,T=w.length;for(++c;c<t&&l[c]!="L";++c);for(var g=x;g<c;)if(u.test(l[g])){x<g&&w.splice(T,0,new f(1,x,g));var N=g;for(++g;g<c&&u.test(l[g]);++g);w.splice(T,0,new f(2,N,g)),x=g}else++g;x<c&&w.splice(T,0,new f(1,x,c))}return w[0].level==1&&(E=e.match(/^\s+/))&&(w[0].from=E[0].length,w.unshift(new f(0,0,E[0].length))),Qo(w).level==1&&(E=e.match(/\s+$/))&&(Qo(w).to-=E[0].length,w.push(new f(0,t-E[0].length,t))),w[0].level!=Qo(w).level&&w.push(new f(w[0].level,t,t)),w}}();return E.version="5.0.0",E}),function(){function t(t){this.tokens=[],this.tokens.links={},this.options=t||c.defaults,this.rules=e.normal,this.options.gfm&&(this.options.tables?this.rules=e.tables:this.rules=e.gfm)}function r(e,t){this.options=t||c.defaults,this.links=e,this.rules=n.normal,this.renderer=this.options.renderer||new i,this.renderer.options=this.options;if(!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=n.breaks:this.rules=n.gfm:this.options.pedantic&&(this.rules=n.pedantic)}function i(e){this.options=e||{}}function s(e){this.tokens=[],this.token=null,this.options=e||c.defaults,this.options.renderer=this.options.renderer||new i,this.renderer=this.options.renderer,this.renderer.options=this.options}function o(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function u(e){return e.replace(/&([#\w]+);/g,function(e,t){return t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}function a(e,t){return e=e.source,t=t||"",function n(r,i){return r?(i=i.source||i,i=i.replace(/(^|[^\[])\^/g,"$1"),e=e.replace(r,i),n):new RegExp(e,t)}}function f(){}function l(e){var t=1,n,r;for(;t<arguments.length;t++){n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}function c(e,n,r){if(r||typeof n=="function"){r||(r=n,n=null),n=l({},c.defaults,n||{});var i=n.highlight,u,a,f=0;try{u=t.lex(e,n)}catch(h){return r(h)}a=u.length;var p=function(e){if(e)return n.highlight=i,r(e);var t;try{t=s.parse(u,n)}catch(o){e=o}return n.highlight=i,e?r(e):r(null,t)};if(!i||i.length<3)return p();delete n.highlight;if(!a)return p();for(;f<u.length;f++)(function(e){return e.type!=="code"?--a||p():i(e.text,e.lang,function(t,n){if(t)return p(t);if(n==null||n===e.text)return--a||p();e.text=n,e.escaped=!0,--a||p()})})(u[f]);return}try{return n&&(n=l({},c.defaults,n)),s.parse(t.lex(e,n),n)}catch(h){h.message+="\nPlease report this to https://github.com/chjj/marked.";if((n||c.defaults).silent)return"<p>An error occured:</p><pre>"+o(h.message+"",!0)+"</pre>";throw h}}var e={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:f,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:f,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:f,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};e.bullet=/(?:[*+-]|\d+\.)/,e.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,e.item=a(e.item,"gm")(/bull/g,e.bullet)(),e.list=a(e.list)(/bull/g,e.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+e.def.source+")")(),e.blockquote=a(e.blockquote)("def",e.def)(),e._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",e.html=a(e.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,e._tag)(),e.paragraph=a(e.paragraph)("hr",e.hr)("heading",e.heading)("lheading",e.lheading)("blockquote",e.blockquote)("tag","<"+e._tag)("def",e.def)(),e.normal=l({},e),e.gfm=l({},e.normal,{fences:/^ *(`{3,}|~{3,}) *(\S+)? *\n([\s\S]+?)\s*\1 *(?:\n+|$)/,paragraph:/^/}),e.gfm.paragraph=a(e.paragraph)("(?!","(?!"+e.gfm.fences.source.replace("\\1","\\2")+"|"+e.list.source.replace("\\1","\\3")+"|")(),e.tables=l({},e.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),t.rules=e,t.lex=function(e,n){var r=new t(n);return r.lex(e)},t.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},t.prototype.token=function(t,n,r){var t=t.replace(/^ +$/gm,""),i,s,o,u,a,f,l,c,h;while(t){if(o=this.rules.newline.exec(t))t=t.substring(o[0].length),o[0].length>1&&this.tokens.push({type:"space"});if(o=this.rules.code.exec(t)){t=t.substring(o[0].length),o=o[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?o:o.replace(/\n+$/,"")});continue}if(o=this.rules.fences.exec(t)){t=t.substring(o[0].length),this.tokens.push({type:"code",lang:o[2],text:o[3]});continue}if(o=this.rules.heading.exec(t)){t=t.substring(o[0].length),this.tokens.push({type:"heading",depth:o[1].length,text:o[2]});continue}if(n&&(o=this.rules.nptable.exec(t))){t=t.substring(o[0].length),f={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/\n$/,"").split("\n")};for(c=0;c<f.align.length;c++)/^ *-+: *$/.test(f.align[c])?f.align[c]="right":/^ *:-+: *$/.test(f.align[c])?f.align[c]="center":/^ *:-+ *$/.test(f.align[c])?f.align[c]="left":f.align[c]=null;for(c=0;c<f.cells.length;c++)f.cells[c]=f.cells[c].split(/ *\| */);this.tokens.push(f);continue}if(o=this.rules.lheading.exec(t)){t=t.substring(o[0].length),this.tokens.push({type:"heading",depth:o[2]==="="?1:2,text:o[1]});continue}if(o=this.rules.hr.exec(t)){t=t.substring(o[0].length),this.tokens.push({type:"hr"});continue}if(o=this.rules.blockquote.exec(t)){t=t.substring(o[0].length),this.tokens.push({type:"blockquote_start"}),o=o[0].replace(/^ *> ?/gm,""),this.token(o,n,!0),this.tokens.push({type:"blockquote_end"});continue}if(o=this.rules.list.exec(t)){t=t.substring(o[0].length),u=o[2],this.tokens.push({type:"list_start",ordered:u.length>1}),o=o[0].match(this.rules.item),i=!1,h=o.length,c=0;for(;c<h;c++)f=o[c],l=f.length,f=f.replace(/^ *([*+-]|\d+\.) +/,""),~f.indexOf("\n ")&&(l-=f.length,f=this.options.pedantic?f.replace(/^ {1,4}/gm,""):f.replace(new RegExp("^ {1,"+l+"}","gm"),"")),this.options.smartLists&&c!==h-1&&(a=e.bullet.exec(o[c+1])[0],u!==a&&!(u.length>1&&a.length>1)&&(t=o.slice(c+1).join("\n")+t,c=h-1)),s=i||/\n\n(?!\s*$)/.test(f),c!==h-1&&(i=f.charAt(f.length-1)==="\n",s||(s=i)),this.tokens.push({type:s?"loose_item_start":"list_item_start"}),this.token(f,!1,r),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"});continue}if(o=this.rules.html.exec(t)){t=t.substring(o[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:o[1]==="pre"||o[1]==="script"||o[1]==="style",text:o[0]});continue}if(!r&&n&&(o=this.rules.def.exec(t))){t=t.substring(o[0].length),this.tokens.links[o[1].toLowerCase()]={href:o[2],title:o[3]};continue}if(n&&(o=this.rules.table.exec(t))){t=t.substring(o[0].length),f={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/(?: *\| *)?\n$/,"").split("\n")};for(c=0;c<f.align.length;c++)/^ *-+: *$/.test(f.align[c])?f.align[c]="right":/^ *:-+: *$/.test(f.align[c])?f.align[c]="center":/^ *:-+ *$/.test(f.align[c])?f.align[c]="left":f.align[c]=null;for(c=0;c<f.cells.length;c++)f.cells[c]=f.cells[c].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(f);continue}if(n&&(o=this.rules.paragraph.exec(t))){t=t.substring(o[0].length),this.tokens.push({type:"paragraph",text:o[1].charAt(o[1].length-1)==="\n"?o[1].slice(0,-1):o[1]});continue}if(o=this.rules.text.exec(t)){t=t.substring(o[0].length),this.tokens.push({type:"text",text:o[0]});continue}if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0))}return this.tokens};var n={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:f,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:__|[\s\S])+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:f,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};n._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,n._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,n.link=a(n.link)("inside",n._inside)("href",n._href)(),n.reflink=a(n.reflink)("inside",n._inside)(),n.normal=l({},n),n.pedantic=l({},n.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),n.gfm=l({},n.normal,{escape:a(n.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:a(n.text)("]|","~]|")("|","|https?://|")()}),n.breaks=l({},n.gfm,{br:a(n.br)("{2,}","*")(),text:a(n.gfm.text)("{2,}","*")()}),r.rules=n,r.output=function(e,t,n){var i=new r(t,n);return i.output(e)},r.prototype.output=function(e){var t="",n,r,i,s;while(e){if(s=this.rules.escape.exec(e)){e=e.substring(s[0].length),t+=s[1];continue}if(s=this.rules.autolink.exec(e)){e=e.substring(s[0].length),s[2]==="@"?(r=s[1].charAt(6)===":"?this.mangle(s[1].substring(7)):this.mangle(s[1]),i=this.mangle("mailto:")+r):(r=o(s[1]),i=r),t+=this.renderer.link(i,null,r);continue}if(!this.inLink&&(s=this.rules.url.exec(e))){e=e.substring(s[0].length),r=o(s[1]),i=r,t+=this.renderer.link(i,null,r);continue}if(s=this.rules.tag.exec(e)){!this.inLink&&/^<a /i.test(s[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(s[0])&&(this.inLink=!1),e=e.substring(s[0].length),t+=this.options.sanitize?o(s[0]):s[0];continue}if(s=this.rules.link.exec(e)){e=e.substring(s[0].length),this.inLink=!0,t+=this.outputLink(s,{href:s[2],title:s[3]}),this.inLink=!1;continue}if((s=this.rules.reflink.exec(e))||(s=this.rules.nolink.exec(e))){e=e.substring(s[0].length),n=(s[2]||s[1]).replace(/\s+/g," "),n=this.links[n.toLowerCase()];if(!n||!n.href){t+=s[0].charAt(0),e=s[0].substring(1)+e;continue}this.inLink=!0,t+=this.outputLink(s,n),this.inLink=!1;continue}if(s=this.rules.strong.exec(e)){e=e.substring(s[0].length),t+=this.renderer.strong(this.output(s[2]||s[1]));continue}if(s=this.rules.em.exec(e)){e=e.substring(s[0].length),t+=this.renderer.em(this.output(s[2]||s[1]));continue}if(s=this.rules.code.exec(e)){e=e.substring(s[0].length),t+=this.renderer.codespan(o(s[2],!0));continue}if(s=this.rules.br.exec(e)){e=e.substring(s[0].length),t+=this.renderer.br();continue}if(s=this.rules.del.exec(e)){e=e.substring(s[0].length),t+=this.renderer.del(this.output(s[1]));continue}if(s=this.rules.text.exec(e)){e=e.substring(s[0].length),t+=o(this.smartypants(s[0]));continue}if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}return t},r.prototype.outputLink=function(e,t){var n=o(t.href),r=t.title?o(t.title):null;return e[0].charAt(0)!=="!"?this.renderer.link(n,r,this.output(e[1])):this.renderer.image(n,r,o(e[1]))},r.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/--/g,"—").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e},r.prototype.mangle=function(e){var t="",n=e.length,r=0,i;for(;r<n;r++)i=e.charCodeAt(r),Math.random()>.5&&(i="x"+i.toString(16)),t+="&#"+i+";";return t},i.prototype.code=function(e,t,n){if(this.options.highlight){var r=this.options.highlight(e,t);r!=null&&r!==e&&(n=!0,e=r)}return t?'<pre><code class="'+this.options.langPrefix+o(t,!0)+'">'+(n?e:o(e,!0))+"\n</code></pre>\n":"<pre><code>"+(n?e:o(e,!0))+"\n</code></pre>"},i.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},i.prototype.html=function(e){return e},i.prototype.heading=function(e,t,n){return"<h"+t+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n"},i.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},i.prototype.list=function(e,t){var n=t?"ol":"ul";return"<"+n+">\n"+e+"</"+n+">\n"},i.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},i.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},i.prototype.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n"+"<tbody>\n"+t+"</tbody>\n"+"</table>\n"},i.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},i.prototype.tablecell=function(e,t){var n=t.header?"th":"td",r=t.align?"<"+n+' style="text-align:'+t.align+'">':"<"+n+">";return r+e+"</"+n+">\n"},i.prototype.strong=function(e){return"<strong>"+e+"</strong>"},i.prototype.em=function(e){return"<em>"+e+"</em>"},i.prototype.codespan=function(e){return"<code>"+e+"</code>"},i.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},i.prototype.del=function(e){return"<del>"+e+"</del>"},i.prototype.link=function(e,t,n){if(this.options.sanitize){try{var r=decodeURIComponent(u(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(i){return""}if(r.indexOf("javascript:")===0||r.indexOf("vbscript:")===0)return""}var s='<a href="'+e+'"';return t&&(s+=' title="'+t+'"'),s+=">"+n+"</a>",s},i.prototype.image=function(e,t,n){var r='<img src="'+e+'" alt="'+n+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">",r},s.parse=function(e,t,n){var r=new s(t,n);return r.parse(e)},s.prototype.parse=function(e){this.inline=new r(e.links,this.options,this.renderer),this.tokens=e.reverse();var t="";while(this.next())t+=this.tok();return t},s.prototype.next=function(){return this.token=this.tokens.pop()},s.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},s.prototype.parseText=function(){var e=this.token.text;while(this.peek().type==="text")e+="\n"+this.next().text;return this.inline.output(e)},s.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e="",t="",n,r,i,s,o;i="";for(n=0;n<this.token.header.length;n++)s={header:!0,align:this.token.align[n]},i+=this.renderer.tablecell(this.inline.output(this.token.header[n]),{header:!0,align:this.token.align[n]});e+=this.renderer.tablerow(i);for(n=0;n<this.token.cells.length;n++){r=this.token.cells[n],i="";for(o=0;o<r.length;o++)i+=this.renderer.tablecell(this.inline.output(r[o]),{header:!1,align:this.token.align[o]});t+=this.renderer.tablerow(i)}return this.renderer.table(e,t);case"blockquote_start":var t="";while(this.next().type!=="blockquote_end")t+=this.tok();return this.renderer.blockquote(t);case"list_start":var t="",u=this.token.ordered;while(this.next().type!=="list_end")t+=this.tok();return this.renderer.list(t,u);case"list_item_start":var t="";while(this.next().type!=="list_item_end")t+=this.token.type==="text"?this.parseText():this.tok();return this.renderer.listitem(t);case"loose_item_start":var t="";while(this.next().type!=="list_item_end")t+=this.tok();return this.renderer.listitem(t);case"html":var a=!this.token.pre&&!this.options.pedantic?this.inline.output(this.token.text):this.token.text;return this.renderer.html(a);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},f.exec=f,c.options=c.setOptions=function(e){return l(c.defaults,e),c},c.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new i,xhtml:!1},c.Parser=s,c.parser=s.parse,c.Renderer=i,c.Lexer=t,c.lexer=t.lex,c.InlineLexer=r,c.inlineLexer=r.output,c.parse=c,typeof module!="undefined"&&typeof exports=="object"?module.exports=c:typeof define=="function"&&define.amd?define("marked",[],function(){return c}):this.marked=c}.call(function(){return this||(typeof window!="undefined"?window:global)}());var IN_GLOBAL_SCOPE=!0;window.PR_SHOULD_USE_CONTINUATION=!0;var prettyPrintOne,prettyPrint;(function(){function O(e){function a(e){var t=e.charCodeAt(0);if(t!==92)return t;var n=e.charAt(1);return t=u[n],t?t:"0"<=n&&n<="7"?parseInt(e.substring(1),8):n==="u"||n==="x"?parseInt(e.substring(2),16):e.charCodeAt(1)}function f(e){if(e<32)return(e<16?"\\x0":"\\x")+e.toString(16);var t=String.fromCharCode(e);return t==="\\"||t==="-"||t==="]"||t==="^"?"\\"+t:t}function l(e){var t=e.substring(1,e.length-1).match(new RegExp("\\\\u[0-9A-Fa-f]{4}|\\\\x[0-9A-Fa-f]{2}|\\\\[0-3][0-7]{0,2}|\\\\[0-7]{1,2}|\\\\[\\s\\S]|-|[^-\\\\]","g")),n=[],r=t[0]==="^",i=["["];r&&i.push("^");for(var s=r?1:0,o=t.length;s<o;++s){var u=t[s];if(/\\[bdsw]/i.test(u))i.push(u);else{var l=a(u),c;s+2<o&&"-"===t[s+1]?(c=a(t[s+2]),s+=2):c=l,n.push([l,c]),c<65||l>122||(c<65||l>90||n.push([Math.max(65,l)|32,Math.min(c,90)|32]),c<97||l>122||n.push([Math.max(97,l)&-33,Math.min(c,122)&-33]))}}n.sort(function(e,t){return e[0]-t[0]||t[1]-e[1]});var h=[],p=[];for(var s=0;s<n.length;++s){var d=n[s];d[0]<=p[1]+1?p[1]=Math.max(p[1],d[1]):h.push(p=d)}for(var s=0;s<h.length;++s){var d=h[s];i.push(f(d[0])),d[1]>d[0]&&(d[1]+1>d[0]&&i.push("-"),i.push(f(d[1])))}return i.push("]"),i.join("")}function c(e){var r=e.source.match(new RegExp("(?:\\[(?:[^\\x5C\\x5D]|\\\\[\\s\\S])*\\]|\\\\u[A-Fa-f0-9]{4}|\\\\x[A-Fa-f0-9]{2}|\\\\[0-9]+|\\\\[^ux0-9]|\\(\\?[:!=]|[\\(\\)\\^]|[^\\x5B\\x5C\\(\\)\\^]+)","g")),i=r.length,s=[];for(var o=0,u=0;o<i;++o){var a=r[o];if(a==="(")++u;else if("\\"===a.charAt(0)){var c=+a.substring(1);c&&(c<=u?s[c]=-1:r[o]=f(c))}}for(var o=1;o<s.length;++o)-1===s[o]&&(s[o]=++t);for(var o=0,u=0;o<i;++o){var a=r[o];if(a==="(")++u,s[u]||(r[o]="(?:");else if("\\"===a.charAt(0)){var c=+a.substring(1);c&&c<=u&&(r[o]="\\"+s[c])}}for(var o=0;o<i;++o)"^"===r[o]&&"^"!==r[o+1]&&(r[o]="");if(e.ignoreCase&&n)for(var o=0;o<i;++o){var a=r[o],h=a.charAt(0);a.length>=2&&h==="["?r[o]=l(a):h!=="\\"&&(r[o]=a.replace(/[a-zA-Z]/g,function(e){var t=e.charCodeAt(0);return"["+String.fromCharCode(t&-33,t|32)+"]"}))}return r.join("")}var t=0,n=!1,r=!1;for(var i=0,s=e.length;i<s;++i){var o=e[i];if(o.ignoreCase)r=!0;else if(/[a-z]/i.test(o.source.replace(/\\u[0-9a-f]{4}|\\x[0-9a-f]{2}|\\[^ux]/gi,""))){n=!0,r=!1;break}}var u={b:8,t:9,n:10,v:11,f:12,r:13},h=[];for(var i=0,s=e.length;i<s;++i){var o=e[i];if(o.global||o.multiline)throw new Error(""+o);h.push("(?:"+c(o)+")")}return new RegExp(h.join("|"),r?"gi":"g")}function M(e,t){function u(e){var a=e.nodeType;if(a==1){if(n.test(e.className))return;for(var f=e.firstChild;f;f=f.nextSibling)u(f);var l=e.nodeName.toLowerCase();if("br"===l||"li"===l)r[o]="\n",s[o<<1]=i++,s[o++<<1|1]=e}else if(a==3||a==4){var c=e.nodeValue;c.length&&(t?c=c.replace(/\r\n?/g,"\n"):c=c.replace(/[ \t\r\n]+/g," "),r[o]=c,s[o<<1]=i,i+=c.length,s[o++<<1|1]=e)}}var n=/(?:^|\s)nocode(?:\s|$)/,r=[],i=0,s=[],o=0;return u(e),{sourceCode:r.join("").replace(/\n$/,""),spans:s}}function _(e,t,n,r){if(!t)return;var i={sourceCode:t,basePos:e};n(i),r.push.apply(r,i.decorations)}function P(e){var t=undefined;for(var n=e.firstChild;n;n=n.nextSibling){var r=n.nodeType;t=r===1?t?e:n:r===3?D.test(n.nodeValue)?e:t:t}return t===e?undefined:t}function H(e,t){var n={},r;(function(){var i=e.concat(t),s=[],o={};for(var u=0,a=i.length;u<a;++u){var f=i[u],l=f[3];if(l)for(var c=l.length;--c>=0;)n[l.charAt(c)]=f;var h=f[1],p=""+h;o.hasOwnProperty(p)||(s.push(h),o[p]=null)}s.push(/[\0-\uffff]/),r=O(s)})();var i=t.length,s=function(e){var o=e.sourceCode,u=e.basePos,a=[u,S],f=0,l=o.match(r)||[],c={};for(var h=0,p=l.length;h<p;++h){var d=l[h],v=c[d],m=void 0,g;if(typeof v=="string")g=!1;else{var y=n[d.charAt(0)];if(y)m=d.match(y[1]),v=y[0];else{for(var b=0;b<i;++b){y=t[b],m=d.match(y[1]);if(m){v=y[0];break}}m||(v=S)}g=v.length>=5&&"lang-"===v.substring(0,5),g&&(!m||typeof m[1]!="string")&&(g=!1,v=N),g||(c[d]=v)}var w=f;f+=d.length;if(!g)a.push(u+w,v);else{var E=m[1],x=d.indexOf(E),T=x+E.length;m[2]&&(T=d.length-m[2].length,x=T-E.length);var C=v.substring(5);_(u+w,d.substring(0,x),s,a),_(u+w+x,E,U(C,E),a),_(u+w+T,d.substring(T),s,a)}}e.decorations=a};return s}function B(e){var t=[],n=[];e.tripleQuotedStrings?t.push([m,/^(?:\'\'\'(?:[^\'\\]|\\[\s\S]|\'{1,2}(?=[^\']))*(?:\'\'\'|$)|\"\"\"(?:[^\"\\]|\\[\s\S]|\"{1,2}(?=[^\"]))*(?:\"\"\"|$)|\'(?:[^\\\']|\\[\s\S])*(?:\'|$)|\"(?:[^\\\"]|\\[\s\S])*(?:\"|$))/,null,"'\""]):e.multiLineStrings?t.push([m,/^(?:\'(?:[^\\\']|\\[\s\S])*(?:\'|$)|\"(?:[^\\\"]|\\[\s\S])*(?:\"|$)|\`(?:[^\\\`]|\\[\s\S])*(?:\`|$))/,null,"'\"`"]):t.push([m,/^(?:\'(?:[^\\\'\r\n]|\\.)*(?:\'|$)|\"(?:[^\\\"\r\n]|\\.)*(?:\"|$))/,null,"\"'"]),e.verbatimStrings&&n.push([m,/^@\"(?:[^\"]|\"\")*(?:\"|$)/,null]);var r=e.hashComments;r&&(e.cStyleComments?(r>1?t.push([y,/^#(?:##(?:[^#]|#(?!##))*(?:###|$)|.*)/,null,"#"]):t.push([y,/^#(?:(?:define|e(?:l|nd)if|else|error|ifn?def|include|line|pragma|undef|warning)\b|[^\r\n]*)/,null,"#"]),n.push([m,/^<(?:(?:(?:\.\.\/)*|\/?)(?:[\w-]+(?:\/[\w-]+)+)?[\w-]+\.h(?:h|pp|\+\+)?|[a-z]\w*)>/,null])):t.push([y,/^#[^\r\n]*/,null,"#"])),e.cStyleComments&&(n.push([y,/^\/\/[^\r\n]*/,null]),n.push([y,/^\/\*[\s\S]*?(?:\*\/|$)/,null]));var i=e.regexLiterals;if(i){var s=i>1?"":"\n\r",o=s?".":"[\\S\\s]",u="/(?=[^/*"+s+"])"+"(?:[^/\\x5B\\x5C"+s+"]"+"|\\x5C"+o+"|\\x5B(?:[^\\x5C\\x5D"+s+"]"+"|\\x5C"+o+")*(?:\\x5D|$))+"+"/";n.push(["lang-regex",RegExp("^"+A+"("+u+")")])}var a=e.types;a&&n.push([b,a]);var f=(""+e.keywords).replace(/^ | $/g,"");f.length&&n.push([g,new RegExp("^(?:"+f.replace(/[\s,]+/g,"|")+")\\b"),null]),t.push([S,/^\s+/,null," \r\n	 "]);var l="^.[^\\s\\w.$@'\"`/\\\\]*";return e.regexLiterals&&(l+="(?!s*/)"),n.push([w,/^@[a-z_$][a-z_$@0-9]*/i,null],[b,/^(?:[@_]?[A-Z]+[a-z][A-Za-z_$@0-9]*|\w+_t\b)/,null],[S,/^[a-z_$][a-z_$@0-9]*/i,null],[w,new RegExp("^(?:0x[a-f0-9]+|(?:\\d(?:_\\d+)*\\d*(?:\\.\\d*)?|\\.\\d\\+)(?:e[+\\-]?\\d+)?)[a-z]*","i"),null,"0123456789"],[S,/^\\[\s\S]?/,null],[E,new RegExp(l),null]),H(t,n)}function F(e,t,n){function a(e){var t=e.nodeType;if(t==1&&!r.test(e.className))if("br"===e.nodeName)f(e),e.parentNode&&e.parentNode.removeChild(e);else for(var o=e.firstChild;o;o=o.nextSibling)a(o);else if((t==3||t==4)&&n){var u=e.nodeValue,l=u.match(i);if(l){var c=u.substring(0,l.index);e.nodeValue=c;var h=u.substring(l.index+l[0].length);if(h){var p=e.parentNode;p.insertBefore(s.createTextNode(h),e.nextSibling)}f(e),c||e.parentNode.removeChild(e)}}}function f(e){function t(e,n){var r=n?e.cloneNode(!1):e,i=e.parentNode;if(i){var s=t(i,1),o=e.nextSibling;s.appendChild(r);for(var u=o;u;u=o)o=u.nextSibling,s.appendChild(u)}return r}while(!e.nextSibling){e=e.parentNode;if(!e)return}var n=t(e.nextSibling,0);for(var r;(r=n.parentNode)&&r.nodeType===1;)n=r;u.push(n)}var r=/(?:^|\s)nocode(?:\s|$)/,i=/\r\n?|\n/,s=e.ownerDocument,o=s.createElement("li");while(e.firstChild)o.appendChild(e.firstChild);var u=[o];for(var l=0;l<u.length;++l)a(u[l]);t===(t|0)&&u[0].setAttribute("value",t);var c=s.createElement("ol");c.className="linenums";var h=Math.max(0,t-1|0)||0;for(var l=0,p=u.length;l<p;++l)o=u[l],o.className="L"+(l+h)%10,o.firstChild||o.appendChild(s.createTextNode(" ")),c.appendChild(o);e.appendChild(c)}function I(e){var t=/\bMSIE\s(\d+)/.exec(navigator.userAgent);t=t&&+t[1]<=8;var n=/\n/g,r=e.sourceCode,i=r.length,s=0,o=e.spans,u=o.length,a=0,f=e.decorations,l=f.length,c=0;f[l]=i;var h,p;for(p=h=0;p<l;)f[p]!==f[p+2]?(f[h++]=f[p++],f[h++]=f[p++]):p+=2;l=h;for(p=h=0;p<l;){var d=f[p],v=f[p+1],m=p+2;while(m+2<=l&&f[m+1]===v)m+=2;f[h++]=d,f[h++]=v,p=m}l=f.length=h;var g=e.sourceNode,y;g&&(y=g.style.display,g.style.display="none");try{var b=null;while(a<u){var w=o[a],E=o[a+2]||i,S=f[c+2]||i,m=Math.min(E,S),x=o[a+1],T;if(x.nodeType!==1&&(T=r.substring(s,m))){t&&(T=T.replace(n,"\r")),x.nodeValue=T;var N=x.ownerDocument,C=N.createElement("span");C.className=f[c+1];var k=x.parentNode;k.replaceChild(C,x),C.appendChild(x),s<E&&(o[a+1]=x=N.createTextNode(r.substring(m,E)),k.insertBefore(x,C.nextSibling))}s=m,s>=E&&(a+=2),s>=S&&(c+=2)}}finally{g&&(g.style.display=y)}}function R(t,n){for(var r=n.length;--r>=0;){var i=n[r];q.hasOwnProperty(i)?e.console&&console.warn("cannot override language handler %s",i):q[i]=t}}function U(e,t){if(!e||!q.hasOwnProperty(e))e=/^\s*</.test(t)?"default-markup":"default-code";return q[e]}function z(t){var n=t.langExtension;try{var r=M(t.sourceNode,t.pre),i=r.sourceCode;t.sourceCode=i,t.spans=r.spans,t.basePos=0,U(n,i)(t),I(t)}catch(s){e.console&&console.log(s&&s.stack||s)}}function W(e,t,n){var r=document.createElement("div");r.innerHTML="<pre>"+e+"</pre>",r=r.firstChild,n&&F(r,n,!0);var i={langExtension:t,numberLines:n,sourceNode:r,pre:1};return z(i),r.innerHTML}function X(t,n){function s(e){return r.getElementsByTagName(e)}function E(){var n=e.PR_SHOULD_USE_CONTINUATION?c.now()+250:Infinity;for(;h<u.length&&c.now()<n;h++){var r=u[h],s=w;for(var o=r;o=o.previousSibling;){var a=o.nodeType,f=(a===7||a===8)&&o.nodeValue;if(f?!/^\??prettify\b/.test(f):a!==3||/\S/.test(o.nodeValue))break;if(f){s={},f.replace(/\b(\w+)=([\w:.%+-]+)/g,function(e,t,n){s[t]=n});break}}var l=r.className;if((s!==w||v.test(l))&&!m.test(l)){var S=!1;for(var x=r.parentNode;x;x=x.parentNode){var T=x.tagName;if(b.test(T)&&x.className&&v.test(x.className)){S=!0;break}}if(!S){r.className+=" prettyprinted";var N=s.lang;if(!N){N=l.match(d);var C;!N&&(C=P(r))&&y.test(C.tagName)&&(N=C.className.match(d)),N&&(N=N[1])}var k;if(g.test(r.tagName))k=1;else{var L=r.currentStyle,A=i.defaultView,O=L?L.whiteSpace:A&&A.getComputedStyle?A.getComputedStyle(r,null).getPropertyValue("white-space"):0;k=O&&"pre"===O.substring(0,3)}var M=s.linenums;(M=M==="true"||+M)||(M=l.match(/\blinenums\b(?::(\d+))?/),M=M?M[1]&&M[1].length?+M[1]:!0:!1),M&&F(r,M,k),p={langExtension:N,sourceNode:r,numberLines:M,pre:k},z(p)}}}h<u.length?setTimeout(E,250):"function"==typeof t&&t()}var r=n||document.body,i=r.ownerDocument||document,o=[s("pre"),s("code"),s("xmp")],u=[];for(var a=0;a<o.length;++a)for(var f=0,l=o[a].length;f<l;++f)u.push(o[a][f]);o=null;var c=Date;c.now||(c={now:function(){return+(new Date)}});var h=0,p,d=/\blang(?:uage)?-([\w.]+)(?!\S)/,v=/\bprettyprint\b/,m=/\bprettyprinted\b/,g=/pre|xmp/i,y=/^code$/i,b=/^(?:pre|code|xmp)$/i,w={};E()}var e=window,t=["break,continue,do,else,for,if,return,while"],n=[t,"auto,case,char,const,default,double,enum,extern,float,goto,inline,int,long,register,short,signed,sizeof,static,struct,switch,typedef,union,unsigned,void,volatile"],r=[n,"catch,class,delete,false,import,new,operator,private,protected,public,this,throw,true,try,typeof"],i=[r,"alignof,align_union,asm,axiom,bool,concept,concept_map,const_cast,constexpr,decltype,delegate,dynamic_cast,explicit,export,friend,generic,late_check,mutable,namespace,nullptr,property,reinterpret_cast,static_assert,static_cast,template,typeid,typename,using,virtual,where"],s=[r,"abstract,assert,boolean,byte,extends,final,finally,implements,import,instanceof,interface,null,native,package,strictfp,super,synchronized,throws,transient"],o=[s,"as,base,by,checked,decimal,delegate,descending,dynamic,event,fixed,foreach,from,group,implicit,in,internal,into,is,let,lock,object,out,override,orderby,params,partial,readonly,ref,sbyte,sealed,stackalloc,string,select,uint,ulong,unchecked,unsafe,ushort,var,virtual,where"],u="all,and,by,catch,class,else,extends,false,finally,for,if,in,is,isnt,loop,new,no,not,null,of,off,on,or,return,super,then,throw,true,try,unless,until,when,while,yes",a=[r,"debugger,eval,export,function,get,null,set,undefined,var,with,Infinity,NaN"],f="caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END",l=[t,"and,as,assert,class,def,del,elif,except,exec,finally,from,global,import,in,is,lambda,nonlocal,not,or,pass,print,raise,try,with,yield,False,True,None"],c=[t,"alias,and,begin,case,class,def,defined,elsif,end,ensure,false,in,module,next,nil,not,or,redo,rescue,retry,self,super,then,true,undef,unless,until,when,yield,BEGIN,END"],h=[t,"as,assert,const,copy,drop,enum,extern,fail,false,fn,impl,let,log,loop,match,mod,move,mut,priv,pub,pure,ref,self,static,struct,true,trait,type,unsafe,use"],p=[t,"case,done,elif,esac,eval,fi,function,in,local,set,then,until"],d=[i,o,a,f,l,c,p],v=/^(DIR|FILE|vector|(de|priority_)?queue|list|stack|(const_)?iterator|(multi)?(set|map)|bitset|u?(int|float)\d*)\b/,m="str",g="kwd",y="com",b="typ",w="lit",E="pun",S="pln",x="tag",T="dec",N="src",C="atn",k="atv",L="nocode",A="(?:^^\\.?|[+-]|[!=]=?=?|\\#|%=?|&&?=?|\\(|\\*=?|[+\\-]=|->|\\/=?|::?|<<?=?|>>?>?=?|,|;|\\?|@|\\[|~|{|\\^\\^?=?|\\|\\|?=?|break|case|continue|delete|do|else|finally|instanceof|return|throw|try|typeof)\\s*",D=/\S/,j=B({keywords:d,hashComments:!0,cStyleComments:!0,multiLineStrings:!0,regexLiterals:!0}),q={};R(j,["default-code"]),R(H([],[[S,/^[^<?]+/],[T,/^<!\w[^>]*(?:>|$)/],[y,/^<\!--[\s\S]*?(?:-\->|$)/],["lang-",/^<\?([\s\S]+?)(?:\?>|$)/],["lang-",/^<%([\s\S]+?)(?:%>|$)/],[E,/^(?:<[%?]|[%?]>)/],["lang-",/^<xmp\b[^>]*>([\s\S]+?)<\/xmp\b[^>]*>/i],["lang-js",/^<script\b[^>]*>([\s\S]*?)(<\/script\b[^>]*>)/i],["lang-css",/^<style\b[^>]*>([\s\S]*?)(<\/style\b[^>]*>)/i],["lang-in.tag",/^(<\/?[a-z][^<>]*>)/i]]),["default-markup","htm","html","mxml","xhtml","xml","xsl"]),R(H([[S,/^[\s]+/,null," 	\r\n"],[k,/^(?:\"[^\"]*\"?|\'[^\']*\'?)/,null,"\"'"]],[[x,/^^<\/?[a-z](?:[\w.:-]*\w)?|\/?>$/i],[C,/^(?!style[\s=]|on)[a-z](?:[\w:-]*\w)?/i],["lang-uq.val",/^=\s*([^>\'\"\s]*(?:[^>\'\"\s\/]|\/(?=\s)))/],[E,/^[=<>\/]+/],["lang-js",/^on\w+\s*=\s*\"([^\"]+)\"/i],["lang-js",/^on\w+\s*=\s*\'([^\']+)\'/i],["lang-js",/^on\w+\s*=\s*([^\"\'>\s]+)/i],["lang-css",/^style\s*=\s*\"([^\"]+)\"/i],["lang-css",/^style\s*=\s*\'([^\']+)\'/i],["lang-css",/^style\s*=\s*([^\"\'>\s]+)/i]]),["in.tag"]),R(H([],[[k,/^[\s\S]+/]]),["uq.val"]),R(B({keywords:i,hashComments:!0,cStyleComments:!0,types:v}),["c","cc","cpp","cxx","cyc","m"]),R(B({keywords:"null,true,false"}),["json"]),R(B({keywords:o,hashComments:!0,cStyleComments:!0,verbatimStrings:!0,types:v}),["cs"]),R(B({keywords:s,cStyleComments:!0}),["java"]),R(B({keywords:p,hashComments:!0,multiLineStrings:!0}),["bash","bsh","csh","sh"]),R(B({keywords:l,hashComments:!0,multiLineStrings:!0,tripleQuotedStrings:!0}),["cv","py","python"]),R(B({keywords:f,hashComments:!0,multiLineStrings:!0,regexLiterals:2}),["perl","pl","pm"]),R(B({keywords:c,hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),["rb","ruby"]),R(B({keywords:a,cStyleComments:!0,regexLiterals:!0}),["javascript","js"]),R(B({keywords:u,hashComments:3,cStyleComments:!0,multilineStrings:!0,tripleQuotedStrings:!0,regexLiterals:!0}),["coffee"]),R(B({keywords:h,cStyleComments:!0,multilineStrings:!0}),["rc","rs","rust"]),R(H([],[[m,/^[\s\S]+/]]),["regex"]);var V=e.PR={createSimpleLexer:H,registerLangHandler:R,sourceDecorator:B,PR_ATTRIB_NAME:C,PR_ATTRIB_VALUE:k,PR_COMMENT:y,PR_DECLARATION:T,PR_KEYWORD:g,PR_LITERAL:w,PR_NOCODE:L,PR_PLAIN:S,PR_PUNCTUATION:E,PR_SOURCE:N,PR_STRING:m,PR_TAG:x,PR_TYPE:b,prettyPrintOne:IN_GLOBAL_SCOPE?e.prettyPrintOne=W:prettyPrintOne=W,prettyPrint:prettyPrint=IN_GLOBAL_SCOPE?e.prettyPrint=X:prettyPrint=X};typeof define=="function"&&define.amd&&define("google-code-prettify",[],function(){return V})})(),define("prettify",function(){}),function(e){typeof exports=="object"&&typeof module=="object"?e(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define("editorlib/codemirror/mode/xml/xml",["codemirror"],e):e(CodeMirror)}(function(e){e.defineMode("xml",function(t,n){function l(e,t){function n(n){return t.tokenize=n,n(e,t)}var r=e.next();if(r=="<")return e.eat("!")?e.eat("[")?e.match("CDATA[")?n(p("atom","]]>")):null:e.match("--")?n(p("comment","-->")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),n(d(1))):null:e.eat("?")?(e.eatWhile(/[\w\._\-]/),t.tokenize=p("meta","?>"),"meta"):(a=e.eat("/")?"closeTag":"openTag",t.tokenize=c,"tag bracket");if(r=="&"){var i;return e.eat("#")?e.eat("x")?i=e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):i=e.eatWhile(/[\d]/)&&e.eat(";"):i=e.eatWhile(/[\w\.\-:]/)&&e.eat(";"),i?"atom":"error"}return e.eatWhile(/[^&<]/),null}function c(e,t){var n=e.next();if(n==">"||n=="/"&&e.eat(">"))return t.tokenize=l,a=n==">"?"endTag":"selfcloseTag","tag bracket";if(n=="=")return a="equals",null;if(n=="<"){t.tokenize=l,t.state=y,t.tagName=t.tagStart=null;var r=t.tokenize(e,t);return r?r+" tag error":"tag error"}return/[\'\"]/.test(n)?(t.tokenize=h(n),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function h(e){var t=function(t,n){while(!t.eol())if(t.next()==e){n.tokenize=c;break}return"string"};return t.isInAttribute=!0,t}function p(e,t){return function(n,r){while(!n.eol()){if(n.match(t)){r.tokenize=l;break}n.next()}return e}}function d(e){return function(t,n){var r;while((r=t.next())!=null){if(r=="<")return n.tokenize=d(e+1),n.tokenize(t,n);if(r==">"){if(e==1){n.tokenize=l;break}return n.tokenize=d(e-1),n.tokenize(t,n)}}return"meta"}}function v(e,t,n){this.prev=e.context,this.tagName=t,this.indent=e.indented,this.startOfLine=n;if(o.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)this.noIndent=!0}function m(e){e.context&&(e.context=e.context.prev)}function g(e,t){var n;for(;;){if(!e.context)return;n=e.context.tagName;if(!o.contextGrabbers.hasOwnProperty(n)||!o.contextGrabbers[n].hasOwnProperty(t))return;m(e)}}function y(e,t,n){return e=="openTag"?(n.tagStart=t.column(),b):e=="closeTag"?w:y}function b(e,t,n){return e=="word"?(n.tagName=t.current(),f="tag",x):(f="error",b)}function w(e,t,n){if(e=="word"){var r=t.current();return n.context&&n.context.tagName!=r&&o.implicitlyClosed.hasOwnProperty(n.context.tagName)&&m(n),n.context&&n.context.tagName==r?(f="tag",E):(f="tag error",S)}return f="error",S}function E(e,t,n){return e!="endTag"?(f="error",E):(m(n),y)}function S(e,t,n){return f="error",E(e,t,n)}function x(e,t,n){if(e=="word")return f="attribute",T;if(e=="endTag"||e=="selfcloseTag"){var r=n.tagName,i=n.tagStart;return n.tagName=n.tagStart=null,e=="selfcloseTag"||o.autoSelfClosers.hasOwnProperty(r)?g(n,r):(g(n,r),n.context=new v(n,r,i==n.indented)),y}return f="error",x}function T(e,t,n){return e=="equals"?N:(o.allowMissing||(f="error"),x(e,t,n))}function N(e,t,n){return e=="string"?C:e=="word"&&o.allowUnquoted?(f="string",x):(f="error",x(e,t,n))}function C(e,t,n){return e=="string"?C:x(e,t,n)}var r=t.indentUnit,i=n.multilineTagIndentFactor||1,s=n.multilineTagIndentPastTag;s==null&&(s=!0);var o=n.htmlMode?{autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,caseFold:!1},u=n.alignCDATA,a,f;return{startState:function(){return{tokenize:l,state:y,indented:0,tagName:null,tagStart:null,context:null}},token:function(e,t){!t.tagName&&e.sol()&&(t.indented=e.indentation());if(e.eatSpace())return null;a=null;var n=t.tokenize(e,t);return(n||a)&&n!="comment"&&(f=null,t.state=t.state(a||n,e,t),f&&(n=f=="error"?n+" error":f)),n},indent:function(t,n,a){var f=t.context;if(t.tokenize.isInAttribute)return t.tagStart==t.indented?t.stringStartCol+1:t.indented+r;if(f&&f.noIndent)return e.Pass;if(t.tokenize!=c&&t.tokenize!=l)return a?a.match(/^(\s*)/)[0].length:0;if(t.tagName)return s?t.tagStart+t.tagName.length+2:t.tagStart+r*i;if(u&&/<!\[CDATA\[/.test(n))return 0;var h=n&&/^<(\/)?([\w_:\.-]*)/.exec(n);if(h&&h[1])while(f){if(f.tagName==h[2]){f=f.prev;break}if(!o.implicitlyClosed.hasOwnProperty(f.tagName))break;f=f.prev}else if(h)while(f){var p=o.contextGrabbers[f.tagName];if(!p||!p.hasOwnProperty(h[2]))break;f=f.prev}while(f&&!f.startOfLine)f=f.prev;return f?f.indent+r:0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:n.htmlMode?"html":"xml",helperType:n.htmlMode?"html":"xml"}}),e.defineMIME("text/xml","xml"),e.defineMIME("application/xml","xml"),e.mimeModes.hasOwnProperty("text/html")||e.defineMIME("text/html",{name:"xml",htmlMode:!0})}),function(e){typeof exports=="object"&&typeof module=="object"?e(require("../lib/codemirror")):typeof define=="function"&&define.amd?define("editorlib/codemirror/mode/meta",["codemirror"],e):e(CodeMirror)}(function(e){e.modeInfo=[{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history).md$/i},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm"],alias:["xhtml"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Objective C",mime:"text/x-objectivec",mode:"clike",ext:["m","mm"]},{name:"PHP",mime:"application/x-httpd-php",mode:"php",ext:["php","php3","php4","php5","phtml"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["py","pyw"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mime:"text/x-sh",mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd"],alias:["rss","wsdl","xsd"]}];for(var t=0;t<e.modeInfo.length;t++){var n=e.modeInfo[t];n.mimes&&(n.mime=n.mimes[0])}e.findModeByMIME=function(t){t=t.toLowerCase();for(var n=0;n<e.modeInfo.length;n++){var r=e.modeInfo[n];if(r.mime==t)return r;if(r.mimes)for(var i=0;i<r.mimes.length;i++)if(r.mimes[i]==t)return r}},e.findModeByExtension=function(t){for(var n=0;n<e.modeInfo.length;n++){var r=e.modeInfo[n];if(r.ext)for(var i=0;i<r.ext.length;i++)if(r.ext[i]==t)return r}},e.findModeByFileName=function(t){for(var n=0;n<e.modeInfo.length;n++){var r=e.modeInfo[n];if(r.file&&r.file.test(t))return r}var i=t.lastIndexOf("."),s=i>-1&&t.substring(i+1,t.length);if(s)return e.findModeByExtension(s)},e.findModeByName=function(t){t=t.toLowerCase();for(var n=0;n<e.modeInfo.length;n++){var r=e.modeInfo[n];if(r.name.toLowerCase()==t)return r;if(r.alias)for(var i=0;i<r.alias.length;i++)if(r.alias[i].toLowerCase()==t)return r}}}),function(e){typeof exports=="object"&&typeof module=="object"?e(require("../../lib/codemirror"),require("../xml/xml"),require("../meta")):typeof define=="function"&&define.amd?define("editorlib/codemirror/mode/markdown/markdown",["codemirror","editorlib/codemirror/mode/xml/xml","editorlib/codemirror/mode/meta"],e):e(CodeMirror)}(function(e){e.defineMode("markdown",function(t,n){function s(n){if(e.findModeByName){var r=e.findModeByName(n);r&&(n=r.mime||r.mimes[0])}var i=e.getMode(t,n);return i.name=="null"?null:i}function O(e,t,n){return t.f=t.inline=n,n(e,t)}function M(e,t,n){return t.f=t.block=n,n(e,t)}function _(e){return e.linkTitle=!1,e.em=!1,e.strong=!1,e.strikethrough=!1,e.quote=0,!r&&e.f==P&&(e.f=I,e.block=D),e.trailingSpace=0,e.trailingSpaceNewLine=!1,e.thisLineHasContent=!1,null}function D(e,t){var r=e.sol(),i=t.list!==!1;t.list!==!1&&t.indentationDiff>=0?(t.indentationDiff<4&&(t.indentation-=t.indentationDiff),t.list=null):t.list!==!1&&t.indentation>0?(t.list=null,t.listDepth=Math.floor(t.indentation/4)):t.list!==!1&&(t.list=!1,t.listDepth=0);var o=null;if(t.indentationDiff>=4)return t.indentation-=4,e.skipToEnd(),a;if(e.eatSpace())return null;if(o=e.match(k))return t.header=o[0].length<=6?o[0].length:6,n.highlightFormatting&&(t.formatting="header"),t.f=t.inline,j(t);if(t.prevLineHasContent&&(o=e.match(L)))return t.header=o[0].charAt(0)=="="?1:2,n.highlightFormatting&&(t.formatting="header"),t.f=t.inline,j(t);if(e.eat(">"))return t.indentation++,t.quote=r?1:t.quote+1,n.highlightFormatting&&(t.formatting="quote"),e.eatSpace(),j(t);if(e.peek()==="[")return O(e,t,z);if(e.match(x,!0))return p;if((!t.prevLineHasContent||i)&&(e.match(T,!1)||e.match(N,!1))){var u=null;return e.match(T,!0)?u="ul":(e.match(N,!0),u="ol"),t.indentation+=4,t.list=!0,t.listDepth++,n.taskLists&&e.match(C,!1)&&(t.taskList=!0),t.f=t.inline,n.highlightFormatting&&(t.formatting=["list","list-"+u]),j(t)}return n.fencedCodeBlocks&&e.match(/^```[ \t]*([\w+#]*)/,!0)?(t.localMode=s(RegExp.$1),t.localMode&&(t.localState=t.localMode.startState()),t.f=t.block=H,n.highlightFormatting&&(t.formatting="code-block"),t.code=!0,j(t)):O(e,t,t.inline)}function P(e,t){var n=i.token(e,t.htmlState);if(r&&t.htmlState.tagStart===null&&!t.htmlState.context||t.md_inside&&e.current().indexOf(">")>-1)t.f=I,t.block=D,t.htmlState=null;return n}function H(e,t){return e.sol()&&e.match("```",!1)?(t.localMode=t.localState=null,t.f=t.block=B,null):t.localMode?t.localMode.token(e,t.localState):(e.skipToEnd(),a)}function B(e,t){e.match("```"),t.block=D,t.f=I,n.highlightFormatting&&(t.formatting="code-block"),t.code=!0;var r=j(t);return t.code=!1,r}function j(e){var t=[];if(e.formatting){t.push(v),typeof e.formatting=="string"&&(e.formatting=[e.formatting]);for(var r=0;r<e.formatting.length;r++)t.push(v+"-"+e.formatting[r]),e.formatting[r]==="header"&&t.push(v+"-"+e.formatting[r]+"-"+e.header),e.formatting[r]==="quote"&&(!n.maxBlockquoteDepth||n.maxBlockquoteDepth>=e.quote?t.push(v+"-"+e.formatting[r]+"-"+e.quote):t.push("error"))}if(e.taskOpen)return t.push("meta"),t.length?t.join(" "):null;if(e.taskClosed)return t.push("property"),t.length?t.join(" "):null;if(e.linkHref)return t.push(b),t.length?t.join(" "):null;e.strong&&t.push(E),e.em&&t.push(w),e.strikethrough&&t.push(S),e.linkText&&t.push(y),e.code&&t.push(a),e.header&&(t.push(u),t.push(u+"-"+e.header)),e.quote&&(t.push(f),!n.maxBlockquoteDepth||n.maxBlockquoteDepth>=e.quote?t.push(f+"-"+e.quote):t.push(f+"-"+n.maxBlockquoteDepth));if(e.list!==!1){var i=(e.listDepth-1)%3;i?i===1?t.push(c):t.push(h):t.push(l)}return e.trailingSpaceNewLine?t.push("trailing-space-new-line"):e.trailingSpace&&t.push("trailing-space-"+(e.trailingSpace%2?"a":"b")),t.length?t.join(" "):null}function F(e,t){return e.match(A,!0)?j(t):undefined}function I(t,r){var s=r.text(t,r);if(typeof s!="undefined")return s;if(r.list)return r.list=null,j(r);if(r.taskList){var u=t.match(C,!0)[1]!=="x";return u?r.taskOpen=!0:r.taskClosed=!0,n.highlightFormatting&&(r.formatting="task"),r.taskList=!1,j(r)}r.taskOpen=!1,r.taskClosed=!1;if(r.header&&t.match(/^#+$/,!0))return n.highlightFormatting&&(r.formatting="header"),j(r);var a=t.sol(),f=t.next();if(f==="\\"){t.next();if(n.highlightFormatting){var l=j(r);return l?l+" formatting-escape":"formatting-escape"}}if(r.linkTitle){r.linkTitle=!1;var c=f;f==="("&&(c=")"),c=(c+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");var h="^\\s*(?:[^"+c+"\\\\]+|\\\\\\\\|\\\\.)"+c;if(t.match(new RegExp(h),!0))return b}if(f==="`"){var p=r.formatting;n.highlightFormatting&&(r.formatting="code");var v=j(r),y=t.pos;t.eatWhile("`");var w=1+t.pos-y;return r.code?w===o?(r.code=!1,v):(r.formatting=p,j(r)):(o=w,r.code=!0,j(r))}if(r.code)return j(r);if(f==="!"&&t.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return t.match(/\[[^\]]*\]/),r.inline=r.f=R,d;if(f==="["&&t.match(/.*\](\(.*\)| ?\[.*\])/,!1))return r.linkText=!0,n.highlightFormatting&&(r.formatting="link"),j(r);if(f==="]"&&r.linkText&&t.match(/\(.*\)| ?\[.*\]/,!1)){n.highlightFormatting&&(r.formatting="link");var l=j(r);return r.linkText=!1,r.inline=r.f=R,l}if(f==="<"&&t.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){r.f=r.inline=q,n.highlightFormatting&&(r.formatting="link");var l=j(r);return l?l+=" ":l="",l+m}if(f==="<"&&t.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){r.f=r.inline=q,n.highlightFormatting&&(r.formatting="link");var l=j(r);return l?l+=" ":l="",l+g}if(f==="<"&&t.match(/^\w/,!1)){if(t.string.indexOf(">")!=-1){var E=t.string.substring(1,t.string.indexOf(">"));/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(E)&&(r.md_inside=!0)}return t.backUp(1),r.htmlState=e.startState(i),M(t,r,P)}if(f==="<"&&t.match(/^\/\w*?>/))return r.md_inside=!1,"tag";var S=!1;if(!n.underscoresBreakWords&&f==="_"&&t.peek()!=="_"&&t.match(/(\w)/,!1)){var x=t.pos-2;if(x>=0){var T=t.string.charAt(x);T!=="_"&&T.match(/(\w)/,!1)&&(S=!0)}}if(f==="*"||f==="_"&&!S){if(!a||t.peek()!==" "){if(r.strong===f&&t.eat(f)){n.highlightFormatting&&(r.formatting="strong");var v=j(r);return r.strong=!1,v}if(!r.strong&&t.eat(f))return r.strong=f,n.highlightFormatting&&(r.formatting="strong"),j(r);if(r.em===f){n.highlightFormatting&&(r.formatting="em");var v=j(r);return r.em=!1,v}if(!r.em)return r.em=f,n.highlightFormatting&&(r.formatting="em"),j(r)}}else if(f===" ")if(t.eat("*")||t.eat("_")){if(t.peek()===" ")return j(r);t.backUp(1)}if(n.strikethrough)if(f==="~"&&t.eatWhile(f)){if(r.strikethrough){n.highlightFormatting&&(r.formatting="strikethrough");var v=j(r);return r.strikethrough=!1,v}if(t.match(/^[^\s]/,!1))return r.strikethrough=!0,n.highlightFormatting&&(r.formatting="strikethrough"),j(r)}else if(f===" "&&t.match(/^~~/,!0)){if(t.peek()===" ")return j(r);t.backUp(2)}return f===" "&&(t.match(/ +$/,!1)?r.trailingSpace++:r.trailingSpace&&(r.trailingSpaceNewLine=!0)),j(r)}function q(e,t){var r=e.next();if(r===">"){t.f=t.inline=I,n.highlightFormatting&&(t.formatting="link");var i=j(t);return i?i+=" ":i="",i+m}return e.match(/^[^>]+/,!0),m}function R(e,t){if(e.eatSpace())return null;var r=e.next();return r==="("||r==="["?(t.f=t.inline=U(r==="("?")":"]"),n.highlightFormatting&&(t.formatting="link-string"),t.linkHref=!0,j(t)):"error"}function U(e){return function(t,r){var i=t.next();if(i===e){r.f=r.inline=I,n.highlightFormatting&&(r.formatting="link-string");var s=j(r);return r.linkHref=!1,s}return t.match($(e),!0)&&t.backUp(1),r.linkHref=!0,j(r)}}function z(e,t){return e.match(/^[^\]]*\]:/,!1)?(t.f=W,e.next(),n.highlightFormatting&&(t.formatting="link"),t.linkText=!0,j(t)):O(e,t,I)}function W(e,t){if(e.match(/^\]:/,!0)){t.f=t.inline=X,n.highlightFormatting&&(t.formatting="link");var r=j(t);return t.linkText=!1,r}return e.match(/^[^\]]+/,!0),y}function X(e,t){return e.eatSpace()?null:(e.match(/^[^\s]+/,!0),e.peek()===undefined?t.linkTitle=!0:e.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0),t.f=t.inline=I,b)}function $(e){return V[e]||(e=(e+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),V[e]=new RegExp("^(?:[^\\\\]|\\\\.)*?("+e+")")),V[e]}var r=e.modes.hasOwnProperty("xml"),i=e.getMode(t,r?{name:"xml",htmlMode:!0}:"text/plain");n.highlightFormatting===undefined&&(n.highlightFormatting=!1),n.maxBlockquoteDepth===undefined&&(n.maxBlockquoteDepth=0),n.underscoresBreakWords===undefined&&(n.underscoresBreakWords=!0),n.fencedCodeBlocks===undefined&&(n.fencedCodeBlocks=!1),n.taskLists===undefined&&(n.taskLists=!1),n.strikethrough===undefined&&(n.strikethrough=!1);var o=0,u="header",a="comment",f="quote",l="variable-2",c="variable-3",h="keyword",p="hr",d="tag",v="formatting",m="link",g="link",y="link",b="string",w="em",E="strong",S="strikethrough",x=/^([*\-=_])(?:\s*\1){2,}\s*$/,T=/^[*\-+]\s+/,N=/^[0-9]+\.\s+/,C=/^\[(x| )\](?=\s)/,k=/^#+/,L=/^(?:\={1,}|-{1,})$/,A=/^[^#!\[\]*_\\<>` "'(~]+/,V=[],J={startState:function(){return{f:D,prevLineHasContent:!1,thisLineHasContent:!1,block:D,htmlState:null,indentation:0,inline:I,text:F,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,em:!1,strong:!1,header:0,taskList:!1,list:!1,listDepth:0,quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1}},copyState:function(t){return{f:t.f,prevLineHasContent:t.prevLineHasContent,thisLineHasContent:t.thisLineHasContent,block:t.block,htmlState:t.htmlState&&e.copyState(i,t.htmlState),indentation:t.indentation,localMode:t.localMode,localState:t.localMode?e.copyState(t.localMode,t.localState):null,inline:t.inline,text:t.text,formatting:!1,linkTitle:t.linkTitle,em:t.em,strong:t.strong,strikethrough:t.strikethrough,header:t.header,taskList:t.taskList,list:t.list,listDepth:t.listDepth,quote:t.quote,trailingSpace:t.trailingSpace,trailingSpaceNewLine:t.trailingSpaceNewLine,md_inside:t.md_inside}},token:function(e,t){t.formatting=!1;if(e.sol()){var n=!!t.header;t.header=0;if(e.match(/^\s*$/,!0)||n)return t.prevLineHasContent=!1,_(t),n?this.token(e,t):null;t.prevLineHasContent=t.thisLineHasContent,t.thisLineHasContent=!0,t.taskList=!1,t.code=!1,t.trailingSpace=0,t.trailingSpaceNewLine=!1,t.f=t.block;var r=e.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length,i=Math.floor((r-t.indentation)/4)*4;i>4&&(i=4);var s=t.indentation+i;t.indentationDiff=s-t.indentation,t.indentation=s;if(r>0)return null}return t.f(e,t)},innerMode:function(e){return e.block==P?{state:e.htmlState,mode:i}:e.localState?{state:e.localState,mode:e.localMode}:{state:e,mode:J}},blankLine:_,getType:j,fold:"markdown"};return J},"xml"),e.defineMIME("text/x-markdown","markdown")}),function(e){typeof exports=="object"&&typeof module=="object"?e(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define("editorlib/codemirror/addon/mode/overlay",["codemirror"],e):e(CodeMirror)}(function(e){e.overlayMode=function(t,n,r){return{startState:function(){return{base:e.startState(t),overlay:e.startState(n),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(r){return{base:e.copyState(t,r.base),overlay:e.copyState(n,r.overlay),basePos:r.basePos,baseCur:null,overlayPos:r.overlayPos,overlayCur:null}},token:function(e,i){if(e!=i.streamSeen||Math.min(i.basePos,i.overlayPos)<e.start)i.streamSeen=e,i.basePos=i.overlayPos=e.start;return e.start==i.basePos&&(i.baseCur=t.token(e,i.base),i.basePos=e.pos),e.start==i.overlayPos&&(e.pos=e.start,i.overlayCur=n.token(e,i.overlay),i.overlayPos=e.pos),e.pos=Math.min(i.basePos,i.overlayPos),i.overlayCur==null?i.baseCur:i.baseCur!=null&&i.overlay.combineTokens||r&&i.overlay.combineTokens==null?i.baseCur+" "+i.overlayCur:i.overlayCur},indent:t.indent&&function(e,n){return t.indent(e.base,n)},electricChars:t.electricChars,innerMode:function(e){return{state:e.base,mode:t}},blankLine:function(e){t.blankLine&&t.blankLine(e.base),n.blankLine&&n.blankLine(e.overlay)}}}}),function(e){typeof exports=="object"&&typeof module=="object"?e(require("../../lib/codemirror"),require("../markdown/markdown"),require("../../addon/mode/overlay")):typeof define=="function"&&define.amd?define("editorlib/codemirror/mode/gfm/gfm",["codemirror","editorlib/codemirror/mode/markdown/markdown","editorlib/codemirror/addon/mode/overlay"],e):e(CodeMirror)}(function(e){e.defineMode("gfm",function(t,n){function i(e){return e.code=!1,null}var r=0,s={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(e){return{code:e.code,codeBlock:e.codeBlock,ateSpace:e.ateSpace}},token:function(e,t){t.combineTokens=null;if(t.codeBlock)return e.match(/^```/)?(t.codeBlock=!1,null):(e.skipToEnd(),null);e.sol()&&(t.code=!1);if(e.sol()&&e.match(/^```/))return e.skipToEnd(),t.codeBlock=!0,null;if(e.peek()==="`"){e.next();var n=e.pos;e.eatWhile("`");var i=1+e.pos-n;return t.code?i===r&&(t.code=!1):(r=i,t.code=!0),null}if(t.code)return e.next(),null;if(e.eatSpace())return t.ateSpace=!0,null;if(e.sol()||t.ateSpace){t.ateSpace=!1;if(e.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?:[a-f0-9]{7,40}\b)/))return t.combineTokens=!0,"link";if(e.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))return t.combineTokens=!0,"link"}return e.match(/^((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?«»“”‘’]))/i)&&e.string.slice(e.start-2,e.start)!="]("?(t.combineTokens=!0,"link"):(e.next(),null)},blankLine:i},o={underscoresBreakWords:!1,taskLists:!0,fencedCodeBlocks:!0,strikethrough:!0};for(var u in n)o[u]=n[u];return o.name="markdown",e.defineMIME("gfmBase",o),e.overlayMode(e.getMode(t,"gfmBase"),s)},"markdown")}),function(e){typeof exports=="object"&&typeof module=="object"?e(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define("editorlib/codemirror/mode/javascript/javascript",["codemirror"],e):e(CodeMirror)}(function(e){e.defineMode("javascript",function(t,n){function h(e){var t=!1,n,r=!1;while((n=e.next())!=null){if(!t){if(n=="/"&&!r)return;n=="["?r=!0:r&&n=="]"&&(r=!1)}t=!t&&n=="\\"}}function v(e,t,n){return p=e,d=n,t}function m(e,t){var n=e.next();if(n=='"'||n=="'")return t.tokenize=g(n),t.tokenize(e,t);if(n=="."&&e.match(/^\d+(?:[eE][+\-]?\d+)?/))return v("number","number");if(n=="."&&e.match(".."))return v("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(n))return v(n);if(n=="="&&e.eat(">"))return v("=>","operator");if(n=="0"&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),v("number","number");if(/\d/.test(n))return e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),v("number","number");if(n=="/")return e.eat("*")?(t.tokenize=y,y(e,t)):e.eat("/")?(e.skipToEnd(),v("comment","comment")):t.lastType=="operator"||t.lastType=="keyword c"||t.lastType=="sof"||/^[\[{}\(,;:]$/.test(t.lastType)?(h(e),e.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/),v("regexp","string-2")):(e.eatWhile(l),v("operator","operator",e.current()));if(n=="`")return t.tokenize=b,b(e,t);if(n=="#")return e.skipToEnd(),v("error","error");if(l.test(n))return e.eatWhile(l),v("operator","operator",e.current());if(a.test(n)){e.eatWhile(a);var r=e.current(),i=f.propertyIsEnumerable(r)&&f[r];return i&&t.lastType!="."?v(i.type,i.style,r):v("variable","variable",r)}}function g(e){return function(t,n){var r=!1,i;if(s&&t.peek()=="@"&&t.match(c))return n.tokenize=m,v("jsonld-keyword","meta");while((i=t.next())!=null){if(i==e&&!r)break;r=!r&&i=="\\"}return r||(n.tokenize=m),v("string","string")}}function y(e,t){var n=!1,r;while(r=e.next()){if(r=="/"&&n){t.tokenize=m;break}n=r=="*"}return v("comment","comment")}function b(e,t){var n=!1,r;while((r=e.next())!=null){if(!n&&(r=="`"||r=="$"&&e.eat("{"))){t.tokenize=m;break}n=!n&&r=="\\"}return v("quasi","string-2",e.current())}function E(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var n=e.string.indexOf("=>",e.start);if(n<0)return;var r=0,i=!1;for(var s=n-1;s>=0;--s){var o=e.string.charAt(s),u=w.indexOf(o);if(u>=0&&u<3){if(!r){++s;break}if(--r==0)break}else if(u>=3&&u<6)++r;else if(a.test(o))i=!0;else{if(/["'\/]/.test(o))return;if(i&&!r){++s;break}}}i&&!r&&(t.fatArrowAt=s)}function x(e,t,n,r,i,s){this.indented=e,this.column=t,this.type=n,this.prev=i,this.info=s,r!=null&&(this.align=r)}function T(e,t){for(var n=e.localVars;n;n=n.next)if(n.name==t)return!0;for(var r=e.context;r;r=r.prev)for(var n=r.vars;n;n=n.next)if(n.name==t)return!0}function N(e,t,n,r,i){var s=e.cc;C.state=e,C.stream=i,C.marked=null,C.cc=s,C.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);for(;;){var u=s.length?s.pop():o?j:B;if(u(n,r)){while(s.length&&s[s.length-1].lex)s.pop()();return C.marked?C.marked:n=="variable"&&T(e,r)?"variable-2":t}}}function k(){for(var e=arguments.length-1;e>=0;e--)C.cc.push(arguments[e])}function L(){return k.apply(null,arguments),!0}function A(e){function t(t){for(var n=t;n;n=n.next)if(n.name==e)return!0;return!1}var r=C.state;if(r.context){C.marked="def";if(t(r.localVars))return;r.localVars={name:e,next:r.localVars}}else{if(t(r.globalVars))return;n.globalVars&&(r.globalVars={name:e,next:r.globalVars})}}function M(){C.state.context={prev:C.state.context,vars:C.state.localVars},C.state.localVars=O}function _(){C.state.localVars=C.state.context.vars,C.state.context=C.state.context.prev}function D(e,t){var n=function(){var n=C.state,r=n.indented;if(n.lexical.type=="stat")r=n.lexical.indented;else for(var i=n.lexical;i&&i.type==")"&&i.align;i=i.prev)r=i.indented;n.lexical=new x(r,C.stream.column(),e,null,n.lexical,t)};return n.lex=!0,n}function P(){var e=C.state;e.lexical.prev&&(e.lexical.type==")"&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function H(e){function t(n){return n==e?L():e==";"?k():L(t)}return t}function B(e,t){return e=="var"?L(D("vardef",t.length),it,H(";"),P):e=="keyword a"?L(D("form"),j,B,P):e=="keyword b"?L(D("form"),B,P):e=="{"?L(D("}"),tt,P):e==";"?L():e=="if"?(C.state.lexical.info=="else"&&C.state.cc[C.state.cc.length-1]==P&&C.state.cc.pop()(),L(D("form"),j,B,P,ft)):e=="function"?L(vt):e=="for"?L(D("form"),lt,B,P):e=="variable"?L(D("stat"),J):e=="switch"?L(D("form"),j,D("}","switch"),H("{"),tt,P,P):e=="case"?L(j,H(":")):e=="default"?L(H(":")):e=="catch"?L(D("form"),M,H("("),mt,H(")"),B,P,_):e=="module"?L(D("form"),M,Et,_,P):e=="class"?L(D("form"),gt,P):e=="export"?L(D("form"),St,P):e=="import"?L(D("form"),xt,P):k(D("stat"),j,H(";"),P)}function j(e){return I(e,!1)}function F(e){return I(e,!0)}function I(e,t){if(C.state.fatArrowAt==C.stream.start){var n=t?$:V;if(e=="(")return L(M,D(")"),Z(st,")"),P,H("=>"),n,_);if(e=="variable")return k(M,st,H("=>"),n,_)}var r=t?z:U;return S.hasOwnProperty(e)?L(r):e=="function"?L(vt,r):e=="keyword c"?L(t?R:q):e=="("?L(D(")"),q,Lt,H(")"),P,r):e=="operator"||e=="spread"?L(t?F:j):e=="["?L(D("]"),Ct,P,r):e=="{"?et(Q,"}",null,r):e=="quasi"?k(W,r):L()}function q(e){return e.match(/[;\}\)\],]/)?k():k(j)}function R(e){return e.match(/[;\}\)\],]/)?k():k(F)}function U(e,t){return e==","?L(j):z(e,t,!1)}function z(e,t,n){var r=n==0?U:z,i=n==0?j:F;if(e=="=>")return L(M,n?$:V,_);if(e=="operator")return/\+\+|--/.test(t)?L(r):t=="?"?L(j,H(":"),i):L(i);if(e=="quasi")return k(W,r);if(e==";")return;if(e=="(")return et(F,")","call",r);if(e==".")return L(K,r);if(e=="[")return L(D("]"),q,H("]"),P,r)}function W(e,t){return e!="quasi"?k():t.slice(t.length-2)!="${"?L(W):L(j,X)}function X(e){if(e=="}")return C.marked="string-2",C.state.tokenize=b,L(W)}function V(e){return E(C.stream,C.state),k(e=="{"?B:j)}function $(e){return E(C.stream,C.state),k(e=="{"?B:F)}function J(e){return e==":"?L(P,B):k(U,H(";"),P)}function K(e){if(e=="variable")return C.marked="property",L()}function Q(e,t){if(e=="variable"||C.style=="keyword")return C.marked="property",t=="get"||t=="set"?L(G):L(Y);if(e=="number"||e=="string")return C.marked=s?"property":C.style+" property",L(Y);if(e=="jsonld-keyword")return L(Y);if(e=="[")return L(j,H("]"),Y)}function G(e){return e!="variable"?k(Y):(C.marked="property",L(vt))}function Y(e){if(e==":")return L(F);if(e=="(")return k(vt)}function Z(e,t){function n(r){if(r==","){var i=C.state.lexical;return i.info=="call"&&(i.pos=(i.pos||0)+1),L(e,n)}return r==t?L():L(H(t))}return function(r){return r==t?L():k(e,n)}}function et(e,t,n){for(var r=3;r<arguments.length;r++)C.cc.push(arguments[r]);return L(D(t,n),Z(e,t),P)}function tt(e){return e=="}"?L():k(B,tt)}function nt(e){if(u&&e==":")return L(rt)}function rt(e){if(e=="variable")return C.marked="variable-3",L()}function it(){return k(st,nt,ut,at)}function st(e,t){if(e=="variable")return A(t),L();if(e=="[")return et(st,"]");if(e=="{")return et(ot,"}")}function ot(e,t){return e=="variable"&&!C.stream.match(/^\s*:/,!1)?(A(t),L(ut)):(e=="variable"&&(C.marked="property"),L(H(":"),st,ut))}function ut(e,t){if(t=="=")return L(F)}function at(e){if(e==",")return L(it)}function ft(e,t){if(e=="keyword b"&&t=="else")return L(D("form","else"),B,P)}function lt(e){if(e=="(")return L(D(")"),ct,H(")"),P)}function ct(e){return e=="var"?L(it,H(";"),pt):e==";"?L(pt):e=="variable"?L(ht):k(j,H(";"),pt)}function ht(e,t){return t=="in"||t=="of"?(C.marked="keyword",L(j)):L(U,pt)}function pt(e,t){return e==";"?L(dt):t=="in"||t=="of"?(C.marked="keyword",L(j)):k(j,H(";"),dt)}function dt(e){e!=")"&&L(j)}function vt(e,t){if(t=="*")return C.marked="keyword",L(vt);if(e=="variable")return A(t),L(vt);if(e=="(")return L(M,D(")"),Z(mt,")"),P,B,_)}function mt(e){return e=="spread"?L(mt):k(st,nt)}function gt(e,t){if(e=="variable")return A(t),L(yt)}function yt(e,t){if(t=="extends")return L(j,yt);if(e=="{")return L(D("}"),bt,P)}function bt(e,t){if(e=="variable"||C.style=="keyword")return C.marked="property",t=="get"||t=="set"?L(wt,vt,bt):L(vt,bt);if(t=="*")return C.marked="keyword",L(bt);if(e==";")return L(bt);if(e=="}")return L()}function wt(e){return e!="variable"?k():(C.marked="property",L())}function Et(e,t){if(e=="string")return L(B);if(e=="variable")return A(t),L(Nt)}function St(e,t){return t=="*"?(C.marked="keyword",L(Nt,H(";"))):t=="default"?(C.marked="keyword",L(j,H(";"))):k(B)}function xt(e){return e=="string"?L():k(Tt,Nt)}function Tt(e,t){return e=="{"?et(Tt,"}"):(e=="variable"&&A(t),L())}function Nt(e,t){if(t=="from")return C.marked="keyword",L(j)}function Ct(e){return e=="]"?L():k(F,kt)}function kt(e){return e=="for"?k(Lt,H("]")):e==","?L(Z(R,"]")):k(Z(F,"]"))}function Lt(e){if(e=="for")return L(lt,Lt);if(e=="if")return L(j,Lt)}function At(e,t){return e.lastType=="operator"||e.lastType==","||l.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}var r=t.indentUnit,i=n.statementIndent,s=n.jsonld,o=n.json||s,u=n.typescript,a=n.wordCharacters||/[\w$\xa1-\uffff]/,f=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),r=e("keyword c"),i=e("operator"),s={type:"atom",style:"atom"},o={"if":e("if"),"while":t,"with":t,"else":n,"do":n,"try":n,"finally":n,"return":r,"break":r,"continue":r,"new":r,"delete":r,"throw":r,"debugger":r,"var":e("var"),"const":e("var"),let:e("var"),"function":e("function"),"catch":e("catch"),"for":e("for"),"switch":e("switch"),"case":e("case"),"default":e("default"),"in":i,"typeof":i,"instanceof":i,"true":s,"false":s,"null":s,"undefined":s,NaN:s,Infinity:s,"this":e("this"),module:e("module"),"class":e("class"),"super":e("atom"),yield:r,"export":e("export"),"import":e("import"),"extends":r};if(u){var a={type:"variable",style:"variable-3"},f={"interface":e("interface"),"extends":e("extends"),constructor:e("constructor"),"public":e("public"),"private":e("private"),"protected":e("protected"),"static":e("static"),string:a,number:a,bool:a,any:a};for(var l in f)o[l]=f[l]}return o}(),l=/[+\-*&%=<>!?|~^]/,c=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,p,d,w="([{}])",S={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0,"jsonld-keyword":!0},C={state:null,column:null,marked:null,cc:null},O={name:"this",next:{name:"arguments"}};return P.lex=!0,{startState:function(e){var t={tokenize:m,lastType:"sof",cc:[],lexical:new x((e||0)-r,0,"block",!1),localVars:n.localVars,context:n.localVars&&{vars:n.localVars},indented:0};return n.globalVars&&typeof n.globalVars=="object"&&(t.globalVars=n.globalVars),t},token:function(e,t){e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),E(e,t));if(t.tokenize!=y&&e.eatSpace())return null;var n=t.tokenize(e,t);return p=="comment"?n:(t.lastType=p!="operator"||d!="++"&&d!="--"?p:"incdec",N(t,n,p,d,e))},indent:function(t,s){if(t.tokenize==y)return e.Pass;if(t.tokenize!=m)return 0;var o=s&&s.charAt(0),u=t.lexical;if(!/^\s*else\b/.test(s))for(var a=t.cc.length-1;a>=0;--a){var f=t.cc[a];if(f==P)u=u.prev;else if(f!=ft)break}u.type=="stat"&&o=="}"&&(u=u.prev),i&&u.type==")"&&u.prev.type=="stat"&&(u=u.prev);var l=u.type,c=o==l;return l=="vardef"?u.indented+(t.lastType=="operator"||t.lastType==","?u.info+1:0):l=="form"&&o=="{"?u.indented:l=="form"?u.indented+r:l=="stat"?u.indented+(At(t,s)?i||r:0):u.info=="switch"&&!c&&n.doubleIndentSwitch!=0?u.indented+(/^(?:case|default)\b/.test(s)?r:2*r):u.align?u.column+(c?0:1):u.indented+(c?0:r)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:o?null:"/*",blockCommentEnd:o?null:"*/",lineComment:o?null:"//",fold:"brace",helperType:o?"json":"javascript",jsonldMode:s,jsonMode:o}}),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})}),function(e){typeof exports=="object"&&typeof module=="object"?e(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define("editorlib/codemirror/mode/css/css",["codemirror"],e):e(CodeMirror)}(function(e){function t(e){var t={};for(var n=0;n<e.length;++n)t[e[n]]=!0;return t}function E(e,t){var n=!1,r;while((r=e.next())!=null){if(n&&r=="/"){t.tokenize=null;break}n=r=="*"}return["comment","comment"]}function S(e,t){return e.skipTo("-->")?(e.match("-->"),t.tokenize=null):e.skipToEnd(),["comment","comment"]}e.defineMode("css",function(t,n){function g(e,t){return v=t,e}function y(e,t){var n=e.next();if(i[n]){var r=i[n](e,t);if(r!==!1)return r}if(n=="@")return e.eatWhile(/[\w\\\-]/),g("def",e.current());if(n=="="||(n=="~"||n=="|")&&e.eat("="))return g(null,"compare");if(n=='"'||n=="'")return t.tokenize=b(n),t.tokenize(e,t);if(n=="#")return e.eatWhile(/[\w\\\-]/),g("atom","hash");if(n=="!")return e.match(/^\s*\w*/),g("keyword","important");if(/\d/.test(n)||n=="."&&e.eat(/\d/))return e.eatWhile(/[\w.%]/),g("number","unit");if(n!=="-")return/[,+>*\/]/.test(n)?g(null,"select-op"):n=="."&&e.match(/^-?[_a-z][_a-z0-9-]*/i)?g("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(n)?g(null,n):n=="u"&&e.match(/rl(-prefix)?\(/)||n=="d"&&e.match("omain(")||n=="r"&&e.match("egexp(")?(e.backUp(1),t.tokenize=w,g("property","word")):/[\w\\\-]/.test(n)?(e.eatWhile(/[\w\\\-]/),g("property","word")):g(null,null);if(/[\d.]/.test(e.peek()))return e.eatWhile(/[\w.%]/),g("number","unit");if(e.match(/^-[\w\\\-]+/))return e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?g("variable-2","variable-definition"):g("variable-2","variable");if(e.match(/^\w+-/))return g("meta","meta")}function b(e){return function(t,n){var r=!1,i;while((i=t.next())!=null){if(i==e&&!r){e==")"&&t.backUp(1);break}r=!r&&i=="\\"}if(i==e||!r&&e!=")")n.tokenize=null;return g("string","string")}}function w(e,t){return e.next(),e.match(/\s*[\"\')]/,!1)?t.tokenize=null:t.tokenize=b(")"),g(null,"(")}function E(e,t,n){this.type=e,this.indent=t,this.prev=n}function S(e,t,n){return e.context=new E(n,t.indentation()+r,e.context),n}function x(e){return e.context=e.context.prev,e.context.type}function T(e,t,n){return k[n.context.type](e,t,n)}function N(e,t,n,r){for(var i=r||1;i>0;i--)n.context=n.context.prev;return T(e,t,n)}function C(e){var t=e.current().toLowerCase();p.hasOwnProperty(t)?m="atom":h.hasOwnProperty(t)?m="keyword":m="variable"}n.propertyKeywords||(n=e.resolveMode("text/css"));var r=t.indentUnit,i=n.tokenHooks,s=n.documentTypes||{},o=n.mediaTypes||{},u=n.mediaFeatures||{},a=n.propertyKeywords||{},f=n.nonStandardPropertyKeywords||{},l=n.fontProperties||{},c=n.counterDescriptors||{},h=n.colorKeywords||{},p=n.valueKeywords||{},d=n.allowNested,v,m,k={};return k.top=function(e,t,n){if(e=="{")return S(n,t,"block");if(e=="}"&&n.context.prev)return x(n);if(/@(media|supports|(-moz-)?document)/.test(e))return S(n,t,"atBlock");if(/@(font-face|counter-style)/.test(e))return n.stateArg=e,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/.test(e))return"keyframes";if(e&&e.charAt(0)=="@")return S(n,t,"at");if(e=="hash")m="builtin";else if(e=="word")m="tag";else{if(e=="variable-definition")return"maybeprop";if(e=="interpolation")return S(n,t,"interpolation");if(e==":")return"pseudo";if(d&&e=="(")return S(n,t,"parens")}return n.context.type},k.block=function(e,t,n){if(e=="word"){var r=t.current().toLowerCase();return a.hasOwnProperty(r)?(m="property","maybeprop"):f.hasOwnProperty(r)?(m="string-2","maybeprop"):d?(m=t.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(m+=" error","maybeprop")}return e=="meta"?"block":!!d||e!="hash"&&e!="qualifier"?k.top(e,t,n):(m="error","block")},k.maybeprop=function(e,t,n){return e==":"?S(n,t,"prop"):T(e,t,n)},k.prop=function(e,t,n){if(e==";")return x(n);if(e=="{"&&d)return S(n,t,"propBlock");if(e=="}"||e=="{")return N(e,t,n);if(e=="(")return S(n,t,"parens");if(e=="hash"&&!/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(t.current()))m+=" error";else if(e=="word")C(t);else if(e=="interpolation")return S(n,t,"interpolation");return"prop"},k.propBlock=function(e,t,n){return e=="}"?x(n):e=="word"?(m="property","maybeprop"):n.context.type},k.parens=function(e,t,n){return e=="{"||e=="}"?N(e,t,n):e==")"?x(n):e=="("?S(n,t,"parens"):(e=="word"&&C(t),"parens")},k.pseudo=function(e,t,n){return e=="word"?(m="variable-3",n.context.type):T(e,t,n)},k.atBlock=function(e,t,n){if(e=="(")return S(n,t,"atBlock_parens");if(e=="}")return N(e,t,n);if(e=="{")return x(n)&&S(n,t,d?"block":"top");if(e=="word"){var r=t.current().toLowerCase();r=="only"||r=="not"||r=="and"||r=="or"?m="keyword":s.hasOwnProperty(r)?m="tag":o.hasOwnProperty(r)?m="attribute":u.hasOwnProperty(r)?m="property":a.hasOwnProperty(r)?m="property":f.hasOwnProperty(r)?m="string-2":p.hasOwnProperty(r)?m="atom":m="error"}return n.context.type},k.atBlock_parens=function(e,t,n){return e==")"?x(n):e=="{"||e=="}"?N(e,t,n,2):k.atBlock(e,t,n)},k.restricted_atBlock_before=function(e,t,n){return e=="{"?S(n,t,"restricted_atBlock"):e=="word"&&n.stateArg=="@counter-style"?(m="variable","restricted_atBlock_before"):T(e,t,n)},k.restricted_atBlock=function(e,t,n){return e=="}"?(n.stateArg=null,x(n)):e=="word"?(n.stateArg=="@font-face"&&!l.hasOwnProperty(t.current().toLowerCase())||n.stateArg=="@counter-style"&&!c.hasOwnProperty(t.current().toLowerCase())?m="error":m="property","maybeprop"):"restricted_atBlock"},k.keyframes=function(e,t,n){return e=="word"?(m="variable","keyframes"):e=="{"?S(n,t,"top"):T(e,t,n)},k.at=function(e,t,n){return e==";"?x(n):e=="{"||e=="}"?N(e,t,n):(e=="word"?m="tag":e=="hash"&&(m="builtin"),"at")},k.interpolation=function(e,t,n){return e=="}"?x(n):e=="{"||e==";"?N(e,t,n):(e!="variable"&&(m="error"),"interpolation")},{startState:function(e){return{tokenize:null,state:"top",stateArg:null,context:new E("top",e||0,null)}},token:function(e,t){if(!t.tokenize&&e.eatSpace())return null;var n=(t.tokenize||y)(e,t);return n&&typeof n=="object"&&(v=n[1],n=n[0]),m=n,t.state=k[t.state](v,e,t),m},indent:function(e,t){var n=e.context,i=t&&t.charAt(0),s=n.indent;return n.type=="prop"&&(i=="}"||i==")")&&(n=n.prev),n.prev&&(i=="}"&&(n.type=="block"||n.type=="top"||n.type=="interpolation"||n.type=="restricted_atBlock")||i==")"&&(n.type=="parens"||n.type=="atBlock_parens")||i=="{"&&(n.type=="at"||n.type=="atBlock"))&&(s=n.indent-r,n=n.prev),s},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",fold:"brace"}});var n=["domain","regexp","url","url-prefix"],r=t(n),i=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],s=t(i),o=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid"],u=t(o),a=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-position","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marker-offset","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],f=t(a),l=["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"],c=t(l),h=["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],p=t(h),d=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],v=t(d),m=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],g=t(m),y=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","column","compact","condensed","contain","content","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","dashed","decimal","decimal-leading-zero","default","default-button","destination-atop","destination-in","destination-out","destination-over","devanagari","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","flex","footnotes","forwards","from","geometricPrecision","georgian","graytext","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","malayalam","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row-resize","rtl","run-in","running","s-resize","sans-serif","scale","scale3d","scaleX","scaleY","scaleZ","scroll","scrollbar","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","semi-condensed","semi-expanded","separate","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","solid","somali","source-atop","source-in","source-out","source-over","space","spell-out","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","symbolic","symbols","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","x-large","x-small","xor","xx-large","xx-small"],b=t(y),w=n.concat(i).concat(o).concat(a).concat(l).concat(m).concat(y);e.registerHelper("hintWords","css",w),e.defineMIME("text/css",{documentTypes:r,mediaTypes:s,mediaFeatures:u,propertyKeywords:f,nonStandardPropertyKeywords:c,fontProperties:p,counterDescriptors:v,colorKeywords:g,valueKeywords:b,tokenHooks:{"<":function(e,t){return e.match("!--")?(t.tokenize=S,S(e,t)):!1},"/":function(e,t){return e.eat("*")?(t.tokenize=E,E(e,t)):!1}},name:"css"}),e.defineMIME("text/x-scss",{mediaTypes:s,mediaFeatures:u,propertyKeywords:f,nonStandardPropertyKeywords:c,colorKeywords:g,valueKeywords:b,fontProperties:p,allowNested:!0,tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=E,E(e,t)):["operator","operator"]},":":function(e){return e.match(/\s*\{/)?[null,"{"]:!1},$:function(e){return e.match(/^[\w-]+/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(e){return e.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"}),e.defineMIME("text/x-less",{mediaTypes:s,mediaFeatures:u,propertyKeywords:f,nonStandardPropertyKeywords:c,colorKeywords:g,valueKeywords:b,fontProperties:p,allowNested:!0,tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=E,E(e,t)):["operator","operator"]},"@":function(e){return e.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/,!1)?!1:(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"})}),function(e){typeof exports=="object"&&typeof module=="object"?e(require("../../lib/codemirror"),require("../xml/xml"),require("../javascript/javascript"),require("../css/css")):typeof define=="function"&&define.amd?define("editorlib/codemirror/mode/htmlmixed/htmlmixed",["codemirror","editorlib/codemirror/mode/xml/xml","editorlib/codemirror/mode/javascript/javascript","editorlib/codemirror/mode/css/css"],e):e(CodeMirror)}(function(e){e.defineMode("htmlmixed",function(t,n){function f(e,t){var n=t.htmlState.tagName;n&&(n=n.toLowerCase());var o=r.token(e,t.htmlState);if(n=="script"&&/\btag\b/.test(o)&&e.current()==">"){var u=e.string.slice(Math.max(0,e.pos-100),e.pos).match(/\btype\s*=\s*("[^"]+"|'[^']+'|\S+)[^<]*$/i);u=u?u[1]:"",u&&/[\"\']/.test(u.charAt(0))&&(u=u.slice(1,u.length-1));for(var a=0;a<s.length;++a){var f=s[a];if(typeof f.matches=="string"?u==f.matches:f.matches.test(u)){f.mode&&(t.token=c,t.localMode=f.mode,t.localState=f.mode.startState&&f.mode.startState(r.indent(t.htmlState,"")));break}}}else n=="style"&&/\btag\b/.test(o)&&e.current()==">"&&(t.token=h,t.localMode=i,t.localState=i.startState(r.indent(t.htmlState,"")));return o}function l(e,t,n){var r=e.current(),i=r.search(t),s;if(i>-1)e.backUp(r.length-i);else if(s=r.match(/<\/?$/))e.backUp(r.length),e.match(t,!1)||e.match(r);return n}function c(e,t){return e.match(/^<\/\s*script\s*>/i,!1)?(t.token=f,t.localState=t.localMode=null,null):l(e,/<\/\s*script\s*>/,t.localMode.token(e,t.localState))}function h(e,t){return e.match(/^<\/\s*style\s*>/i,!1)?(t.token=f,t.localState=t.localMode=null,null):l(e,/<\/\s*style\s*>/,i.token(e,t.localState))}var r=e.getMode(t,{name:"xml",htmlMode:!0,multilineTagIndentFactor:n.multilineTagIndentFactor,multilineTagIndentPastTag:n.multilineTagIndentPastTag}),i=e.getMode(t,"css"),s=[],o=n&&n.scriptTypes;s.push({matches:/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^$/i,mode:e.getMode(t,"javascript")});if(o)for(var u=0;u<o.length;++u){var a=o[u];s.push({matches:a.matches,mode:a.mode&&e.getMode(t,a.mode)})}return s.push({matches:/./,mode:e.getMode(t,"text/plain")}),{startState:function(){var e=r.startState();return{token:f,localMode:null,localState:null,htmlState:e}},copyState:function(t){if(t.localState)var n=e.copyState(t.localMode,t.localState);return{token:t.token,localMode:t.localMode,localState:n,htmlState:e.copyState(r,t.htmlState)}},token:function(e,t){return t.token(e,t)},indent:function(t,n){return!t.localMode||/^\s*<\//.test(n)?r.indent(t.htmlState,n):t.localMode.indent?t.localMode.indent(t.localState,n):e.Pass},innerMode:function(e){return{state:e.localState||e.htmlState,mode:e.localMode||r}}}},"xml","javascript","css"),e.defineMIME("text/html","htmlmixed")}),function(e){typeof exports=="object"&&typeof module=="object"?e(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define("editorlib/codemirror/mode/clike/clike",["codemirror"],e):e(CodeMirror)}(function(e){function t(e){var t={},n=e.split(" ");for(var r=0;r<n.length;++r)t[n[r]]=!0;return t}function r(e,t){if(!t.startOfLine)return!1;for(;;){if(!e.skipTo("\\")){e.skipToEnd(),t.tokenize=null;break}e.next();if(e.eol()){t.tokenize=r;break}}return"meta"}function i(e,t){e.backUp(1);if(e.match(/(R|u8R|uR|UR|LR)/)){var n=e.match(/"([^\s\\()]{0,16})\(/);return n?(t.cpp11RawStringDelim=n[1],t.tokenize=o,o(e,t)):!1}return e.match(/(u8|u|U|L)/)?e.match(/["']/,!1)?"string":!1:(e.next(),!1)}function s(e,t){var n;while((n=e.next())!=null)if(n=='"'&&!e.eat('"')){t.tokenize=null;break}return"string"}function o(e,t){var n=t.cpp11RawStringDelim.replace(/[^\w\s]/g,"\\$&"),r=e.match(new RegExp(".*?\\)"+n+'"'));return r?t.tokenize=null:e.skipToEnd(),"string"}function u(t,n){function i(e){if(e)for(var t in e)e.hasOwnProperty(t)&&r.push(t)}typeof t=="string"&&(t=[t]);var r=[];i(n.keywords),i(n.builtin),i(n.atoms),r.length&&(n.helperType=t[0],e.registerHelper("hintWords",t[0],r));for(var s=0;s<t.length;++s)e.defineMIME(t[s],n)}function a(e,t){var n=!1;while(!e.eol()){if(!n&&e.match('"""')){t.tokenize=null;break}n=e.next()=="\\"&&!n}return"string"}e.defineMode("clike",function(t,n){function v(e,t){var n=e.next();if(l[n]){var r=l[n](e,t);if(r!==!1)return r}if(n=='"'||n=="'")return t.tokenize=m(n),t.tokenize(e,t);if(/[\[\]{}\(\),;\:\.]/.test(n))return d=n,null;if(/\d/.test(n))return e.eatWhile(/[\w\.]/),"number";if(n=="/"){if(e.eat("*"))return t.tokenize=g,g(e,t);if(e.eat("/"))return e.skipToEnd(),"comment"}if(p.test(n))return e.eatWhile(p),"operator";e.eatWhile(/[\w\$_\xa1-\uffff]/);var i=e.current();return o.propertyIsEnumerable(i)?(a.propertyIsEnumerable(i)&&(d="newstatement"),"keyword"):u.propertyIsEnumerable(i)?(a.propertyIsEnumerable(i)&&(d="newstatement"),"builtin"):f.propertyIsEnumerable(i)?"atom":"variable"}function m(e){return function(t,n){var r=!1,i,s=!1;while((i=t.next())!=null){if(i==e&&!r){s=!0;break}r=!r&&i=="\\"}if(s||!r&&!c)n.tokenize=null;return"string"}}function g(e,t){var n=!1,r;while(r=e.next()){if(r=="/"&&n){t.tokenize=null;break}n=r=="*"}return"comment"}function y(e,t,n,r,i){this.indented=e,this.column=t,this.type=n,this.align=r,this.prev=i}function b(e,t,n){var r=e.indented;return e.context&&e.context.type=="statement"&&(r=e.context.indented),e.context=new y(r,t,n,null,e.context)}function w(e){var t=e.context.type;if(t==")"||t=="]"||t=="}")e.indented=e.context.indented;return e.context=e.context.prev}var r=t.indentUnit,i=n.statementIndentUnit||r,s=n.dontAlignCalls,o=n.keywords||{},u=n.builtin||{},a=n.blockKeywords||{},f=n.atoms||{},l=n.hooks||{},c=n.multiLineStrings,h=n.indentStatements!==!1,p=/[+\-*&%=<>!?|\/]/,d;return{startState:function(e){return{tokenize:null,context:new y((e||0)-r,0,"top",!1),indented:0,startOfLine:!0}},token:function(e,t){var n=t.context;e.sol()&&(n.align==null&&(n.align=!1),t.indented=e.indentation(),t.startOfLine=!0);if(e.eatSpace())return null;d=null;var r=(t.tokenize||v)(e,t);if(r=="comment"||r=="meta")return r;n.align==null&&(n.align=!0);if(d!=";"&&d!=":"&&d!=","||n.type!="statement")if(d=="{")b(t,e.column(),"}");else if(d=="[")b(t,e.column(),"]");else if(d=="(")b(t,e.column(),")");else if(d=="}"){while(n.type=="statement")n=w(t);n.type=="}"&&(n=w(t));while(n.type=="statement")n=w(t)}else d==n.type?w(t):h&&((n.type=="}"||n.type=="top")&&d!=";"||n.type=="statement"&&d=="newstatement")&&b(t,e.column(),"statement");else w(t);return t.startOfLine=!1,r},indent:function(t,n){if(t.tokenize!=v&&t.tokenize!=null)return e.Pass;var o=t.context,u=n&&n.charAt(0);o.type=="statement"&&u=="}"&&(o=o.prev);var a=u==o.type;return o.type=="statement"?o.indented+(u=="{"?0:i):o.align&&(!s||o.type!=")")?o.column+(a?0:1):o.type==")"&&!a?o.indented+i:o.indented+(a?0:r)},electricChars:"{}",blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",fold:"brace"}});var n="auto if break int case long char register continue return default short do sizeof double static else struct entry switch extern typedef float union for unsigned goto while enum void const signed volatile";u(["text/x-csrc","text/x-c","text/x-chdr"],{name:"clike",keywords:t(n),blockKeywords:t("case do else for if switch while struct"),atoms:t("null"),hooks:{"#":r},modeProps:{fold:["brace","include"]}}),u(["text/x-c++src","text/x-c++hdr"],{name:"clike",keywords:t(n+" asm dynamic_cast namespace reinterpret_cast try bool explicit new "+"static_cast typeid catch operator template typename class friend private "+"this using const_cast inline public throw virtual delete mutable protected "+"wchar_t alignas alignof constexpr decltype nullptr noexcept thread_local final "+"static_assert override"),blockKeywords:t("catch class do else finally for if struct switch try while"),atoms:t("true false null"),hooks:{"#":r,u:i,U:i,L:i,R:i},modeProps:{fold:["brace","include"]}}),u("text/x-java",{name:"clike",keywords:t("abstract assert boolean break byte case catch char class const continue default do double else enum extends final finally float for goto if implements import instanceof int interface long native new package private protected public return short static strictfp super switch synchronized this throw throws transient try void volatile while"),blockKeywords:t("catch class do else finally for if switch try while"),atoms:t("true false null"),hooks:{"@":function(e){return e.eatWhile(/[\w\$_]/),"meta"}},modeProps:{fold:["brace","import"]}}),u("text/x-csharp",{name:"clike",keywords:t("abstract as base break case catch checked class const continue default delegate do else enum event explicit extern finally fixed for foreach goto if implicit in interface internal is lock namespace new operator out override params private protected public readonly ref return sealed sizeof stackalloc static struct switch this throw try typeof unchecked unsafe using virtual void volatile while add alias ascending descending dynamic from get global group into join let orderby partial remove select set value var yield"),blockKeywords:t("catch class do else finally for foreach if struct switch try while"),builtin:t("Boolean Byte Char DateTime DateTimeOffset Decimal Double Guid Int16 Int32 Int64 Object SByte Single String TimeSpan UInt16 UInt32 UInt64 bool byte char decimal double short int long object sbyte float string ushort uint ulong"),atoms:t("true false null"),hooks:{"@":function(e,t){return e.eat('"')?(t.tokenize=s,s(e,t)):(e.eatWhile(/[\w\$_]/),"meta")}}}),u("text/x-scala",{name:"clike",keywords:t("abstract case catch class def do else extends false final finally for forSome if implicit import lazy match new null object override package private protected return sealed super this throw trait try trye type val var while with yield _ : = => <- <: <% >: # @ assert assume require print println printf readLine readBoolean readByte readShort readChar readInt readLong readFloat readDouble AnyVal App Application Array BufferedIterator BigDecimal BigInt Char Console Either Enumeration Equiv Error Exception Fractional Function IndexedSeq Integral Iterable Iterator List Map Numeric Nil NotNull Option Ordered Ordering PartialFunction PartialOrdering Product Proxy Range Responder Seq Serializable Set Specializable Stream StringBuilder StringContext Symbol Throwable Traversable TraversableOnce Tuple Unit Vector :: #:: Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),multiLineStrings:!0,blockKeywords:t("catch class do else finally for forSome if match switch try while"),atoms:t("true false null"),indentStatements:!1,hooks:{"@":function(e){return e.eatWhile(/[\w\$_]/),"meta"},'"':function(e,t){return e.match('""')?(t.tokenize=a,t.tokenize(e,t)):!1},"'":function(e){return e.eatWhile(/[\w\$_\xa1-\uffff]/),"atom"}}}),u(["x-shader/x-vertex","x-shader/x-fragment"],{name:"clike",keywords:t("float int bool void vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 mat2 mat3 mat4 sampler1D sampler2D sampler3D samplerCube sampler1DShadow sampler2DShadow const attribute uniform varying break continue discard return for while do if else struct in out inout"),blockKeywords:t("for while do if else struct"),builtin:t("radians degrees sin cos tan asin acos atan pow exp log exp2 sqrt inversesqrt abs sign floor ceil fract mod min max clamp mix step smoothstep length distance dot cross normalize ftransform faceforward reflect refract matrixCompMult lessThan lessThanEqual greaterThan greaterThanEqual equal notEqual any all not texture1D texture1DProj texture1DLod texture1DProjLod texture2D texture2DProj texture2DLod texture2DProjLod texture3D texture3DProj texture3DLod texture3DProjLod textureCube textureCubeLod shadow1D shadow2D shadow1DProj shadow2DProj shadow1DLod shadow2DLod shadow1DProjLod shadow2DProjLod dFdx dFdy fwidth noise1 noise2 noise3 noise4"),atoms:t("true false gl_FragColor gl_SecondaryColor gl_Normal gl_Vertex gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 gl_FogCoord gl_PointCoord gl_Position gl_PointSize gl_ClipVertex gl_FrontColor gl_BackColor gl_FrontSecondaryColor gl_BackSecondaryColor gl_TexCoord gl_FogFragCoord gl_FragCoord gl_FrontFacing gl_FragData gl_FragDepth gl_ModelViewMatrix gl_ProjectionMatrix gl_ModelViewProjectionMatrix gl_TextureMatrix gl_NormalMatrix gl_ModelViewMatrixInverse gl_ProjectionMatrixInverse gl_ModelViewProjectionMatrixInverse gl_TexureMatrixTranspose gl_ModelViewMatrixInverseTranspose gl_ProjectionMatrixInverseTranspose gl_ModelViewProjectionMatrixInverseTranspose gl_TextureMatrixInverseTranspose gl_NormalScale gl_DepthRange gl_ClipPlane gl_Point gl_FrontMaterial gl_BackMaterial gl_LightSource gl_LightModel gl_FrontLightModelProduct gl_BackLightModelProduct gl_TextureColor gl_EyePlaneS gl_EyePlaneT gl_EyePlaneR gl_EyePlaneQ gl_FogParameters gl_MaxLights gl_MaxClipPlanes gl_MaxTextureUnits gl_MaxTextureCoords gl_MaxVertexAttribs gl_MaxVertexUniformComponents gl_MaxVaryingFloats gl_MaxVertexTextureImageUnits gl_MaxTextureImageUnits gl_MaxFragmentUniformComponents gl_MaxCombineTextureImageUnits gl_MaxDrawBuffers"),hooks:{"#":r},modeProps:{fold:["brace","include"]}}),u("text/x-nesc",{name:"clike",keywords:t(n+"as atomic async call command component components configuration event generic "+"implementation includes interface module new norace nx_struct nx_union post provides "+"signal task uses abstract extends"),blockKeywords:t("case do else for if switch while struct"),atoms:t("null"),hooks:{"#":r},modeProps:{fold:["brace","include"]}}),u("text/x-objectivec",{name:"clike",keywords:t(n+"inline restrict _Bool _Complex _Imaginery BOOL Class bycopy byref id IMP in "+"inout nil oneway out Protocol SEL self super atomic nonatomic retain copy readwrite readonly"),atoms:t("YES NO NULL NILL ON OFF"),hooks:{"@":function(e){return e.eatWhile(/[\w\$]/),"keyword"},"#":r},modeProps:{fold:"brace"}})}),function(e){typeof exports=="object"&&typeof module=="object"?e(require("../../lib/codemirror"),require("../htmlmixed/htmlmixed"),require("../clike/clike")):typeof define=="function"&&define.amd?define("editorlib/codemirror/mode/php/php",["codemirror","editorlib/codemirror/mode/htmlmixed/htmlmixed","editorlib/codemirror/mode/clike/clike"],e):e(CodeMirror)}(function(e){function t(e){var t={},n=e.split(" ");for(var r=0;r<n.length;++r)t[n[r]]=!0;return t}function n(e,t){return e.length==0?r(t):function(i,s){var o=e[0];for(var u=0;u<o.length;u++)if(i.match(o[u][0]))return s.tokenize=n(e.slice(1),t),o[u][1];return s.tokenize=r(t),"string"}}function r(e){return function(t,n){return i(t,n,e)}}function i(e,t,r){if(e.match("${",!1)||e.match("{$",!1))return t.tokenize=null,"string";if(e.match(/^\$[a-zA-Z_][a-zA-Z0-9_]*/))return e.match("[",!1)&&(t.tokenize=n([[["[",null]],[[/\d[\w\.]*/,"number"],[/\$[a-zA-Z_][a-zA-Z0-9_]*/,"variable-2"],[/[\w\$]+/,"variable"]],[["]",null]]],r)),e.match(/\-\>\w/,!1)&&(t.tokenize=n([[["->",null]],[[/[\w]+/,"variable"]]],r)),"variable-2";var i=!1;while(!e.eol()&&(i||!e.match("{$",!1)&&!e.match(/^(\$[a-zA-Z_][a-zA-Z0-9_]*|\$\{)/,!1))){if(!i&&e.match(r)){t.tokenize=null,t.tokStack.pop(),t.tokStack.pop();break}i=e.next()=="\\"&&!i}return"string"}var s="abstract and array as break case catch class clone const continue declare default do else elseif enddeclare endfor endforeach endif endswitch endwhile extends final for foreach function global goto if implements interface instanceof namespace new or private protected public static switch throw trait try use var while xor die echo empty exit eval include include_once isset list require require_once return print unset __halt_compiler self static parent yield insteadof finally",o="true false null TRUE FALSE NULL __CLASS__ __DIR__ __FILE__ __LINE__ __METHOD__ __FUNCTION__ __NAMESPACE__ __TRAIT__",u="func_num_args func_get_arg func_get_args strlen strcmp strncmp strcasecmp strncasecmp each error_reporting define defined trigger_error user_error set_error_handler restore_error_handler get_declared_classes get_loaded_extensions extension_loaded get_extension_funcs debug_backtrace constant bin2hex hex2bin sleep usleep time mktime gmmktime strftime gmstrftime strtotime date gmdate getdate localtime checkdate flush wordwrap htmlspecialchars htmlentities html_entity_decode md5 md5_file crc32 getimagesize image_type_to_mime_type phpinfo phpversion phpcredits strnatcmp strnatcasecmp substr_count strspn strcspn strtok strtoupper strtolower strpos strrpos strrev hebrev hebrevc nl2br basename dirname pathinfo stripslashes stripcslashes strstr stristr strrchr str_shuffle str_word_count strcoll substr substr_replace quotemeta ucfirst ucwords strtr addslashes addcslashes rtrim str_replace str_repeat count_chars chunk_split trim ltrim strip_tags similar_text explode implode setlocale localeconv parse_str str_pad chop strchr sprintf printf vprintf vsprintf sscanf fscanf parse_url urlencode urldecode rawurlencode rawurldecode readlink linkinfo link unlink exec system escapeshellcmd escapeshellarg passthru shell_exec proc_open proc_close rand srand getrandmax mt_rand mt_srand mt_getrandmax base64_decode base64_encode abs ceil floor round is_finite is_nan is_infinite bindec hexdec octdec decbin decoct dechex base_convert number_format fmod ip2long long2ip getenv putenv getopt microtime gettimeofday getrusage uniqid quoted_printable_decode set_time_limit get_cfg_var magic_quotes_runtime set_magic_quotes_runtime get_magic_quotes_gpc get_magic_quotes_runtime import_request_variables error_log serialize unserialize memory_get_usage var_dump var_export debug_zval_dump print_r highlight_file show_source highlight_string ini_get ini_get_all ini_set ini_alter ini_restore get_include_path set_include_path restore_include_path setcookie header headers_sent connection_aborted connection_status ignore_user_abort parse_ini_file is_uploaded_file move_uploaded_file intval floatval doubleval strval gettype settype is_null is_resource is_bool is_long is_float is_int is_integer is_double is_real is_numeric is_string is_array is_object is_scalar ereg ereg_replace eregi eregi_replace split spliti join sql_regcase dl pclose popen readfile rewind rmdir umask fclose feof fgetc fgets fgetss fread fopen fpassthru ftruncate fstat fseek ftell fflush fwrite fputs mkdir rename copy tempnam tmpfile file file_get_contents stream_select stream_context_create stream_context_set_params stream_context_set_option stream_context_get_options stream_filter_prepend stream_filter_append fgetcsv flock get_meta_tags stream_set_write_buffer set_file_buffer set_socket_blocking stream_set_blocking socket_set_blocking stream_get_meta_data stream_register_wrapper stream_wrapper_register stream_set_timeout socket_set_timeout socket_get_status realpath fnmatch fsockopen pfsockopen pack unpack get_browser crypt opendir closedir chdir getcwd rewinddir readdir dir glob fileatime filectime filegroup fileinode filemtime fileowner fileperms filesize filetype file_exists is_writable is_writeable is_readable is_executable is_file is_dir is_link stat lstat chown touch clearstatcache mail ob_start ob_flush ob_clean ob_end_flush ob_end_clean ob_get_flush ob_get_clean ob_get_length ob_get_level ob_get_status ob_get_contents ob_implicit_flush ob_list_handlers ksort krsort natsort natcasesort asort arsort sort rsort usort uasort uksort shuffle array_walk count end prev next reset current key min max in_array array_search extract compact array_fill range array_multisort array_push array_pop array_shift array_unshift array_splice array_slice array_merge array_merge_recursive array_keys array_values array_count_values array_reverse array_reduce array_pad array_flip array_change_key_case array_rand array_unique array_intersect array_intersect_assoc array_diff array_diff_assoc array_sum array_filter array_map array_chunk array_key_exists pos sizeof key_exists assert assert_options version_compare ftok str_rot13 aggregate session_name session_module_name session_save_path session_id session_regenerate_id session_decode session_register session_unregister session_is_registered session_encode session_start session_destroy session_unset session_set_save_handler session_cache_limiter session_cache_expire session_set_cookie_params session_get_cookie_params session_write_close preg_match preg_match_all preg_replace preg_replace_callback preg_split preg_quote preg_grep overload ctype_alnum ctype_alpha ctype_cntrl ctype_digit ctype_lower ctype_graph ctype_print ctype_punct ctype_space ctype_upper ctype_xdigit virtual apache_request_headers apache_note apache_lookup_uri apache_child_terminate apache_setenv apache_response_headers apache_get_version getallheaders mysql_connect mysql_pconnect mysql_close mysql_select_db mysql_create_db mysql_drop_db mysql_query mysql_unbuffered_query mysql_db_query mysql_list_dbs mysql_list_tables mysql_list_fields mysql_list_processes mysql_error mysql_errno mysql_affected_rows mysql_insert_id mysql_result mysql_num_rows mysql_num_fields mysql_fetch_row mysql_fetch_array mysql_fetch_assoc mysql_fetch_object mysql_data_seek mysql_fetch_lengths mysql_fetch_field mysql_field_seek mysql_free_result mysql_field_name mysql_field_table mysql_field_len mysql_field_type mysql_field_flags mysql_escape_string mysql_real_escape_string mysql_stat mysql_thread_id mysql_client_encoding mysql_get_client_info mysql_get_host_info mysql_get_proto_info mysql_get_server_info mysql_info mysql mysql_fieldname mysql_fieldtable mysql_fieldlen mysql_fieldtype mysql_fieldflags mysql_selectdb mysql_createdb mysql_dropdb mysql_freeresult mysql_numfields mysql_numrows mysql_listdbs mysql_listtables mysql_listfields mysql_db_name mysql_dbname mysql_tablename mysql_table_name pg_connect pg_pconnect pg_close pg_connection_status pg_connection_busy pg_connection_reset pg_host pg_dbname pg_port pg_tty pg_options pg_ping pg_query pg_send_query pg_cancel_query pg_fetch_result pg_fetch_row pg_fetch_assoc pg_fetch_array pg_fetch_object pg_fetch_all pg_affected_rows pg_get_result pg_result_seek pg_result_status pg_free_result pg_last_oid pg_num_rows pg_num_fields pg_field_name pg_field_num pg_field_size pg_field_type pg_field_prtlen pg_field_is_null pg_get_notify pg_get_pid pg_result_error pg_last_error pg_last_notice pg_put_line pg_end_copy pg_copy_to pg_copy_from pg_trace pg_untrace pg_lo_create pg_lo_unlink pg_lo_open pg_lo_close pg_lo_read pg_lo_write pg_lo_read_all pg_lo_import pg_lo_export pg_lo_seek pg_lo_tell pg_escape_string pg_escape_bytea pg_unescape_bytea pg_client_encoding pg_set_client_encoding pg_meta_data pg_convert pg_insert pg_update pg_delete pg_select pg_exec pg_getlastoid pg_cmdtuples pg_errormessage pg_numrows pg_numfields pg_fieldname pg_fieldsize pg_fieldtype pg_fieldnum pg_fieldprtlen pg_fieldisnull pg_freeresult pg_result pg_loreadall pg_locreate pg_lounlink pg_loopen pg_loclose pg_loread pg_lowrite pg_loimport pg_loexport http_response_code get_declared_traits getimagesizefromstring socket_import_stream stream_set_chunk_size trait_exists header_register_callback class_uses session_status session_register_shutdown echo print global static exit array empty eval isset unset die include require include_once require_once json_decode json_encode json_last_error json_last_error_msg curl_close curl_copy_handle curl_errno curl_error curl_escape curl_exec curl_file_create curl_getinfo curl_init curl_multi_add_handle curl_multi_close curl_multi_exec curl_multi_getcontent curl_multi_info_read curl_multi_init curl_multi_remove_handle curl_multi_select curl_multi_setopt curl_multi_strerror curl_pause curl_reset curl_setopt_array curl_setopt curl_share_close curl_share_init curl_share_setopt curl_strerror curl_unescape curl_version mysqli_affected_rows mysqli_autocommit mysqli_change_user mysqli_character_set_name mysqli_close mysqli_commit mysqli_connect_errno mysqli_connect_error mysqli_connect mysqli_data_seek mysqli_debug mysqli_dump_debug_info mysqli_errno mysqli_error_list mysqli_error mysqli_fetch_all mysqli_fetch_array mysqli_fetch_assoc mysqli_fetch_field_direct mysqli_fetch_field mysqli_fetch_fields mysqli_fetch_lengths mysqli_fetch_object mysqli_fetch_row mysqli_field_count mysqli_field_seek mysqli_field_tell mysqli_free_result mysqli_get_charset mysqli_get_client_info mysqli_get_client_stats mysqli_get_client_version mysqli_get_connection_stats mysqli_get_host_info mysqli_get_proto_info mysqli_get_server_info mysqli_get_server_version mysqli_info mysqli_init mysqli_insert_id mysqli_kill mysqli_more_results mysqli_multi_query mysqli_next_result mysqli_num_fields mysqli_num_rows mysqli_options mysqli_ping mysqli_prepare mysqli_query mysqli_real_connect mysqli_real_escape_string mysqli_real_query mysqli_reap_async_query mysqli_refresh mysqli_rollback mysqli_select_db mysqli_set_charset mysqli_set_local_infile_default mysqli_set_local_infile_handler mysqli_sqlstate mysqli_ssl_set mysqli_stat mysqli_stmt_init mysqli_store_result mysqli_thread_id mysqli_thread_safe mysqli_use_result mysqli_warning_count";e.registerHelper("hintWords","php",[s,o,u].join(" ").split(" ")),e.registerHelper("wordChars","php",/[\w$]/);var a={name:"clike",helperType:"php",keywords:t(s),blockKeywords:t("catch do else elseif for foreach if switch try while finally"),atoms:t(o),builtin:t(u),multiLineStrings:!0,hooks:{$:function(e){return e.eatWhile(/[\w\$_]/),"variable-2"},"<":function(e,t){if(e.match(/<</)){e.eatWhile(/[\w\.]/);var n=e.current().slice(3);if(n)return(t.tokStack||(t.tokStack=[])).push(n,0),t.tokenize=r(n),"string"}return!1},"#":function(e){while(!e.eol()&&!e.match("?>",!1))e.next();return"comment"},"/":function(e){if(e.eat("/")){while(!e.eol()&&!e.match("?>",!1))e.next();return"comment"}return!1},'"':function(e,t){return(t.tokStack||(t.tokStack=[])).push('"',0),t.tokenize=r('"'),"string"},"{":function(e,t){return t.tokStack&&t.tokStack.length&&t.tokStack[t.tokStack.length-1]++,!1},"}":function(e,t){return t.tokStack&&t.tokStack.length>0&&!--t.tokStack[t.tokStack.length-1]&&(t.tokenize=r(t.tokStack[t.tokStack.length-2])),!1}}};e.defineMode("php",function(t,n){function s(e,t){var n=t.curMode==i;e.sol()&&t.pending&&t.pending!='"'&&t.pending!="'"&&(t.pending=null);if(!n){if(e.match(/^<\?\w*/))return t.curMode=i,t.curState=t.php,"meta";if(t.pending=='"'||t.pending=="'"){while(!e.eol()&&e.next()!=t.pending);var s="string"}else if(t.pending&&e.pos<t.pending.end){e.pos=t.pending.end;var s=t.pending.style}else var s=r.token(e,t.curState);t.pending&&(t.pending=null);var o=e.current(),u=o.search(/<\?/),a;return u!=-1&&(s=="string"&&(a=o.match(/[\'\"]$/))&&!/\?>/.test(o)?t.pending=a[0]:t.pending={end:e.pos,style:s},e.backUp(o.length-u)),s}return n&&t.php.tokenize==null&&e.match("?>")?(t.curMode=r,t.curState=t.html,"meta"):i.token(e,t.curState)}var r=e.getMode(t,"text/html"),i=e.getMode(t,a);return{startState:function(){var t=e.startState(r),s=e.startState(i);return{html:t,php:s,curMode:n.startOpen?i:r,curState:n.startOpen?s:t,pending:null}},copyState:function(t){var n=t.html,s=e.copyState(r,n),o=t.php,u=e.copyState(i,o),a;return t.curMode==r?a=s:a=u,{html:s,php:u,curMode:t.curMode,curState:a,pending:t.pending}},token:s,indent:function(e,t){return e.curMode!=i&&/^\s*<\//.test(t)||e.curMode==i&&/^\?>/.test(t)?r.indent(e.html,t):e.curMode.indent(e.curState,t)},blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",innerMode:function(e){return{state:e.curState,mode:e.curMode}}}},"htmlmixed","clike"),e.defineMIME("application/x-httpd-php","php"),e.defineMIME("application/x-httpd-php-open",{name:"php",startOpen:!0}),e.defineMIME("text/x-php",a)}),function(e){typeof exports=="object"&&typeof module=="object"?e(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define("editorlib/codemirror/mode/sass/sass",["codemirror"],e):e(CodeMirror)}(function(e){e.defineMode("sass",function(e){function t(e){return new RegExp("^"+e.join("|"))}function u(e,t){var n=e.peek();return n===")"?(e.next(),t.tokenizer=p,"operator"):n==="("?(e.next(),e.eatSpace(),"operator"):n==="'"||n==='"'?(t.tokenizer=f(e.next()),"string"):(t.tokenizer=f(")",!1),"string")}function a(e,t){return function(n,r){return n.sol()&&n.indentation()<=e?(r.tokenizer=p,p(n,r)):(t&&n.skipTo("*/")?(n.next(),n.next(),r.tokenizer=p):n.skipToEnd(),"comment")}}function f(e,t){function n(r,i){var s=r.next(),o=r.peek(),u=r.string.charAt(r.pos-2),a=s!=="\\"&&o===e||s===e&&u!=="\\";return a?(s!==e&&t&&r.next(),i.tokenizer=p,"string"):s==="#"&&o==="{"?(i.tokenizer=l(n),r.next(),"operator"):"string"}return t==null&&(t=!0),n}function l(e){return function(t,n){return t.peek()==="}"?(t.next(),n.tokenizer=e,"operator"):p(t,n)}}function c(t){if(t.indentCount==0){t.indentCount++;var n=t.scopes[0].offset,r=n+e.indentUnit;t.scopes.unshift({offset:r})}}function h(e){if(e.scopes.length==1)return;e.scopes.shift()}function p(e,t){var n=e.peek();if(e.match("/*"))return t.tokenizer=a(e.indentation(),!0),t.tokenizer(e,t);if(e.match("//"))return t.tokenizer=a(e.indentation(),!1),t.tokenizer(e,t);if(e.match("#{"))return t.tokenizer=l(p),"operator";if(n==='"'||n==="'")return e.next(),t.tokenizer=f(n),"string";if(!t.cursorHalf){if(n==="."){e.next();if(e.match(/^[\w-]+/))return c(t),"atom";if(e.peek()==="#")return c(t),"atom"}if(n==="#"){e.next();if(e.match(/^[\w-]+/))return c(t),"atom";if(e.peek()==="#")return c(t),"atom"}if(n==="$")return e.next(),e.eatWhile(/[\w-]/),"variable-2";if(e.match(/^-?[0-9\.]+/))return"number";if(e.match(/^(px|em|in)\b/))return"unit";if(e.match(r))return"keyword";if(e.match(/^url/)&&e.peek()==="(")return t.tokenizer=u,"atom";if(n==="="&&e.match(/^=[\w-]+/))return c(t),"meta";if(n==="+"&&e.match(/^\+[\w-]+/))return"variable-3";n==="@"&&e.match(/@extend/)&&(e.match(/\s*[\w]/)||h(t));if(e.match(/^@(else if|if|media|else|for|each|while|mixin|function)/))return c(t),"meta";if(n==="@")return e.next(),e.eatWhile(/[\w-]/),"meta";if(e.eatWhile(/[\w-]/))return e.match(/ *: *[\w-\+\$#!\("']/,!1)?"propery":e.match(/ *:/,!1)?(c(t),t.cursorHalf=1,"atom"):e.match(/ *,/,!1)?"atom":(c(t),"atom");if(n===":")return e.match(o)?"keyword":(e.next(),t.cursorHalf=1,"operator")}else{if(n==="#"){e.next();if(e.match(/[0-9a-fA-F]{6}|[0-9a-fA-F]{3}/))return e.peek()||(t.cursorHalf=0),"number"}if(e.match(/^-?[0-9\.]+/))return e.peek()||(t.cursorHalf=0),"number";if(e.match(/^(px|em|in)\b/))return e.peek()||(t.cursorHalf=0),"unit";if(e.match(r))return e.peek()||(t.cursorHalf=0),"keyword";if(e.match(/^url/)&&e.peek()==="(")return t.tokenizer=u,e.peek()||(t.cursorHalf=0),"atom";if(n==="$")return e.next(),e.eatWhile(/[\w-]/),e.peek()||(t.cursorHalf=0),"variable-3";if(n==="!")return e.next(),e.peek()||(t.cursorHalf=0),e.match(/^[\w]+/)?"keyword":"operator";if(e.match(s))return e.peek()||(t.cursorHalf=0),"operator";if(e.eatWhile(/[\w-]/))return e.peek()||(t.cursorHalf=0),"attribute";if(!e.peek())return t.cursorHalf=0,null}return e.match(s)?"operator":(e.next(),null)}function d(t,n){t.sol()&&(n.indentCount=0);var r=n.tokenizer(t,n),i=t.current();(i==="@return"||i==="}")&&h(n);if(r!==null){var s=t.pos-i.length,o=s+e.indentUnit*n.indentCount,u=[];for(var a=0;a<n.scopes.length;a++){var f=n.scopes[a];f.offset<=o&&u.push(f)}n.scopes=u}return r}var n=["true","false","null","auto"],r=new RegExp("^"+n.join("|")),i=["\\(","\\)","=",">","<","==",">=","<=","\\+","-","\\!=","/","\\*","%","and","or","not",";","\\{","\\}",":"],s=t(i),o=/^::?[a-zA-Z_][\w\-]*/;return{startState:function(){return{tokenizer:p,scopes:[{offset:0,type:"sass"}],indentCount:0,cursorHalf:0,definedVars:[],definedMixins:[]}},token:function(e,t){var n=d(e,t);return t.lastToken={style:n,content:e.current()},n},indent:function(e){return e.scopes[0].offset}}}),e.defineMIME("text/x-sass","sass")}),function(e){typeof exports=="object"&&typeof module=="object"?e(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define("editorlib/codemirror/mode/python/python",["codemirror"],e):e(CodeMirror)}(function(e){function t(e){return new RegExp("^(("+e.join(")|(")+"))\\b")}function u(e){return e.scopes[e.scopes.length-1]}var n=t(["and","or","not","is"]),r=["as","assert","break","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","lambda","pass","raise","return","try","while","with","yield","in"],i=["abs","all","any","bin","bool","bytearray","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip","__import__","NotImplemented","Ellipsis","__debug__"],s={builtins:["apply","basestring","buffer","cmp","coerce","execfile","file","intern","long","raw_input","reduce","reload","unichr","unicode","xrange","False","True","None"],keywords:["exec","print"]},o={builtins:["ascii","bytes","exec","print"],keywords:["nonlocal","False","True","None"]};e.registerHelper("hintWords","python",r.concat(i)),e.defineMode("python",function(a,f){function x(e,t){if(e.sol()&&u(t).type=="py"){var n=u(t).offset;if(e.eatSpace()){var r=e.indentation();return r>n?C(e,t,"py"):r<n&&k(e,t)&&(t.errorToken=!0),null}var i=T(e,t);return n>0&&k(e,t)&&(i+=" "+l),i}return T(e,t)}function T(e,t){if(e.eatSpace())return null;var r=e.peek();if(r=="#")return e.skipToEnd(),"comment";if(e.match(/^[0-9\.]/,!1)){var i=!1;e.match(/^\d*\.\d+(e[\+\-]?\d+)?/i)&&(i=!0),e.match(/^\d+\.\d*/)&&(i=!0),e.match(/^\.\d+/)&&(i=!0);if(i)return e.eat(/J/i),"number";var s=!1;e.match(/^0x[0-9a-f]+/i)&&(s=!0),e.match(/^0b[01]+/i)&&(s=!0),e.match(/^0o[0-7]+/i)&&(s=!0),e.match(/^[1-9]\d*(e[\+\-]?\d+)?/)&&(e.eat(/J/i),s=!0),e.match(/^0(?![\dx])/i)&&(s=!0);if(s)return e.eat(/L/i),"number"}return e.match(w)?(t.tokenize=N(e.current()),t.tokenize(e,t)):e.match(d)||e.match(p)?null:e.match(h)||e.match(v)||e.match(n)?"operator":e.match(c)?null:e.match(E)?"keyword":e.match(S)?"builtin":e.match(/^(self|cls)\b/)?"variable-2":e.match(m)?t.lastToken=="def"||t.lastToken=="class"?"def":"variable":(e.next(),l)}function N(e){function r(r,i){while(!r.eol()){r.eatWhile(/[^'"\\]/);if(r.eat("\\")){r.next();if(t&&r.eol())return n}else{if(r.match(e))return i.tokenize=x,n;r.eat(/['"]/)}}if(t){if(f.singleLineStringErrors)return l;i.tokenize=x}return n}while("rub".indexOf(e.charAt(0).toLowerCase())>=0)e=e.substr(1);var t=e.length==1,n="string";return r.isString=!0,r}function C(e,t,n){var r=0,i=null;if(n=="py")while(u(t).type!="py")t.scopes.pop();r=u(t).offset+(n=="py"?a.indentUnit:g),n!="py"&&!e.match(/^(\s|#.*)*$/,!1)&&(i=e.column()+1),t.scopes.push({offset:r,type:n,align:i})}function k(e,t){var n=e.indentation();while(u(t).offset>n){if(u(t).type!="py")return!0;t.scopes.pop()}return u(t).offset!=n}function L(e,t){var n=t.tokenize(e,t),r=e.current();if(r==".")return n=e.match(m,!1)?null:l,n==null&&t.lastStyle=="meta"&&(n="meta"),n;if(r=="@")return f.version&&parseInt(f.version,10)==3?e.match(m,!1)?"meta":"operator":e.match(m,!1)?"meta":l;(n=="variable"||n=="builtin")&&t.lastStyle=="meta"&&(n="meta");if(r=="pass"||r=="return")t.dedent+=1;r=="lambda"&&(t.lambda=!0),r==":"&&!t.lambda&&u(t).type=="py"&&C(e,t,"py");var i=r.length==1?"[({".indexOf(r):-1;i!=-1&&C(e,t,"])}".slice(i,i+1)),i="])}".indexOf(r);if(i!=-1){if(u(t).type!=r)return l;t.scopes.pop()}return t.dedent>0&&e.eol()&&u(t).type=="py"&&(t.scopes.length>1&&t.scopes.pop(),t.dedent-=1),n}var l="error",c=f.singleDelimiters||new RegExp("^[\\(\\)\\[\\]\\{\\}@,:`=;\\.]"),h=f.doubleOperators||new RegExp("^((==)|(!=)|(<=)|(>=)|(<>)|(<<)|(>>)|(//)|(\\*\\*))"),p=f.doubleDelimiters||new RegExp("^((\\+=)|(\\-=)|(\\*=)|(%=)|(/=)|(&=)|(\\|=)|(\\^=))"),d=f.tripleDelimiters||new RegExp("^((//=)|(>>=)|(<<=)|(\\*\\*=))");if(f.version&&parseInt(f.version,10)==3)var v=f.singleOperators||new RegExp("^[\\+\\-\\*/%&|\\^~<>!@]"),m=f.identifiers||new RegExp("^[_A-Za-z¡-￿][_A-Za-z0-9¡-￿]*");else var v=f.singleOperators||new RegExp("^[\\+\\-\\*/%&|\\^~<>!]"),m=f.identifiers||new RegExp("^[_A-Za-z][_A-Za-z0-9]*");var g=f.hangingIndent||a.indentUnit,y=r,b=i;f.extra_keywords!=undefined&&(y=y.concat(f.extra_keywords)),f.extra_builtins!=undefined&&(b=b.concat(f.extra_builtins));if(f.version&&parseInt(f.version,10)==3){y=y.concat(o.keywords),b=b.concat(o.builtins);var w=new RegExp("^(([rb]|(br))?('{3}|\"{3}|['\"]))","i")}else{y=y.concat(s.keywords),b=b.concat(s.builtins);var w=new RegExp("^(([rub]|(ur)|(br))?('{3}|\"{3}|['\"]))","i")}var E=t(y),S=t(b),A={startState:function(e){return{tokenize:x,scopes:[{offset:e||0,type:"py",align:null}],lastStyle:null,lastToken:null,lambda:!1,dedent:0}},token:function(e,t){var n=t.errorToken;n&&(t.errorToken=!1);var r=L(e,t);t.lastStyle=r;var i=e.current();return i&&r&&(t.lastToken=i),e.eol()&&t.lambda&&(t.lambda=!1),n?r+" "+l:r},indent:function(t,n){if(t.tokenize!=x)return t.tokenize.isString?e.Pass:0;var r=u(t),i=n&&n.charAt(0)==r.type;return r.align!=null?r.align-(i?1:0):i&&t.scopes.length>1?t.scopes[t.scopes.length-2].offset:r.offset},lineComment:"#",fold:"indent"};return A}),e.defineMIME("text/x-python","python");var a=function(e){return e.split(" ")};e.defineMIME("text/x-cython",{name:"python",extra_keywords:a("by cdef cimport cpdef ctypedef enum exceptextern gil include nogil property publicreadonly struct union DEF IF ELIF ELSE")})}),function(e){typeof exports=="object"&&typeof module=="object"?e(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define("editorlib/codemirror/mode/sql/sql",["codemirror"],e):e(CodeMirror)}(function(e){e.defineMode("sql",function(t,n){function c(e,t){var n=e.next();if(f[n]){var c=f[n](e,t);if(c!==!1)return c}if(a.hexNumber==1&&(n=="0"&&e.match(/^[xX][0-9a-fA-F]+/)||(n=="x"||n=="X")&&e.match(/^'[0-9a-fA-F]+'/)))return"number";if(a.binaryNumber==1&&((n=="b"||n=="B")&&e.match(/^'[01]+'/)||n=="0"&&e.match(/^b[01]+/)))return"number";if(n.charCodeAt(0)>47&&n.charCodeAt(0)<58)return e.match(/^[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?/),a.decimallessFloat==1&&e.eat("."),"number";if(n=="?"&&(e.eatSpace()||e.eol()||e.eat(";")))return"variable-3";if(n=="'"||n=='"'&&a.doubleQuote)return t.tokenize=h(n),t.tokenize(e,t);if(!(!(a.nCharCast==1&&(n=="n"||n=="N")||a.charsetCast==1&&n=="_"&&e.match(/[a-z][a-z0-9]*/i))||e.peek()!="'"&&e.peek()!='"'))return"keyword";if(/^[\(\),\;\[\]]/.test(n))return null;if(a.commentSlashSlash&&n=="/"&&e.eat("/"))return e.skipToEnd(),"comment";if(a.commentHash&&n=="#"||n=="-"&&e.eat("-")&&(!a.commentSpaceRequired||e.eat(" ")))return e.skipToEnd(),"comment";if(n=="/"&&e.eat("*"))return t.tokenize=p,t.tokenize(e,t);if(n!="."){if(u.test(n))return e.eatWhile(u),null;if(n=="{"&&(e.match(/^( )*(d|D|t|T|ts|TS)( )*'[^']*'( )*}/)||e.match(/^( )*(d|D|t|T|ts|TS)( )*"[^"]*"( )*}/)))return"number";e.eatWhile(/^[_\w\d]/);var d=e.current().toLowerCase();return l.hasOwnProperty(d)&&(e.match(/^( )+'[^']*'/)||e.match(/^( )+"[^"]*"/))?"number":i.hasOwnProperty(d)?"atom":s.hasOwnProperty(d)?"builtin":o.hasOwnProperty(d)?"keyword":r.hasOwnProperty(d)?"string-2":null}if(a.zerolessFloat==1&&e.match(/^(?:\d+(?:e[+-]?\d+)?)/i))return"number";if(a.ODBCdotTable==1&&e.match(/^[a-zA-Z_]+/))return"variable-2"}function h(e){return function(t,n){var r=!1,i;while((i=t.next())!=null){if(i==e&&!r){n.tokenize=c;break}r=!r&&i=="\\"}return"string"}}function p(e,t){for(;;){if(!e.skipTo("*")){e.skipToEnd();break}e.next();if(e.eat("/")){t.tokenize=c;break}}return"comment"}function d(e,t,n){t.context={prev:t.context,indent:e.indentation(),col:e.column(),type:n}}function v(e){e.indent=e.context.indent,e.context=e.context.prev}var r=n.client||{},i=n.atoms||{"false":!0,"true":!0,"null":!0},s=n.builtin||{},o=n.keywords||{},u=n.operatorChars||/^[*+\-%<>!=&|~^]/,a=n.support||{},f=n.hooks||{},l=n.dateSQL||{date:!0,time:!0,timestamp:!0};return{startState:function(){return{tokenize:c,context:null}},token:function(e,t){e.sol()&&t.context&&t.context.align==null&&(t.context.align=!1);if(e.eatSpace())return null;var n=t.tokenize(e,t);if(n=="comment")return n;t.context&&t.context.align==null&&(t.context.align=!0);var r=e.current();return r=="("?d(e,t,")"):r=="["?d(e,t,"]"):t.context&&t.context.type==r&&v(t),n},indent:function(n,r){var i=n.context;if(!i)return e.Pass;var s=r.charAt(0)==i.type;return i.align?i.col+(s?0:1):i.indent+(s?0:t.indentUnit)},blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:a.commentSlashSlash?"//":a.commentHash?"#":null}}),function(){function t(e){var t;while((t=e.next())!=null)if(t=="`"&&!e.eat("`"))return"variable-2";return e.backUp(e.current().length-1),e.eatWhile(/\w/)?"variable-2":null}function n(e){return e.eat("@")&&(e.match(/^session\./),e.match(/^local\./),e.match(/^global\./)),e.eat("'")?(e.match(/^.*'/),"variable-2"):e.eat('"')?(e.match(/^.*"/),"variable-2"):e.eat("`")?(e.match(/^.*`/),"variable-2"):e.match(/^[0-9a-zA-Z$\.\_]+/)?"variable-2":null}function r(e){return e.eat("N")?"atom":e.match(/^[a-zA-Z.#!?]/)?"variable-2":null}function s(e){var t={},n=e.split(" ");for(var r=0;r<n.length;++r)t[n[r]]=!0;return t}var i="alter and as asc between by count create delete desc distinct drop from having in insert into is join like not on or order select set table union update values where ";e.defineMIME("text/x-sql",{name:"sql",keywords:s(i+"begin"),builtin:s("bool boolean bit blob enum long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision real date datetime year unsigned signed decimal numeric"),atoms:s("false true null unknown"),operatorChars:/^[*+\-%<>!=]/,dateSQL:s("date time timestamp"),support:s("ODBCdotTable doubleQuote binaryNumber hexNumber")}),e.defineMIME("text/x-mssql",{name:"sql",client:s("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),keywords:s(i+"begin trigger proc view index for add constraint key primary foreign collate clustered nonclustered"),builtin:s("bigint numeric bit smallint decimal smallmoney int tinyint money float real char varchar text nchar nvarchar ntext binary varbinary image cursor timestamp hierarchyid uniqueidentifier sql_variant xml table "),atoms:s("false true null unknown"),operatorChars:/^[*+\-%<>!=]/,dateSQL:s("date datetimeoffset datetime2 smalldatetime datetime time"),hooks:{"@":n}}),e.defineMIME("text/x-mysql",{name:"sql",client:s("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),keywords:s(i+"accessible action add after algorithm all analyze asensitive at authors auto_increment autocommit avg avg_row_length before binary binlog both btree cache call cascade cascaded case catalog_name chain change changed character check checkpoint checksum class_origin client_statistics close coalesce code collate collation collations column columns comment commit committed completion concurrent condition connection consistent constraint contains continue contributors convert cross current current_date current_time current_timestamp current_user cursor data database databases day_hour day_microsecond day_minute day_second deallocate dec declare default delay_key_write delayed delimiter des_key_file describe deterministic dev_pop dev_samp deviance diagnostics directory disable discard distinctrow div dual dumpfile each elseif enable enclosed end ends engine engines enum errors escape escaped even event events every execute exists exit explain extended fast fetch field fields first flush for force foreign found_rows full fulltext function general get global grant grants group groupby_concat handler hash help high_priority hosts hour_microsecond hour_minute hour_second if ignore ignore_server_ids import index index_statistics infile inner innodb inout insensitive insert_method install interval invoker isolation iterate key keys kill language last leading leave left level limit linear lines list load local localtime localtimestamp lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters match max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modifies modify mutex mysql_errno natural next no no_write_to_binlog offline offset one online open optimize option optionally out outer outfile pack_keys parser partition partitions password phase plugin plugins prepare preserve prev primary privileges procedure processlist profile profiles purge query quick range read read_write reads real rebuild recover references regexp relaylog release remove rename reorganize repair repeatable replace require resignal restrict resume return returns revoke right rlike rollback rollup row row_format rtree savepoint schedule schema schema_name schemas second_microsecond security sensitive separator serializable server session share show signal slave slow smallint snapshot soname spatial specific sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sqlexception sqlstate sqlwarning ssl start starting starts status std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace temporary terminated to trailing transaction trigger triggers truncate uncommitted undo uninstall unique unlock upgrade usage use use_frm user user_resources user_statistics using utc_date utc_time utc_timestamp value variables varying view views warnings when while with work write xa xor year_month zerofill begin do then else loop repeat"),builtin:s("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision date datetime year unsigned signed numeric"),atoms:s("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^]/,dateSQL:s("date time timestamp"),support:s("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber doubleQuote nCharCast charsetCast commentHash commentSpaceRequired"),hooks:{"@":n,"`":t,"\\":r}}),e.defineMIME("text/x-mariadb",{name:"sql",client:s("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),keywords:s(i+"accessible action add after algorithm all always analyze asensitive at authors auto_increment autocommit avg avg_row_length before binary binlog both btree cache call cascade cascaded case catalog_name chain change changed character check checkpoint checksum class_origin client_statistics close coalesce code collate collation collations column columns comment commit committed completion concurrent condition connection consistent constraint contains continue contributors convert cross current current_date current_time current_timestamp current_user cursor data database databases day_hour day_microsecond day_minute day_second deallocate dec declare default delay_key_write delayed delimiter des_key_file describe deterministic dev_pop dev_samp deviance diagnostics directory disable discard distinctrow div dual dumpfile each elseif enable enclosed end ends engine engines enum errors escape escaped even event events every execute exists exit explain extended fast fetch field fields first flush for force foreign found_rows full fulltext function general generated get global grant grants group groupby_concat handler hard hash help high_priority hosts hour_microsecond hour_minute hour_second if ignore ignore_server_ids import index index_statistics infile inner innodb inout insensitive insert_method install interval invoker isolation iterate key keys kill language last leading leave left level limit linear lines list load local localtime localtimestamp lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters match max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modifies modify mutex mysql_errno natural next no no_write_to_binlog offline offset one online open optimize option optionally out outer outfile pack_keys parser partition partitions password persistent phase plugin plugins prepare preserve prev primary privileges procedure processlist profile profiles purge query quick range read read_write reads real rebuild recover references regexp relaylog release remove rename reorganize repair repeatable replace require resignal restrict resume return returns revoke right rlike rollback rollup row row_format rtree savepoint schedule schema schema_name schemas second_microsecond security sensitive separator serializable server session share show shutdown signal slave slow smallint snapshot soft soname spatial specific sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sqlexception sqlstate sqlwarning ssl start starting starts status std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace temporary terminated to trailing transaction trigger triggers truncate uncommitted undo uninstall unique unlock upgrade usage use use_frm user user_resources user_statistics using utc_date utc_time utc_timestamp value variables varying view views virtual warnings when while with work write xa xor year_month zerofill begin do then else loop repeat"),builtin:s("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision date datetime year unsigned signed numeric"),atoms:s("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^]/,dateSQL:s("date time timestamp"),support:s("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber doubleQuote nCharCast charsetCast commentHash commentSpaceRequired"),hooks:{"@":n,"`":t,"\\":r}}),e.defineMIME("text/x-cassandra",{name:"sql",client:{},keywords:s("use select from using consistency where limit first reversed first and in insert into values using consistency ttl update set delete truncate begin batch apply create keyspace with columnfamily primary key index on drop alter type add any one quorum all local_quorum each_quorum"),builtin:s("ascii bigint blob boolean counter decimal double float int text timestamp uuid varchar varint"),atoms:s("false true"),operatorChars:/^[<>=]/,dateSQL:{},support:s("commentSlashSlash decimallessFloat"),hooks:{}}),e.defineMIME("text/x-plsql",{name:"sql",client:s("appinfo arraysize autocommit autoprint autorecovery autotrace blockterminator break btitle cmdsep colsep compatibility compute concat copycommit copytypecheck define describe echo editfile embedded escape exec execute feedback flagger flush heading headsep instance linesize lno loboffset logsource long longchunksize markup native newpage numformat numwidth pagesize pause pno recsep recsepchar release repfooter repheader serveroutput shiftinout show showmode size spool sqlblanklines sqlcase sqlcode sqlcontinue sqlnumber sqlpluscompatibility sqlprefix sqlprompt sqlterminator suffix tab term termout time timing trimout trimspool ttitle underline verify version wrap"),keywords:s("abort accept access add all alter and any array arraylen as asc assert assign at attributes audit authorization avg base_table begin between binary_integer body boolean by case cast char char_base check close cluster clusters colauth column comment commit compress connect connected constant constraint crash create current currval cursor data_base database date dba deallocate debugoff debugon decimal declare default definition delay delete desc digits dispose distinct do drop else elseif elsif enable end entry escape exception exception_init exchange exclusive exists exit external fast fetch file for force form from function generic goto grant group having identified if immediate in increment index indexes indicator initial initrans insert interface intersect into is key level library like limited local lock log logging long loop master maxextents maxtrans member minextents minus mislabel mode modify multiset new next no noaudit nocompress nologging noparallel not nowait number_base object of off offline on online only open option or order out package parallel partition pctfree pctincrease pctused pls_integer positive positiven pragma primary prior private privileges procedure public raise range raw read rebuild record ref references refresh release rename replace resource restrict return returning returns reverse revoke rollback row rowid rowlabel rownum rows run savepoint schema segment select separate session set share snapshot some space split sql start statement storage subtype successful synonym tabauth table tables tablespace task terminate then to trigger truncate type union unique unlimited unrecoverable unusable update use using validate value values variable view views when whenever where while with work"),builtin:s("abs acos add_months ascii asin atan atan2 average bfile bfilename bigserial bit blob ceil character chartorowid chr clob concat convert cos cosh count dec decode deref dual dump dup_val_on_index empty error exp false float floor found glb greatest hextoraw initcap instr instrb int integer isopen last_day least lenght lenghtb ln lower lpad ltrim lub make_ref max min mlslabel mod months_between natural naturaln nchar nclob new_time next_day nextval nls_charset_decl_len nls_charset_id nls_charset_name nls_initcap nls_lower nls_sort nls_upper nlssort no_data_found notfound null number numeric nvarchar2 nvl others power rawtohex real reftohex round rowcount rowidtochar rowtype rpad rtrim serial sign signtype sin sinh smallint soundex sqlcode sqlerrm sqrt stddev string substr substrb sum sysdate tan tanh to_char text to_date to_label to_multi_byte to_number to_single_byte translate true trunc uid unlogged upper user userenv varchar varchar2 variance varying vsize xml"),operatorChars:/^[*+\-%<>!=~]/,dateSQL:s("date time timestamp"),support:s("doubleQuote nCharCast zerolessFloat binaryNumber hexNumber")}),e.defineMIME("text/x-hive",{name:"sql",keywords:s("select alter $elem$ $key$ $value$ add after all analyze and archive as asc before between binary both bucket buckets by cascade case cast change cluster clustered clusterstatus collection column columns comment compute concatenate continue create cross cursor data database databases dbproperties deferred delete delimited desc describe directory disable distinct distribute drop else enable end escaped exclusive exists explain export extended external false fetch fields fileformat first format formatted from full function functions grant group having hold_ddltime idxproperties if import in index indexes inpath inputdriver inputformat insert intersect into is items join keys lateral left like limit lines load local location lock locks mapjoin materialized minus msck no_drop nocompress not of offline on option or order out outer outputdriver outputformat overwrite partition partitioned partitions percent plus preserve procedure purge range rcfile read readonly reads rebuild recordreader recordwriter recover reduce regexp rename repair replace restrict revoke right rlike row schema schemas semi sequencefile serde serdeproperties set shared show show_database sort sorted ssl statistics stored streamtable table tables tablesample tblproperties temporary terminated textfile then tmp to touch transform trigger true unarchive undo union uniquejoin unlock update use using utc utc_tmestamp view when where while with"),builtin:s("bool boolean long timestamp tinyint smallint bigint int float double date datetime unsigned string array struct map uniontype"),atoms:s("false true null unknown"),operatorChars:/^[*+\-%<>!=]/,dateSQL:s("date timestamp"),support:s("ODBCdotTable doubleQuote binaryNumber hexNumber")})}()}),function(e){typeof exports=="object"&&typeof module=="object"?e(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define("editorlib/codemirror/mode/shell/shell",["codemirror"],e):e(CodeMirror)}(function(e){e.defineMode("shell",function(){function t(t,n){var r=n.split(" ");for(var i=0;i<r.length;i++)e[r[i]]=t}function n(t,n){if(t.eatSpace())return null;var o=t.sol(),u=t.next();if(u==="\\")return t.next(),null;if(u==="'"||u==='"'||u==="`")return n.tokens.unshift(r(u)),s(t,n);if(u==="#")return o&&t.eat("!")?(t.skipToEnd(),"meta"):(t.skipToEnd(),"comment");if(u==="$")return n.tokens.unshift(i),s(t,n);if(u==="+"||u==="=")return"operator";if(u==="-")return t.eat("-"),t.eatWhile(/\w/),"attribute";if(/\d/.test(u)){t.eatWhile(/\d/);if(t.eol()||!/\w/.test(t.peek()))return"number"}t.eatWhile(/[\w-]/);var a=t.current();return t.peek()==="="&&/\w+/.test(a)?"def":e.hasOwnProperty(a)?e[a]:null}function r(e){return function(t,n){var r,s=!1,o=!1;while((r=t.next())!=null){if(r===e&&!o){s=!0;break}if(r==="$"&&!o&&e!=="'"){o=!0,t.backUp(1),n.tokens.unshift(i);break}o=!o&&r==="\\"}return(s||!o)&&n.tokens.shift(),e==="`"||e===")"?"quote":"string"}}function s(e,t){return(t.tokens[0]||n)(e,t)}var e={};t("atom","true false"),t("keyword","if then do else elif while until for in esac fi fin fil done exit set unset export function"),t("builtin","ab awk bash beep cat cc cd chown chmod chroot clear cp curl cut diff echo find gawk gcc get git grep kill killall ln ls make mkdir openssl mv nc node npm ping ps restart rm rmdir sed service sh shopt shred source sort sleep ssh start stop su sudo tee telnet top touch vi vim wall wc wget who write yes zsh");var i=function(e,t){t.tokens.length>1&&e.eat("$");var n=e.next(),i=/\w/;return n==="{"&&(i=/[^}]/),n==="("?(t.tokens[0]=r(")"),s(e,t)):(/\d/.test(n)||(e.eatWhile(i),e.eat("}")),t.tokens.shift(),"def")};return{startState:function(){return{tokens:[]}},token:function(e,t){return s(e,t)},lineComment:"#",fold:"brace"}}),e.defineMIME("text/x-sh","shell")}),define("editormd",["jquery","codemirror","marked","prettify","editorlib/codemirror/mode/gfm/gfm","editorlib/codemirror/mode/javascript/javascript","editorlib/codemirror/mode/php/php","editorlib/codemirror/mode/sass/sass","editorlib/codemirror/mode/python/python","editorlib/codemirror/mode/sql/sql","editorlib/codemirror/mode/shell/shell"],function($,CodeMirror,marked,prettify){var $=typeof jQuery!="undefined"?jQuery:Zepto;if(typeof $=="undefined")return;var editormd=function(e,t){return new editormd.fn.init(e,t)};editormd.title=editormd.$name="Editor.md",editormd.version="1.5.0",editormd.homePage="https://pandao.github.io/editor.md/",editormd.classPrefix="editormd-",editormd.toolbarModes={full:["undo","redo","|","bold","del","italic","quote","ucwords","uppercase","lowercase","|","h1","h2","h3","h4","h5","h6","|","list-ul","list-ol","hr","|","link","reference-link","image","code","preformatted-text","code-block","table","datetime","emoji","html-entities","pagebreak","|","goto-line","watch","preview","fullscreen","clear","search","|","help","info"],simple:["undo","redo","|","bold","del","italic","quote","uppercase","lowercase","|","h1","h2","h3","h4","h5","h6","|","list-ul","list-ol","hr","|","link","reference-link","image","code","preformatted-text","code-block","|","watch","preview","fullscreen","help"],mini:["undo","redo","|","watch","preview","|","help","info"]},editormd.defaults={mode:"gfm",name:"",value:"",theme:"",editorTheme:"default",previewTheme:"",markdown:"",appendMarkdown:"",width:"100%",height:"100%",path:"./lib/",pluginPath:"",delay:300,autoLoadModules:!0,watch:!0,placeholder:"Enjoy Markdown! coding now...",gotoLine:!0,codeFold:!1,autoHeight:!1,autoFocus:!0,autoCloseTags:!0,searchReplace:!0,syncScrolling:!0,readOnly:!1,tabSize:4,indentUnit:4,lineNumbers:!0,lineWrapping:!0,autoCloseBrackets:!0,showTrailingSpace:!0,matchBrackets:!0,indentWithTabs:!0,styleSelectedText:!0,matchWordHighlight:!0,styleActiveLine:!0,dialogLockScreen:!0,dialogShowMask:!0,dialogDraggable:!0,dialogMaskBgColor:"#fff",dialogMaskOpacity:.1,fontSize:"13px",saveHTMLToTextarea:!1,disabledKeyMaps:[],onload:function(){},onresize:function(){},onchange:function(){},onwatch:null,onunwatch:null,onpreviewing:function(){},onpreviewed:function(){},onfullscreen:function(){},onfullscreenExit:function(){},onscroll:function(){},onpreviewscroll:function(){},imageUpload:!1,imageFormats:["jpg","jpeg","gif","png","bmp","webp"],imageUploadURL:"",crossDomainUpload:!1,uploadCallbackURL:"",toc:!0,tocm:!1,tocTitle:"",tocDropdown:!1,tocContainer:"",tocStartLevel:1,htmlDecode:!1,pageBreak:!0,atLink:!0,emailLink:!0,taskList:!1,emoji:!1,tex:!1,flowChart:!1,sequenceDiagram:!1,previewCodeHighlight:!0,toolbar:!0,toolbarAutoFixed:!0,toolbarIcons:"simple",toolbarTitles:{},toolbarHandlers:{ucwords:function(){return editormd.toolbarHandlers.ucwords},lowercase:function(){return editormd.toolbarHandlers.lowercase}},toolbarCustomIcons:{lowercase:'<a href="javascript:;" title="Lowercase" unselectable="on"><i class="fa" name="lowercase" style="font-size:24px;margin-top: -10px;">a</i></a>',ucwords:'<a href="javascript:;" title="ucwords" unselectable="on"><i class="fa" name="ucwords" style="font-size:20px;margin-top: -3px;">Aa</i></a>'},toolbarIconsClass:{undo:"fa-undo",redo:"fa-repeat",bold:"fa-bold",del:"fa-strikethrough",italic:"fa-italic",quote:"fa-quote-left",uppercase:"fa-font",h1:editormd.classPrefix+"bold",h2:editormd.classPrefix+"bold",h3:editormd.classPrefix+"bold",h4:editormd.classPrefix+"bold",h5:editormd.classPrefix+"bold",h6:editormd.classPrefix+"bold","list-ul":"fa-list-ul","list-ol":"fa-list-ol",hr:"fa-minus",link:"fa-link","reference-link":"fa-anchor",image:"fa-picture-o",code:"fa-code","preformatted-text":"fa-file-code-o","code-block":"fa-file-code-o",table:"fa-table",datetime:"fa-clock-o",emoji:"fa-smile-o","html-entities":"fa-copyright",pagebreak:"fa-newspaper-o","goto-line":"fa-terminal",watch:"fa-eye-slash",unwatch:"fa-eye",preview:"fa-desktop",search:"fa-search",fullscreen:"fa-arrows-alt",clear:"fa-eraser",help:"fa-question-circle",info:"fa-info-circle"},toolbarIconTexts:{},lang:{name:"zh-cn",description:"开源在线Markdown编辑器<br/>Open source online Markdown editor.",tocTitle:"目录",toolbar:{undo:"撤销（Ctrl+Z）",redo:"重做（Ctrl+Y）",bold:"粗体",del:"删除线",italic:"斜体",quote:"引用",ucwords:"将每个单词首字母转成大写",uppercase:"将所选转换成大写",lowercase:"将所选转换成小写",h1:"标题1",h2:"标题2",h3:"标题3",h4:"标题4",h5:"标题5",h6:"标题6","list-ul":"无序列表","list-ol":"有序列表",hr:"横线",link:"链接","reference-link":"引用链接",image:"添加图片",code:"行内代码","preformatted-text":"预格式文本 / 代码块（缩进风格）","code-block":"代码块（多语言风格）",table:"添加表格",datetime:"日期时间",emoji:"Emoji表情","html-entities":"HTML实体字符",pagebreak:"插入分页符","goto-line":"跳转到行",watch:"关闭实时预览",unwatch:"开启实时预览",preview:"全窗口预览HTML（按 Shift + ESC还原）",fullscreen:"全屏（按ESC还原）",clear:"清空",search:"搜索",help:"使用帮助",info:"关于"+editormd.title},buttons:{enter:"确定",cancel:"取消",close:"关闭"},dialog:{link:{title:"添加链接",url:"链接地址",urlTitle:"链接标题",urlEmpty:"错误：请填写链接地址。"},referenceLink:{title:"添加引用链接",name:"引用名称",url:"链接地址",urlId:"链接ID",urlTitle:"链接标题",nameEmpty:"错误：引用链接的名称不能为空。",idEmpty:"错误：请填写引用链接的ID。",urlEmpty:"错误：请填写引用链接的URL地址。"},image:{title:"添加图片",url:"图片地址",link:"图片链接",alt:"图片描述",uploadButton:"本地上传",imageURLEmpty:"错误：图片地址不能为空。",uploadFileEmpty:"错误：上传的图片不能为空。",formatNotAllowed:"错误：只允许上传图片文件，允许上传的图片文件格式有："},preformattedText:{title:"添加预格式文本或代码块",emptyAlert:"错误：请填写预格式文本或代码的内容。"},codeBlock:{title:"添加代码块",selectLabel:"代码语言：",selectDefaultText:"请选择代码语言",otherLanguage:"其他语言",unselectedLanguageAlert:"错误：请选择代码所属的语言类型。",codeEmptyAlert:"错误：请填写代码内容。"},htmlEntities:{title:"HTML 实体字符"},help:{title:"使用帮助"}}}},editormd.classNames={tex:editormd.classPrefix+"tex"},editormd.dialogZindex=99999,editormd.$katex=null,editormd.$marked=null,editormd.$CodeMirror=null,editormd.$prettyPrint=null;var timer,flowchartTimer;editormd.prototype=editormd.fn={state:{watching:!1,loaded:!1,preview:!1,fullscreen:!1},init:function(e,t){t=t||{},typeof e=="object"&&(t=e);var n=this,r=this.classPrefix=editormd.classPrefix,i=this.settings=$.extend(!0,editormd.defaults,t);e=typeof e=="object"?i.id:e;var s=this.editor=$("#"+e);this.id=e,this.lang=i.lang;var o=this.classNames={textarea:{html:r+"html-textarea",markdown:r+"markdown-textarea"}};i.pluginPath=i.pluginPath===""?i.path+"../plugins/":i.pluginPath,this.state.watching=i.watch?!0:!1,s.hasClass("editormd")||s.addClass("editormd"),s.css({width:typeof i.width=="number"?i.width+"px":i.width,height:typeof i.height=="number"?i.height+"px":i.height}),i.autoHeight&&s.css("height","auto");var u=this.markdownTextarea=s.children("textarea");u.length<1&&(s.append("<textarea></textarea>"),u=this.markdownTextarea=s.children("textarea")),u.addClass(o.textarea.markdown).attr("placeholder",i.placeholder),(typeof u.attr("name")=="undefined"||u.attr("name")==="")&&u.attr("name",i.name!==""?i.name:e+"-markdown-doc");var a=[i.readOnly?"":'<a href="javascript:;" class="fa fa-close '+r+'preview-close-btn"></a>',i.saveHTMLToTextarea?'<textarea class="'+o.textarea.html+'" name="'+e+'-html-code"></textarea>':"",'<div class="'+r+'preview"><div class="markdown-body '+r+'preview-container"></div></div>','<div class="'+r+'container-mask" style="display:block;"></div>','<div class="'+r+'mask"></div>'].join("\n");s.append(a).addClass(r+"vertical"),i.theme!==""&&s.addClass(r+"theme-"+i.theme),this.mask=s.children("."+r+"mask"),this.containerMask=s.children("."+r+"container-mask"),i.markdown!==""&&u.val(i.markdown),i.appendMarkdown!==""&&u.val(u.val()+i.appendMarkdown),this.htmlTextarea=s.children("."+o.textarea.html),this.preview=s.children("."+r+"preview"),this.previewContainer=this.preview.children("."+r+"preview-container"),i.previewTheme!==""&&this.preview.addClass(r+"preview-theme-"+i.previewTheme),typeof CodeMirror!="undefined"&&(editormd.$CodeMirror=CodeMirror),typeof marked!="undefined"&&(editormd.$marked=marked);var n=this;return n.setCodeMirror().setToolbar().loadedDisplay(),this},setTheme:function(e){var t=this.editor,n=this.settings.theme,r=this.classPrefix+"theme-";return t.removeClass(r+n).addClass(r+e),this.settings.theme=e,this},setEditorTheme:function(e){var t=this.settings;return t.editorTheme=e,e!=="default"&&editormd.loadCSS(t.path+"codemirror/theme/"+t.editorTheme),this.cm.setOption("theme",e),this},setCodeMirrorTheme:function(e){return this.setEditorTheme(e),this},setPreviewTheme:function(e){var t=this.preview,n=this.settings.previewTheme,r=this.classPrefix+"preview-theme-";return t.removeClass(r+n).addClass(r+e),this.settings.previewTheme=e,this},setCodeMirror:function(){var e=this.settings,t=this.editor;e.editorTheme!=="default"&&editormd.loadCSS(e.path+"codemirror/theme/"+e.editorTheme);var n={mode:e.mode,theme:e.editorTheme,tabSize:e.tabSize,dragDrop:!1,autofocus:e.autoFocus,autoCloseTags:e.autoCloseTags,readOnly:e.readOnly?"nocursor":!1,indentUnit:e.indentUnit,lineNumbers:e.lineNumbers,lineWrapping:e.lineWrapping,extraKeys:{"Ctrl-Q":function(e){e.foldCode(e.getCursor())}},foldGutter:e.codeFold,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],matchBrackets:e.matchBrackets,indentWithTabs:e.indentWithTabs,styleActiveLine:e.styleActiveLine,styleSelectedText:e.styleSelectedText,autoCloseBrackets:e.autoCloseBrackets,showTrailingSpace:e.showTrailingSpace,highlightSelectionMatches:e.matchWordHighlight?{showToken:e.matchWordHighlight==="onselected"?!1:/\w/}:!1};return this.codeEditor=this.cm=editormd.$CodeMirror.fromTextArea(this.markdownTextarea[0],n),this.codeMirror=this.cmElement=t.children(".CodeMirror"),e.value!==""&&this.cm.setValue(e.value),this.codeMirror.css({fontSize:e.fontSize,width:e.watch?"50%":"100%"}),e.autoHeight&&(this.codeMirror.css("height","auto"),this.cm.setOption("viewportMargin",Infinity)),e.lineNumbers||this.codeMirror.find(".CodeMirror-gutters").css("border-right","none"),this},getCodeMirrorOption:function(e){return this.cm.getOption(e)},setCodeMirrorOption:function(e,t){return this.cm.setOption(e,t),this},addKeyMap:function(e,t){return this.cm.addKeyMap(e,t),this},removeKeyMap:function(e){return this.cm.removeKeyMap(e),this},gotoLine:function(e){var t=this.settings;if(!t.gotoLine)return this;var n=this.cm,r=this.editor,i=n.lineCount(),s=this.preview;typeof e=="string"&&(e==="last"&&(e=i),e==="first"&&(e=1));if(typeof e!="number")return alert("Error: The line number must be an integer."),this;e=parseInt(e)-1;if(e>i)return alert("Error: The line number range 1-"+i),this;n.setCursor({line:e,ch:0});var o=n.getScrollInfo(),u=o.clientHeight,a=n.charCoords({line:e,ch:0},"local");n.scrollTo(null,(a.top+a.bottom-u)/2);if(t.watch){var f=this.codeMirror.find(".CodeMirror-scroll")[0],l=$(f).height(),c=f.scrollTop,h=c/f.scrollHeight;c===0?s.scrollTop(0):c+l>=f.scrollHeight-16?s.scrollTop(s[0].scrollHeight):s.scrollTop(s[0].scrollHeight*h)}return n.focus(),this},extend:function(){return typeof arguments[1]!="undefined"&&(typeof arguments[1]=="function"&&(arguments[1]=$.proxy(arguments[1],this)),this[arguments[0]]=arguments[1]),typeof arguments[0]=="object"&&typeof arguments[0].length=="undefined"&&$.extend(!0,this,arguments[0]),this},set:function(e,t){return typeof t!="undefined"&&typeof t=="function"&&(t=$.proxy(t,this)),this[e]=t,this},config:function(e,t){var n=this.settings;return typeof e=="object"&&(n=$.extend(!0,n,e)),typeof e=="string"&&(n[e]=t),this.settings=n,this.recreate(),this},on:function(e,t){var n=this.settings;return typeof n["on"+e]!="undefined"&&(n["on"+e]=$.proxy(t,this)),this},off:function(e){var t=this.settings;return typeof t["on"+e]!="undefined"&&(t["on"+e]=function(){}),this},showToolbar:function(e){var t=this.settings;return t.readOnly?this:(t.toolbar&&(this.toolbar.length<1||this.toolbar.find("."+this.classPrefix+"menu").html()==="")&&this.setToolbar(),t.toolbar=!0,this.toolbar.show(),this.resize(),$.proxy(e||function(){},this)(),this)},hideToolbar:function(e){var t=this.settings;return t.toolbar=!1,this.toolbar.hide(),this.resize(),$.proxy(e||function(){},this)(),this},setToolbar:function(){var e=this.settings;if(e.readOnly)return this;var t=this.editor,n=this.preview,r=this.classPrefix,i=this.toolbar=t.children("."+r+"toolbar");if(e.toolbar&&i.length<1){var s='<div class="'+r+'toolbar"><div class="'+r+'toolbar-container"><ul class="'+r+'menu"></ul></div></div>';t.append(s),i=this.toolbar=t.children("."+r+"toolbar")}if(!e.toolbar)return i.hide(),this;i.show();var o=typeof e.toolbarIcons=="function"?e.toolbarIcons():typeof e.toolbarIcons=="string"?editormd.toolbarModes[e.toolbarIcons]:e.toolbarIcons,u=i.find("."+this.classPrefix+"menu"),a="",f=!1;for(var l=0,c=o.length;l<c;l++){var h=o[l];if(h==="||")f=!0;else if(h==="|")a+='<li class="divider" unselectable="on">|</li>';else{var p=/h(\d)/.test(h),d=h;h==="watch"&&!e.watch&&(d="unwatch");var v=e.lang.toolbar[d],m=e.toolbarIconTexts[d],g=e.toolbarIconsClass[d];v=typeof v=="undefined"?"":v,m=typeof m=="undefined"?"":m,g=typeof g=="undefined"?"":g;var y=f?'<li class="pull-right">':"<li>";typeof e.toolbarCustomIcons[h]!="undefined"&&typeof e.toolbarCustomIcons[h]!="function"?y+=e.toolbarCustomIcons[h]:(y+='<a href="javascript:;" title="'+v+'" unselectable="on">',y+='<i class="fa '+g+'" name="'+h+'" unselectable="on">'+(p?h.toUpperCase():g===""?m:"")+"</i>",y+="</a>"),y+="</li>",a=f?y+a:a+y}}return u.html(a),u.find('[title="Lowercase"]').attr("title",e.lang.toolbar.lowercase),u.find('[title="ucwords"]').attr("title",e.lang.toolbar.ucwords),this.setToolbarHandler(),this},dialogLockScreen:function(){return $.proxy(editormd.dialogLockScreen,this)(),this},dialogShowMask:function(e){return $.proxy(editormd.dialogShowMask,this)(e),this},getToolbarHandles:function(e){var t=this.toolbarHandlers=editormd.toolbarHandlers;return e&&typeof toolbarIconHandlers[e]!="undefined"?t[e]:t},setToolbarHandler:function(){var e=this,t=this.settings;if(!t.toolbar||t.readOnly)return this;var n=this.toolbar,r=this.cm,i=this.classPrefix,s=this.toolbarIcons=n.find("."+i+"menu > li > a"),o=this.getToolbarHandles();return s.bind(editormd.mouseOrTouch("click","touchend"),function(n){var i=$(this).children(".fa"),s=i.attr("name"),u=r.getCursor(),a=r.getSelection();if(s==="")return;return e.activeIcon=i,typeof o[s]!="undefined"?$.proxy(o[s],e)(r):typeof t.toolbarHandlers[s]!="undefined"&&$.proxy(t.toolbarHandlers[s],e)(r,i,u,a),s!=="link"&&s!=="reference-link"&&s!=="image"&&s!=="code-block"&&s!=="preformatted-text"&&s!=="watch"&&s!=="preview"&&s!=="search"&&s!=="fullscreen"&&s!=="info"&&r.focus(),!1}),this},createDialog:function(e){return $.proxy(editormd.createDialog,this)(e)},createInfoDialog:function(){var e=this,t=this.editor,n=this.classPrefix,r=['<div class="'+n+"dialog "+n+'dialog-info" style="">','<div class="'+n+'dialog-container">','<h1><i class="editormd-logo editormd-logo-lg editormd-logo-color"></i> '+editormd.title+"<small>v"+editormd.version+"</small></h1>","<p>"+this.lang.description+"</p>",'<p style="margin: 10px 0 20px 0;"><a href="'+editormd.homePage+'" target="_blank">'+editormd.homePage+' <i class="fa fa-external-link"></i></a></p>','<p style="font-size: 0.85em;">Copyright &copy; 2015 <a href="https://github.com/pandao" target="_blank" class="hover-link">Pandao</a>, The <a href="https://github.com/pandao/editor.md/blob/master/LICENSE" target="_blank" class="hover-link">MIT</a> License.</p>',"</div>",'<a href="javascript:;" class="fa fa-close '+n+'dialog-close"></a>',"</div>"].join("\n");t.append(r);var i=this.infoDialog=t.children("."+n+"dialog-info");return i.find("."+n+"dialog-close").bind(editormd.mouseOrTouch("click","touchend"),function(){e.hideInfoDialog()}),i.css("border",editormd.isIE8?"1px solid #ddd":"").css("z-index",editormd.dialogZindex).show(),this.infoDialogPosition(),this},infoDialogPosition:function(){var e=this.infoDialog,t=function(){e.css({top:($(window).height()-e.height())/2+"px",left:($(window).width()-e.width())/2+"px"})};return t(),$(window).resize(t),this},showInfoDialog:function(){$("html,body").css("overflow-x","hidden");var e=this,t=this.editor,n=this.settings,r=this.infoDialog=t.children("."+this.classPrefix+"dialog-info");return r.length<1&&this.createInfoDialog(),this.lockScreen(!0),this.mask.css({opacity:n.dialogMaskOpacity,backgroundColor:n.dialogMaskBgColor}).show(),r.css("z-index",editormd.dialogZindex).show(),this.infoDialogPosition(),this},hideInfoDialog:function(){return $("html,body").css("overflow-x",""),this.infoDialog.hide(),this.mask.hide(),this.lockScreen(!1),this},lockScreen:function(e){return editormd.lockScreen(e),this.resize(),this},recreate:function(){var e=this,t=this.editor,n=this.settings;return this.codeMirror.remove(),this.setCodeMirror(),n.readOnly||(t.find(".editormd-dialog").length>0&&t.find(".editormd-dialog").remove(),n.toolbar&&(this.getToolbarHandles(),this.setToolbar())),this.loadedDisplay(!0),this},previewCodeHighlight:function(){var e=this.settings,t=this.previewContainer;return e.previewCodeHighlight&&(t.find("pre").addClass("prettyprint linenums"),typeof prettyPrint!="undefined"&&prettyPrint()),this},katexRender:function(){return timer===null?this:(this.previewContainer.find("."+editormd.classNames.tex).each(function(){var e=$(this);editormd.$katex.render(e.text(),e[0]),e.find(".katex").css("font-size","1.6em")}),this)},flowChartAndSequenceDiagramRender:function(){var e=this,t=this.settings,n=this.previewContainer;if(editormd.isIE8)return this;if(t.flowChart){if(flowchartTimer===null)return this;n.find(".flowchart").flowChart()}t.sequenceDiagram&&n.find(".sequence-diagram").sequenceDiagram({theme:"simple"});var r=e.preview,i=e.codeMirror,s=i.find(".CodeMirror-scroll"),o=s.height(),u=s.scrollTop(),a=u/s[0].scrollHeight,f=0;r.find(".markdown-toc-list").each(function(){f+=$(this).height()});var l=r.find(".editormd-toc-menu").height();return l=l?l:0,u===0?r.scrollTop(0):u+o>=s[0].scrollHeight-16?r.scrollTop(r[0].scrollHeight):r.scrollTop((r[0].scrollHeight+f+l)*a),this},registerKeyMaps:function(e){var t=this,n=this.cm,r=this.settings,i=editormd.toolbarHandlers,s=r.disabledKeyMaps;e=e||null;if(e){for(var o in e)if($.inArray(o,s)<0){var u={};u[o]=e[o],n.addKeyMap(e)}}else{for(var a in editormd.keyMaps){var f=editormd.keyMaps[a],l=typeof f=="string"?$.proxy(i[f],t):$.proxy(f,t);if($.inArray(a,["F9","F10","F11"])<0&&$.inArray(a,s)<0){var c={};c[a]=l,n.addKeyMap(c)}}$(window).keydown(function(e){var n={120:"F9",121:"F10",122:"F11"};if($.inArray(n[e.keyCode],s)<0)switch(e.keyCode){case 120:return $.proxy(i.watch,t)(),!1;case 121:return $.proxy(i.preview,t)(),!1;case 122:return $.proxy(i.fullscreen,t)(),!1;default:}})}return this},bindScrollEvent:function(){var e=this,t=this.preview,n=this.settings,r=this.codeMirror,i=editormd.mouseOrTouch;if(!n.syncScrolling)return this;var s=function(){r.find(".CodeMirror-scroll").bind(i("scroll","touchmove"),function(r){var i=$(this).height(),s=$(this).scrollTop(),o=s/$(this)[0].scrollHeight,u=0;t.find(".markdown-toc-list").each(function(){u+=$(this).height()});var a=t.find(".editormd-toc-menu").height();a=a?a:0,s===0?t.scrollTop(0):s+i>=$(this)[0].scrollHeight-16?t.scrollTop(t[0].scrollHeight):t.scrollTop((t[0].scrollHeight+u+a)*o),$.proxy(n.onscroll,e)(r)})},o=function(){r.find(".CodeMirror-scroll").unbind(i("scroll","touchmove"))},u=function(){t.bind(i("scroll","touchmove"),function(t){var i=$(this).height(),s=$(this).scrollTop(),o=s/$(this)[0].scrollHeight,u=r.find(".CodeMirror-scroll");s===0?u.scrollTop(0):s+i>=$(this)[0].scrollHeight?u.scrollTop(u[0].scrollHeight):u.scrollTop(u[0].scrollHeight*o),$.proxy(n.onpreviewscroll,e)(t)})},a=function(){t.unbind(i("scroll","touchmove"))};return r.bind({mouseover:s,mouseout:o,touchstart:s,touchend:o}),n.syncScrolling==="single"?this:(t.bind({mouseover:u,mouseout:a,touchstart:u,touchend:a}),this)},bindChangeEvent:function(){var e=this,t=this.cm,n=this.settings;return n.syncScrolling?(t.on("change",function(t,r){n.watch&&e.previewContainer.css("padding",n.autoHeight?"20px 20px 50px 40px":"20px"),timer=setTimeout(function(){clearTimeout(timer),e.save(),timer=null},n.delay)}),this):this},loadedDisplay:function(e){e=e||!1;var t=this,n=this.editor,r=this.preview,i=this.settings;return this.containerMask.hide(),this.save(),i.watch&&r.show(),n.data("oldWidth",n.width()).data("oldHeight",n.height()),this.resize(),this.registerKeyMaps(),$(window).resize(function(){t.resize()}),this.bindScrollEvent().bindChangeEvent(),e||$.proxy(i.onload,this)(),this.state.loaded=!0,this},width:function(e){return this.editor.css("width",typeof e=="number"?e+"px":e),this.resize(),this},height:function(e){return this.editor.css("height",typeof e=="number"?e+"px":e),this.resize(),this},resize:function(e,t){e=e||null,t=t||null;var n=this.state,r=this.editor,i=this.preview,s=this.toolbar,o=this.settings,u=this.codeMirror;e&&r.css("width",typeof e=="number"?e+"px":e),o.autoHeight&&!n.fullscreen&&!n.preview?(r.css("height","auto"),u.css("height","auto")):(t&&r.css("height",typeof t=="number"?t+"px":t),n.fullscreen&&r.height($(window).height()),o.toolbar&&!o.readOnly?u.css("margin-top",s.height()+1).height(r.height()-s.height()):u.css("margin-top",0).height(r.height()));if(o.watch){u.width(r.width()/2),i.width(n.preview?r.width():r.width()/2),this.previewContainer.css("padding",o.autoHeight?"20px 20px 50px 40px":"20px"),o.toolbar&&!o.readOnly?i.css("top",s.height()+1):i.css("top",0);if(o.autoHeight&&!n.fullscreen&&!n.preview)i.height("");else{var a=o.toolbar&&!o.readOnly?r.height()-s.height():r.height();i.height(a)}}else u.width(r.width()),i.hide();return n.loaded&&$.proxy(o.onresize,this)(),this},save:function(){if(timer===null)return this;var e=this,t=this.state,n=this.settings,r=this.cm,i=r.getValue(),s=this.previewContainer;if(n.mode!=="gfm"&&n.mode!=="markdown")return this.markdownTextarea.val(i),this;var o=editormd.$marked,u=this.markdownToC=[],a=this.markedRendererOptions={toc:n.toc,tocm:n.tocm,tocStartLevel:n.tocStartLevel,pageBreak:n.pageBreak,taskList:n.taskList,emoji:n.emoji,tex:n.tex,atLink:n.atLink,emailLink:n.emailLink,flowChart:n.flowChart,sequenceDiagram:n.sequenceDiagram,previewCodeHighlight:n.previewCodeHighlight},f=this.markedOptions={renderer:editormd.markedRenderer(u,a),gfm:!0,tables:!0,breaks:!0,pedantic:!1,sanitize:n.htmlDecode?!1:!0,smartLists:!0,smartypants:!0};o.setOptions(f);var l=editormd.$marked(i,f);l=editormd.filterHTMLTags(l,n.htmlDecode),this.markdownTextarea.text(i),r.save(),n.saveHTMLToTextarea&&this.htmlTextarea.text(l);if(n.watch||!n.watch&&t.preview){s.html(l),this.previewCodeHighlight();if(n.toc){var c=n.tocContainer===""?s:$(n.tocContainer),h=c.find("."+this.classPrefix+"toc-menu");c.attr("previewContainer",n.tocContainer===""?"true":"false"),n.tocContainer!==""&&h.length>0&&h.remove(),editormd.markdownToCRenderer(u,c,n.tocDropdown,n.tocStartLevel),(n.tocDropdown||c.find("."+this.classPrefix+"toc-menu").length>0)&&editormd.tocDropdownMenu(c,n.tocTitle!==""?n.tocTitle:this.lang.tocTitle),n.tocContainer!==""&&s.find(".markdown-toc").css("border","none")}n.tex&&(!editormd.kaTeXLoaded&&n.autoLoadModules?editormd.loadKaTeX(function(){editormd.$katex=katex,editormd.kaTeXLoaded=!0,e.katexRender()}):(editormd.$katex=katex,this.katexRender()));if(n.flowChart||n.sequenceDiagram)flowchartTimer=setTimeout(function(){clearTimeout(flowchartTimer),e.flowChartAndSequenceDiagramRender(),flowchartTimer=null},10);t.loaded&&$.proxy(n.onchange,this)()}return this},focus:function(){return this.cm.focus(),this},setCursor:function(e){return this.cm.setCursor(e),this},getCursor:function(){return this.cm.getCursor()},setSelection:function(e,t){return this.cm.setSelection(e,t),this},getSelection:function(){return this.cm.getSelection()},setSelections:function(e){return this.cm.setSelections(e),this},getSelections:function(){return this.cm.getSelections()},replaceSelection:function(e){return this.cm.replaceSelection(e),this},insertValue:function(e){return this.replaceSelection(e),this},appendMarkdown:function(e){var t=this.settings,n=this.cm;return n.setValue(n.getValue()+e),this},setMarkdown:function(e){return this.cm.setValue(e||this.settings.markdown),this},getMarkdown:function(){return this.cm.getValue()},getValue:function(){return this.cm.getValue()},setValue:function(e){return this.cm.setValue(e),this},clear:function(){return this.cm.setValue(""),this},getHTML:function(){return this.settings.saveHTMLToTextarea?this.htmlTextarea.val():(alert("Error: settings.saveHTMLToTextarea == false"),!1)},getTextareaSavedHTML:function(){return this.getHTML()},getPreviewedHTML:function(){return this.settings.watch?this.previewContainer.html():(alert("Error: settings.watch == false"),!1)},watch:function(e){var t=this.settings;if($.inArray(t.mode,["gfm","markdown"])<0)return this;this.state.watching=t.watch=!0,this.preview.show();if(this.toolbar){var n=t.toolbarIconsClass.watch,r=t.toolbarIconsClass.unwatch,i=this.toolbar.find(".fa[name=watch]");i.parent().attr("title",t.lang.toolbar.watch),i.removeClass(r).addClass(n)}return this.codeMirror.css("border-right","1px solid #ddd").width(this.editor.width()/2),timer=0,this.save().resize(),t.onwatch||(t.onwatch=e||function(){}),$.proxy(t.onwatch,this)(),this},unwatch:function(e){var t=this.settings;this.state.watching=t.watch=!1,this.preview.hide();if(this.toolbar){var n=t.toolbarIconsClass.watch,r=t.toolbarIconsClass.unwatch,i=this.toolbar.find(".fa[name=watch]");i.parent().attr("title",t.lang.toolbar.unwatch),i.removeClass(n).addClass(r)}return this.codeMirror.css("border-right","none").width(this.editor.width()),this.resize(),t.onunwatch||(t.onunwatch=e||function(){}),$.proxy(t.onunwatch,this)(),this},show:function(e){e=e||function(){};var t=this;return this.editor.show(0,function(){$.proxy(e,t)()}),this},hide:function(e){e=e||function(){};var t=this;return this.editor.hide(0,function(){$.proxy(e,t)()}),this},previewing:function(){var e=this,t=this.editor,n=this.preview,r=this.toolbar,i=this.settings,s=this.codeMirror,o=this.previewContainer;if($.inArray(i.mode,["gfm","markdown"])<0)return this;i.toolbar&&r&&(r.toggle(),r.find(".fa[name=preview]").toggleClass("active")),s.toggle();var u=function(t){t.shiftKey&&t.keyCode===27&&e.previewed()};s.css("display")==="none"?(this.state.preview=!0,this.state.fullscreen&&n.css("background","#fff"),t.find("."+this.classPrefix+"preview-close-btn").show().bind(editormd.mouseOrTouch("click","touchend"),function(){e.previewed()}),i.watch?o.css("padding",""):this.save(),o.addClass(this.classPrefix+"preview-active"),n.show().css({position:"",top:0,width:t.width(),height:i.autoHeight&&!this.state.fullscreen?"auto":t.height()}),this.state.loaded&&$.proxy(i.onpreviewing,this)(),$(window).bind("keyup",u)):($(window).unbind("keyup",u),this.previewed())},previewed:function(){var e=this.editor,t=this.preview,n=this.toolbar,r=this.settings,i=this.previewContainer,s=e.find("."+this.classPrefix+"preview-close-btn");return this.state.preview=!1,this.codeMirror.show(),r.toolbar&&n.show(),t[r.watch?"show":"hide"](),s.hide().unbind(editormd.mouseOrTouch("click","touchend")),i.removeClass(this.classPrefix+"preview-active"),r.watch&&i.css("padding","20px"),t.css({background:null,position:"absolute",width:e.width()/2,height:r.autoHeight&&!this.state.fullscreen?"auto":e.height()-n.height(),top:r.toolbar?n.height():0}),this.state.loaded&&$.proxy(r.onpreviewed,this)(),this},fullscreen:function(){var e=this,t=this.state,n=this.editor,r=this.preview,i=this.toolbar,s=this.settings,o=this.classPrefix+"fullscreen";i&&i.find(".fa[name=fullscreen]").parent().toggleClass("active");var u=function(n){!n.shiftKey&&n.keyCode===27&&t.fullscreen&&e.fullscreenExit()};return n.hasClass(o)?($(window).unbind("keyup",u),this.fullscreenExit()):(t.fullscreen=!0,$("html,body").css("overflow","hidden"),n.css({width:$(window).width(),height:$(window).height()}).addClass(o),this.resize(),$.proxy(s.onfullscreen,this)(),$(window).bind("keyup",u)),this},fullscreenExit:function(){var e=this.editor,t=this.settings,n=this.toolbar,r=this.classPrefix+"fullscreen";return this.state.fullscreen=!1,n&&n.find(".fa[name=fullscreen]").parent().removeClass("active"),$("html,body").css("overflow",""),e.css({width:e.data("oldWidth"),height:e.data("oldHeight")}).removeClass(r),this.resize(),$.proxy(t.onfullscreenExit,this)(),this},executePlugin:function(e,t){var n=this,r=this.cm,i=this.settings;return t=i.pluginPath+t,typeof define=="function"?typeof this[e]=="undefined"?(alert("Error: "+e+" plugin is not found, you are not load this plugin."),this):(this[e](r),this):($.inArray(t,editormd.loadFiles.plugin)<0?editormd.loadPlugin(t,function(){editormd.loadPlugins[e]=n[e],n[e](r)}):$.proxy(editormd.loadPlugins[e],this)(r),this)},search:function(e){var t=this.settings;return t.searchReplace?(t.readOnly||this.cm.execCommand(e||"find"),this):(alert("Error: settings.searchReplace == false"),this)},searchReplace:function(){return this.search("replace"),this},searchReplaceAll:function(){return this.search("replaceAll"),this},helpDialog:function(){var e=this,t=this.lang,n=this.editor;console.log(r);var r=this.settings,i=r.pluginPath+"help-dialog/",s=this.classPrefix,o=s+"help-dialog",u,a=t.dialog.help;if(n.find("."+o).length<1){var f='<div class="markdown-body" style="font-family:微软雅黑, Helvetica, Tahoma, STXihei,Arial;height:390px;overflow:auto;font-size:14px;border-bottom:1px solid #ddd;padding:0 20px 20px 0;"></div>';u=this.createDialog({name:o,title:a.title,width:840,height:540,mask:r.dialogShowMask,drag:r.dialogDraggable,content:f,lockScreen:r.dialogLockScreen,maskStyle:{opacity:r.dialogMaskOpacity,backgroundColor:r.dialogMaskBgColor},buttons:{close:[t.buttons.close,function(){return this.hide().lockScreen(!1).hideMask(),!1}]}})}u=n.find("."+o),this.dialogShowMask(u),this.dialogLockScreen(),u.show();var l=u.find(".markdown-body");l.html()===""&&$.get(r.pluginPath+"../help.md",function(e){var t=editormd.$marked(e);l.html(t),l.find("a").attr("target","_blank")})},tableDialog:function(){var e=this,t=this.cm,n=this.editor,r=this.settings,i=this.classPrefix,s=i+"table-dialog",o,u={"zh-cn":{toolbar:{table:"表格"},dialog:{table:{title:"添加表格",cellsLabel:"单元格数",alignLabel:"对齐方式",rows:"行数",cols:"列数",aligns:["默认","左对齐","居中对齐","右对齐"]}}},"zh-tw":{toolbar:{table:"添加表格"},dialog:{table:{title:"添加表格",cellsLabel:"單元格數",alignLabel:"對齊方式",rows:"行數",cols:"列數",aligns:["默認","左對齊","居中對齊","右對齊"]}}},en:{toolbar:{table:"Tables"},dialog:{table:{title:"Tables",cellsLabel:"Cells",alignLabel:"Align",rows:"Rows",cols:"Cols",aligns:["Default","Left align","Center align","Right align"]}}}};$.extend(!0,this.lang,u[this.lang.name]),this.setToolbar();var a=this.lang,f=a.dialog.table,l=['<div class="editormd-form" style="padding: 13px 0;">',"<label>"+f.cellsLabel+"</label>",f.rows+' <input type="number" value="3" class="number-input" style="width:40px;" max="100" min="2" data-rows />&nbsp;&nbsp;',f.cols+' <input type="number" value="2" class="number-input" style="width:40px;" max="100" min="1" data-cols /><br/>',"<label>"+f.alignLabel+"</label>",'<div class="fa-btns"></div>',"</div>"].join("\n");n.find("."+s).length>0?(o=n.find("."+s),this.dialogShowMask(o),this.dialogLockScreen(),o.show()):o=this.createDialog({name:s,title:f.title,width:360,height:226,mask:r.dialogShowMask,drag:r.dialogDraggable,content:l,lockScreen:r.dialogLockScreen,maskStyle:{opacity:r.dialogMaskOpacity,backgroundColor:r.dialogMaskBgColor},buttons:{enter:[a.buttons.enter,function(){var e=parseInt(this.find("[data-rows]").val()),n=parseInt(this.find("[data-cols]").val()),r=this.find('[name="table-align"]:checked').val(),i="",s="------------",o={_default:s,left:":"+s,center:":"+s+":",right:s+":"};if(e>1&&n>0)for(var u=0,a=e;u<a;u++){var f=[],l=[];for(var c=0,h=n;c<h;c++)u===1&&l.push(o[r]),f.push(" ");u===1&&(i+="| "+l.join(" | ")+" |"+"\n"),i+="| "+f.join(n===1?"":" | ")+" |"+"\n"}return t.replaceSelection(i),this.hide().lockScreen(!1).hideMask(),!1}],cancel:[a.buttons.cancel,function(){return this.hide().lockScreen(!1).hideMask(),!1}]}});var c=o.find(".fa-btns");if(c.html()===""){var h=["align-justify","align-left","align-center","align-right"],p=f.aligns,d=["_default","left","center","right"];for(var v=0,m=h.length;v<m;v++){var g=v===0?' checked="checked"':"",y='<a href="javascript:;"><label for="editormd-table-dialog-radio'+v+'" title="'+p[v]+'">';y+='<input type="radio" name="table-align" id="editormd-table-dialog-radio'+v+'" value="'+d[v]+'"'+g+" />&nbsp;",y+='<i class="fa fa-'+h[v]+'"></i>',y+="</label></a>",c.append(y)}}},linkDialog:function(){var e=this,t=this.cm,n=this.editor,r=this.settings,i=t.getSelection(),s=this.lang,o=s.dialog.link,u=this.classPrefix,a=u+"link-dialog",f;t.focus();if(n.find("."+a).length>0)f=n.find("."+a),f.find("[data-url]").val("http://"),f.find("[data-title]").val(i),this.dialogShowMask(f),this.dialogLockScreen(),f.show();else{var l='<div class="'+u+'form">'+"<label>"+o.url+"</label>"+'<input type="text" value="http://" data-url />'+"<br/>"+"<label>"+o.urlTitle+"</label>"+'<input type="text" value="'+i+'" data-title />'+"<br/>"+"</div>";f=this.createDialog({title:o.title,width:380,height:211,content:l,mask:r.dialogShowMask,drag:r.dialogDraggable,lockScreen:r.dialogLockScreen,maskStyle:{opacity:r.dialogMaskOpacity,backgroundColor:r.dialogMaskBgColor},buttons:{enter:[s.buttons.enter,function(){var e=this.find("[data-url]").val(),n=this.find("[data-title]").val();if(e==="http://"||e==="")return alert(o.urlEmpty),!1;var r="["+n+"]("+e+' "'+n+'")';return n==""&&(r="["+e+"]("+e+")"),t.replaceSelection(r),this.hide().lockScreen(!1).hideMask(),!1}],cancel:[s.buttons.cancel,function(){return this.hide().lockScreen(!1).hideMask(),!1}]}})}},imageDialog:function(){var _this=this,cm=this.cm,lang=this.lang,editor=this.editor,settings=this.settings,cursor=cm.getCursor(),selection=cm.getSelection(),imageLang=lang.dialog.image,classPrefix=this.classPrefix,iframeName=classPrefix+"image-iframe",dialogName=classPrefix+"image-dialog",dialog;cm.focus();var loading=function(e){var t=dialog.find("."+classPrefix+"dialog-mask");t[e?"show":"hide"]()};if(editor.find("."+dialogName).length<1){var guid=(new Date).getTime(),action=settings.imageUploadURL;settings.crossDomainUpload&&(action+="&callback="+settings.uploadCallbackURL+"&dialog_id=editormd-image-dialog-"+guid);var dialogContent=(settings.imageUpload?'<form action="'+action+'" target="'+iframeName+'" method="post" enctype="multipart/form-data" class="'+classPrefix+'form">':'<div class="'+classPrefix+'form">')+(settings.imageUpload?'<iframe name="'+iframeName+'" id="'+iframeName+'" guid="'+guid+'"></iframe>':"")+"<label>"+imageLang.url+"</label>"+'<input type="text" data-url />'+function(){return settings.imageUpload?'<div class="'+classPrefix+'file-input">'+'<input type="file" name="'+classPrefix+'image-file" accept="image/*" />'+'<input type="submit" value="'+imageLang.uploadButton+'" />'+"</div>":""}()+"<br/>"+"<label>"+imageLang.alt+"</label>"+'<input type="text" value="'+selection+'" data-alt />'+"<br/>"+"<label>"+imageLang.link+"</label>"+'<input type="text" value="http://" data-link />'+"<br/>"+(settings.imageUpload?"</form>":"</div>");dialog=this.createDialog({title:imageLang.title,width:settings.imageUpload?465:380,height:254,name:dialogName,content:dialogContent,mask:settings.dialogShowMask,drag:settings.dialogDraggable,lockScreen:settings.dialogLockScreen,maskStyle:{opacity:settings.dialogMaskOpacity,backgroundColor:settings.dialogMaskBgColor},buttons:{enter:[lang.buttons.enter,function(){var e=this.find("[data-url]").val(),t=this.find("[data-alt]").val(),n=this.find("[data-link]").val();if(e==="")return alert(imageLang.imageURLEmpty),!1;var r=t!==""?' "'+t+'"':"";return n===""||n==="http://"?cm.replaceSelection("!["+t+"]("+e+r+")"):cm.replaceSelection("[!["+t+"]("+e+r+")]("+n+r+")"),t===""&&cm.setCursor(cursor.line,cursor.ch+2),this.hide().lockScreen(!1).hideMask(),!1}],cancel:[lang.buttons.cancel,function(){return this.hide().lockScreen(!1).hideMask(),!1}]}}),dialog.attr("id",classPrefix+"image-dialog-"+guid);if(!settings.imageUpload)return;var fileInput=dialog.find('[name="'+classPrefix+'image-file"]');fileInput.bind("change",function(){var fileName=fileInput.val(),isImage=new RegExp("(\\.("+settings.imageFormats.join("|")+"))$");if(fileName==="")return alert(imageLang.uploadFileEmpty),!1;if(!isImage.test(fileName))return alert(imageLang.formatNotAllowed+settings.imageFormats.join(", ")),!1;loading(!0);var submitHandler=function(){var uploadIframe=document.getElementById(iframeName);uploadIframe.onload=function(){loading(!1);var body=(uploadIframe.contentWindow?uploadIframe.contentWindow:uploadIframe.contentDocument).document.body,json=body.innerText?body.innerText:body.textContent?body.textContent:null;return json=typeof JSON.parse!="undefined"?JSON.parse(json):eval("("+json+")"),json.success==1?dialog.find("[data-url]").val(json.url):alert(json.msg),!1}};dialog.find('[type="submit"]').bind("click",submitHandler).trigger("click")}),dialog.find("[data-url]").on("paste",function(){setTimeout(function(){var e=new RegExp("webquan.com"),t=dialog.find("[data-url]").val();if(e.test(t))return!1;loading("show"),$.post("/download_image",{url:t},function(e){loading(),e.success==1?dialog.find("[data-url]").val(e.url):alert(e.msg)},"json")},100)})}dialog=editor.find("."+dialogName),dialog.find('[type="text"]').val(""),dialog.find('[type="file"]').val(""),dialog.find("[data-link]").val("http://"),this.dialogShowMask(dialog),this.dialogLockScreen(),dialog.show()},preformattedTextDialog:function(){var e=this,t=this.cm,n=this.lang,r=this.editor,i=this.settings,s=t.getCursor(),o=t.getSelection(),u=this.classPrefix,a=n.dialog.preformattedText,f=u+"preformatted-text-dialog",l;t.focus();if(r.find("."+f).length>0)l=r.find("."+f),l.find("textarea").val(o),this.dialogShowMask(l),this.dialogLockScreen(),l.show();else{var c='<textarea placeholder="coding now...." style="display:none;">'+o+"</textarea>";l=this.createDialog({name:f,title:a.title,width:780,height:540,mask:i.dialogShowMask,drag:i.dialogDraggable,content:c,lockScreen:i.dialogLockScreen,maskStyle:{opacity:i.dialogMaskOpacity,backgroundColor:i.dialogMaskBgColor},buttons:{enter:[n.buttons.enter,function(){var e=this.find("textarea").val();if(e==="")return alert(a.emptyAlert),!1;e=e.split("\n");for(var n in e)e[n]="    "+e[n];return e=e.join("\n"),s.ch!==0&&(e="\r\n\r\n"+e),t.replaceSelection(e),this.hide().lockScreen(!1).hideMask(),!1}],cancel:[n.buttons.cancel,function(){return this.hide().lockScreen(!1).hideMask(),!1}]}})}var h={mode:"text/html",theme:i.theme,tabSize:4,autofocus:!0,autoCloseTags:!0,indentUnit:4,lineNumbers:!0,lineWrapping:!0,extraKeys:{"Ctrl-Q":function(e){e.foldCode(e.getCursor())}},foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],matchBrackets:!0,indentWithTabs:!0,styleActiveLine:!0,styleSelectedText:!0,autoCloseBrackets:!0,showTrailingSpace:!0,highlightSelectionMatches:!0},p=l.find("textarea"),d=l.find(".CodeMirror");if(l.find(".CodeMirror").length<1){var v=editormd.$CodeMirror.fromTextArea(p[0],h);d=l.find(".CodeMirror"),p.data("cmEditor",v),d.css({"float":"none",margin:"0 0 5px",border:"1px solid #ddd",fontSize:i.fontSize,width:"100%",height:"410px"}),v.on("change",function(e){p.val(e.getValue())})}else{var v=p.data("cmEditor");v.setValue(t.getSelection())}},codeBlockDialog:function(){var e=this,t=this.cm,n=this.lang,r=this.editor,i=this.settings,s=t.getCursor(),o=t.getSelection(),u=this.classPrefix,a=u+"code-block-dialog",f,l=n.dialog.codeBlock,c=editormd.codeLanguages={html:["HTML","text/html"],css:["CSS","css"],less:["LESS","css"],sass:["SASS/SCSS","sass"],javascript:["Javascript","javascript"],php:["PHP","php"],json:["JSON","text/json"],sql:["SQL","sql"],shell:["Shell","shell"],markdown:["Markdown","gfm"],python:["Python","python"],java:["Java","clike"],c:["C","clike"],cpp:["C++","clike"],csharp:["C#","clike"],"objective-c":["Objective-C","clike"],xml:["XML","text/xml"]};t.focus();if(r.find("."+a).length>0)f=r.find("."+a),f.find("option:first").attr("selected","selected"),f.find("textarea").val(o),this.dialogShowMask(f),this.dialogLockScreen(),f.show();else{var h='<div class="'+u+'code-toolbar">'+l.selectLabel+'<select><option selected="selected" value="">'+l.selectDefaultText+"</option></select>"+"</div>"+'<textarea placeholder="coding now...." style="display:none;">'+o+"</textarea>";f=this.createDialog({name:a,title:l.title,width:780,height:565,mask:i.dialogShowMask,drag:i.dialogDraggable,content:h,lockScreen:i.dialogLockScreen,maskStyle:{opacity:i.dialogMaskOpacity,backgroundColor:i.dialogMaskBgColor},buttons:{enter:[n.buttons.enter,function(){var e=this.find("textarea").val(),r=this.find("select").val();return r===""?(alert(n.dialog.codeBlock.unselectedLanguageAlert),!1):e===""?(alert(n.dialog.codeBlock.codeEmptyAlert),!1):(r=r==="other"?"":r,t.replaceSelection(["```"+r,e,"```"].join("\n")),r===""&&t.setCursor(s.line,s.ch+3),this.hide().lockScreen(!1).hideMask(),!1)}],cancel:[n.buttons.cancel,function(){return this.hide().lockScreen(!1).hideMask(),!1}]}})}var p=f.find("select");if(p.find("option").length===1){for(var d in c){var v=c[d];p.append('<option value="'+d+'" mode="'+v[1]+'">'+v[0]+"</option>")}p.append('<option value="other">'+l.otherLanguage+"</option>")}var m=p.find("option:selected").attr("mode"),g={mode:m?m:"text/html",theme:i.theme,tabSize:4,autofocus:!0,autoCloseTags:!0,indentUnit:4,lineNumbers:!0,lineWrapping:!0,extraKeys:{"Ctrl-Q":function(e){e.foldCode(e.getCursor())}},foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],matchBrackets:!0,indentWithTabs:!0,styleActiveLine:!0,styleSelectedText:!0,autoCloseBrackets:!0,showTrailingSpace:!0,highlightSelectionMatches:!0},y=f.find("textarea"),b=f.find(".CodeMirror");if(f.find(".CodeMirror").length<1)w=editormd.$CodeMirror.fromTextArea(y[0],g),b=f.find(".CodeMirror"),y.data("cmEditor",w),b.css({"float":"none",margin:"8px 0",border:"1px solid #ddd",fontSize:i.fontSize,width:"100%",height:"390px"}),w.on("change",function(e){y.val(e.getValue())});else{var w=y.data("cmEditor");w.setValue(t.getSelection())}p.change(function(){var e=$(this).find("option:selected").attr("mode");w.setOption("mode",e)})}},editormd.fn.init.prototype=editormd.fn,editormd.dialogLockScreen=function(){var e=this.settings||{dialogLockScreen:!0};e.dialogLockScreen&&($("html,body").css("overflow","hidden"),this.resize())},editormd.dialogShowMask=function(e){var t=this.editor,n=this.settings||{dialogShowMask:!0};e.css({top:($(window).height()-e.height())/2+"px",left:($(window).width()-e.width())/2+"px"}),n.dialogShowMask&&t.children("."+this.classPrefix+"mask").css("z-index",parseInt(e.css("z-index"))-1).show()},editormd.toolbarHandlers={undo:function(){this.cm.undo()},redo:function(){this.cm.redo()},bold:function(){var e=this.cm,t=e.getCursor(),n=e.getSelection();e.replaceSelection("**"+n+"**"),n===""&&e.setCursor(t.line,t.ch+2)},del:function(){var e=this.cm,t=e.getCursor(),n=e.getSelection();e.replaceSelection("~~"+n+"~~"),n===""&&e.setCursor(t.line,t.ch+2)},italic:function(){var e=this.cm,t=e.getCursor(),n=e.getSelection();e.replaceSelection("*"+n+"*"),n===""&&e.setCursor(t.line,t.ch+1)},quote:function(){var e=this.cm,t=e.getCursor(),n=e.getSelection();t.ch!==0?(e.setCursor(t.line,0),e.replaceSelection("> "+n),e.setCursor(t.line,t.ch+2)):e.replaceSelection("> "+n)},ucfirst:function(){var e=this.cm,t=e.getSelection(),n=e.listSelections();e.replaceSelection(editormd.firstUpperCase(t)),e.setSelections(n)},ucwords:function(){var e=this.cm,t=e.getSelection(),n=e.listSelections();e.replaceSelection(editormd.wordsFirstUpperCase(t)),e.setSelections(n)},uppercase:function(){var e=this.cm,t=e.getSelection(),n=e.listSelections();e.replaceSelection(t.toUpperCase()),e.setSelections(n)},lowercase:function(){var e=this.cm,t=e.getCursor(),n=e.getSelection(),r=e.listSelections();e.replaceSelection(n.toLowerCase()),e.setSelections(r)},h1:function(){var e=this.cm,t=e.getCursor(),n=e.getSelection();t.ch!==0?(e.setCursor(t.line,0),e.replaceSelection("# "+n),e.setCursor(t.line,t.ch+2)):e.replaceSelection("# "+n)},h2:function(){var e=this.cm,t=e.getCursor(),n=e.getSelection();t.ch!==0?(e.setCursor(t.line,0),e.replaceSelection("## "+n),e.setCursor(t.line,t.ch+3)):e.replaceSelection("## "+n)},h3:function(){var e=this.cm,t=e.getCursor(),n=e.getSelection();t.ch!==0?(e.setCursor(t.line,0),e.replaceSelection("### "+n),e.setCursor(t.line,t.ch+4)):e.replaceSelection("### "+n)},h4:function(){var e=this.cm,t=e.getCursor(),n=e.getSelection();t.ch!==0?(e.setCursor(t.line,0),e.replaceSelection("#### "+n),e.setCursor(t.line,t.ch+5)):e.replaceSelection("#### "+n)},h5:function(){var e=this.cm,t=e.getCursor(),n=e.getSelection();t.ch!==0?(e.setCursor(t.line,0),e.replaceSelection("##### "+n),e.setCursor(t.line,t.ch+6)):e.replaceSelection("##### "+n)},h6:function(){var e=this.cm,t=e.getCursor(),n=e.getSelection();t.ch!==0?(e.setCursor(t.line,0),e.replaceSelection("###### "+n),e.setCursor(t.line,t.ch+7)):e.replaceSelection("###### "+n)},"list-ul":function(){var e=this.cm,t=e.getCursor(),n=e.getSelection();if(n==="")e.replaceSelection("- "+n);else{var r=n.split("\n");for(var i=0,s=r.length;i<s;i++)r[i]=r[i]===""?"":"- "+r[i];e.replaceSelection(r.join("\n"))}},"list-ol":function(){var e=this.cm,t=e.getCursor(),n=e.getSelection();if(n==="")e.replaceSelection("1. "+n);else{var r=n.split("\n");for(var i=0,s=r.length;i<s;i++)r[i]=r[i]===""?"":i+1+". "+r[i];e.replaceSelection(r.join("\n"))}},hr:function(){var e=this.cm,t=e.getCursor(),n=e.getSelection();e.replaceSelection((t.ch!==0?"\n\n":"\n")+"------------\n\n")},tex:function(){if(!this.settings.tex)return alert("settings.tex === false"),this;var e=this.cm,t=e.getCursor(),n=e.getSelection();e.replaceSelection("$$"+n+"$$"),n===""&&e.setCursor(t.line,t.ch+2)},link:function(){this.linkDialog()},"reference-link":function(){this.executePlugin("referenceLinkDialog","reference-link-dialog/reference-link-dialog")},pagebreak:function(){if(!this.settings.pageBreak)return alert("settings.pageBreak === false"),this;var e=this.cm,t=e.getSelection();e.replaceSelection("\r\n[========]\r\n")},image:function(){this.imageDialog()},code:function(){var e=this.cm,t=e.getCursor(),n=e.getSelection();e.replaceSelection("`"+n+"`"),n===""&&e.setCursor(t.line,t.ch+1)},"code-block":function(){this.codeBlockDialog()},"preformatted-text":function(){this.preformattedTextDialog()},table:function(){this.tableDialog()},datetime:function(){var e=this.cm,t=e.getSelection(),n=new Date,r=this.settings.lang.name,i=editormd.dateFormat()+" "+editormd.dateFormat(r==="zh-cn"||r==="zh-tw"?"cn-week-day":"week-day");e.replaceSelection(i)},emoji:function(){this.executePlugin("emojiDialog","emoji-dialog/emoji-dialog")},"html-entities":function(){this.executePlugin("htmlEntitiesDialog","html-entities-dialog/html-entities-dialog")},"goto-line":function(){this.executePlugin("gotoLineDialog","goto-line-dialog/goto-line-dialog")},watch:function(){this[this.settings.watch?"unwatch":"watch"]()},preview:function(){this.previewing()},fullscreen:function(){this.fullscreen()},clear:function(){this.clear()},search:function(){this.search()},help:function(){this.helpDialog()},info:function(){this.showInfoDialog()}},editormd.keyMaps={"Ctrl-1":"h1","Ctrl-2":"h2","Ctrl-3":"h3","Ctrl-4":"h4","Ctrl-5":"h5","Ctrl-6":"h6","Ctrl-B":"bold","Ctrl-D":"datetime","Ctrl-E":function(){var e=this.cm,t=e.getCursor(),n=e.getSelection();if(!this.settings.emoji){alert("Error: settings.emoji == false");return}e.replaceSelection(":"+n+":"),n===""&&e.setCursor(t.line,t.ch+1)},"Ctrl-Alt-G":"goto-line","Ctrl-H":"hr","Ctrl-I":"italic","Ctrl-K":"code","Ctrl-L":function(){var e=this.cm,t=e.getCursor(),n=e.getSelection(),r=n===""?"":' "'+n+'"';e.replaceSelection("["+n+"]("+r+")"),n===""&&e.setCursor(t.line,t.ch+1)},"Ctrl-U":"list-ul","Shift-Ctrl-A":function(){var e=this.cm,t=e.getCursor(),n=e.getSelection();if(!this.settings.atLink){alert("Error: settings.atLink == false");return}e.replaceSelection("@"+n),n===""&&e.setCursor(t.line,t.ch+1)},"Shift-Ctrl-C":"code","Shift-Ctrl-Q":"quote","Shift-Ctrl-S":"del","Shift-Ctrl-K":"tex","Shift-Alt-C":function(){var e=this.cm,t=e.getCursor(),n=e.getSelection();e.replaceSelection(["```",n,"```"].join("\n")),n===""&&e.setCursor(t.line,t.ch+3)},"Shift-Ctrl-Alt-C":"code-block","Shift-Ctrl-H":"html-entities","Shift-Alt-H":"help","Shift-Ctrl-E":"emoji","Shift-Ctrl-U":"uppercase","Shift-Alt-U":"ucwords","Shift-Ctrl-Alt-U":"ucfirst","Shift-Alt-L":"lowercase","Shift-Ctrl-I":function(){var e=this.cm,t=e.getCursor(),n=e.getSelection(),r=n===""?"":' "'+n+'"';e.replaceSelection("!["+n+"]("+r+")"),n===""&&e.setCursor(t.line,t.ch+4)},"Shift-Ctrl-Alt-I":"image","Shift-Ctrl-L":"link","Shift-Ctrl-O":"list-ol","Shift-Ctrl-P":"preformatted-text","Shift-Ctrl-T":"table","Shift-Alt-P":"pagebreak",F9:"watch",F10:"preview",F11:"fullscreen"};var trim=function(e){return String.prototype.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};editormd.trim=trim;var ucwords=function(e){return e.toLowerCase().replace(/\b(\w)|\s(\w)/g,function(e){return e.toUpperCase()})};editormd.ucwords=editormd.wordsFirstUpperCase=ucwords;var firstUpperCase=function(e){return e.toLowerCase().replace(/\b(\w)/,function(e){return e.toUpperCase()})},ucfirst=firstUpperCase;return editormd.firstUpperCase=editormd.ucfirst=firstUpperCase,editormd.urls={atLinkBase:"https://github.com/"},editormd.regexs={atLink:/@(\w+)/g,email:/(\w+)@(\w+)\.(\w+)\.?(\w+)?/g,emailLink:/(mailto:)?([\w\.\_]+)@(\w+)\.(\w+)\.?(\w+)?/g,emoji:/:([\w\+-]+):/g,emojiDatetime:/(\d{2}:\d{2}:\d{2})/g,twemoji:/:(tw-([\w]+)-?(\w+)?):/g,fontAwesome:/:(fa-([\w]+)(-(\w+)){0,}):/g,editormdLogo:/:(editormd-logo-?(\w+)?):/g,pageBreak:/^\[[=]{8,}\]$/},editormd.emoji={path:"http://www.emoji-cheat-sheet.com/graphics/emojis/",ext:".png"},editormd.twemoji={path:"http://twemoji.maxcdn.com/36x36/",ext:".png"},editormd.markedRenderer=function(e,t){var n={toc:!0,tocm:!1,tocStartLevel:1,pageBreak:!0,atLink:!0,emailLink:!0,taskList:!1,emoji:!1,tex:!1,flowChart:!1,sequenceDiagram:!1},r=$.extend(n,t||{}),i=editormd.$marked,s=new i.Renderer;e=e||[];var o=editormd.regexs,u=o.atLink,a=o.emoji,f=o.email,l=o.emailLink,c=o.twemoji,h=o.fontAwesome,p=o.editormdLogo,d=o.pageBreak;return s.emoji=function(e){e=e.replace(editormd.regexs.emojiDatetime,function(e){return e.replace(/:/g,"&#58;")});var t=e.match(a);if(!t||!r.emoji)return e;for(var n=0,i=t.length;n<i;n++)t[n]===":+1:"&&(t[n]=":\\+1:"),e=e.replace(new RegExp(t[n]),function(e,t){var n=e.match(h),r=e.replace(/:/g,"");if(n)for(var i=0,s=n.length;i<s;i++){var o=n[i].replace(/:/g,"");return'<i class="fa '+o+' fa-emoji" title="'+o.replace("fa-","")+'"></i>'}else{var u=e.match(p),a=e.match(c);if(u)for(var f=0,l=u.length;f<l;f++){var d=u[f].replace(/:/g,"");return'<i class="'+d+'" title="Editor.md logo ('+d+')"></i>'}else{if(!a){var y=r==="+1"?"plus1":r;return y=y==="black_large_square"?"black_square":y,y=y==="moon"?"waxing_gibbous_moon":y,'<img src="'+editormd.emoji.path+y+editormd.emoji.ext+'" class="emoji" title="&#58;'+r+'&#58;" alt="&#58;'+r+'&#58;" />'}for(var v=0,m=a.length;v<m;v++){var g=a[v].replace(/:/g,"").replace("tw-","");return'<img src="'+editormd.twemoji.path+g+editormd.twemoji.ext+'" title="twemoji-'+g+'" alt="twemoji-'+g+'" class="emoji twemoji" />'}}}});return e},s.atLink=function(e){return u.test(e)?(r.atLink&&(e=e.replace(f,function(e,t,n,r){return e.replace(/@/g,"_#_&#64;_#_")}),e=e.replace(u,function(e,t){return'<a href="'+editormd.urls.atLinkBase+""+t+'" title="&#64;'+t+'" class="at-link">'+e+"</a>"}).replace(/_#_&#64;_#_/g,"@")),r.emailLink&&(e=e.replace(l,function(e,t,n,r,i){return!t&&$.inArray(i,"jpg|jpeg|png|gif|webp|ico|icon|pdf".split("|"))<0?'<a href="mailto:'+e+'">'+e+"</a>":e})),e):e},s.link=function(e,t,n){if(this.options.sanitize){try{var r=decodeURIComponent(unescape(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(i){return""}if(r.indexOf("javascript:")===0)return""}var s='<a href="'+e+'"';return u.test(t)||u.test(n)?(t&&(s+=' title="'+t.replace(/@/g,"&#64;")),s+'">'+n.replace(/@/g,"&#64;")+"</a>"):(t&&(s+=' title="'+t+'"'),s+=">"+n+"</a>",s)},s.heading=function(t,n,r){var i=t,s=/\s*\<a\s*href\=\"(.*)\"\s*([^\>]*)\>(.*)\<\/a\>\s*/,o=/\s*\<a\s*([^\>]+)\>([^\>]*)\<\/a\>\s*/g;if(s.test(t)){var u=[];t=t.split(/\<a\s*([^\>]+)\>([^\>]*)\<\/a\>/);for(var a=0,f=t.length;a<f;a++)u.push(t[a].replace(/\s*href\=\"(.*)\"\s*/g,""));t=u.join(" ")}t=trim(t);var l=t.toLowerCase().replace(/[^\w]+/g,"-"),c={text:t,level:n,slug:l},h=/^[\u4e00-\u9fa5]+$/.test(t),p=h?escape(t).replace(/\%/g,""):t.toLowerCase().replace(/[^\w]+/g,"-");e.push(c);var d="<h"+n+' id="h'+n+"-"+this.options.headerPrefix+p+'">';return d+='<a name="'+t+'" class="reference-link"></a>',d+='<span class="header-link octicon octicon-link"></span>',d+=s?this.atLink(this.emoji(i)):this.atLink(this.emoji(t)),d+="</h"+n+">",d},s.pageBreak=function(e){return d.test(e)&&r.pageBreak&&(e='<hr style="page-break-after:always;" class="page-break editormd-page-break" />'),e},s.paragraph=function(e){var t=/\$\$(.*)\$\$/g.test(e),n=/^\$\$(.*)\$\$$/.test(e),i=n?' class="'+editormd.classNames.tex+'"':"",s=r.tocm?/^(\[TOC\]|\[TOCM\])$/.test(e):/^\[TOC\]$/.test(e),o=/^\[TOCM\]$/.test(e);!n&&t?e=e.replace(/(\$\$([^\$]*)\$\$)+/g,function(e,t){return'<span class="'+editormd.classNames.tex+'">'+t.replace(/\$/g,"")+"</span>"}):e=n?e.replace(/\$/g,""):e;var u='<div class="markdown-toc editormd-markdown-toc">'+e+"</div>";return s?o?'<div class="editormd-toc-menu">'+u+"</div><br/>":u:d.test(e)?this.pageBreak(e):"<p"+i+">"+this.atLink(this.emoji(e))+"</p>\n"},s.code=function(e,t,n){return t==="seq"||t==="sequence"?'<div class="sequence-diagram">'+e+"</div>":t==="flow"?'<div class="flowchart">'+e+"</div>":t==="math"||t==="latex"||t==="katex"?'<p class="'+editormd.classNames.tex+'">'+e+"</p>":i.Renderer.prototype.code.apply(this,arguments)},s.tablecell=function(e,t){var n=t.header?"th":"td",r=t.align?"<"+n+' style="text-align:'+t.align+'">':"<"+n+">";return r+this.atLink(this.emoji(e))+"</"+n+">\n"},s.listitem=function(e){return r.taskList&&/^\s*\[[x\s]\]\s*/.test(e)?(e=e.replace(/^\s*\[\s\]\s*/,'<input type="checkbox" class="task-list-item-checkbox" /> ').replace(/^\s*\[x\]\s*/,'<input type="checkbox" class="task-list-item-checkbox" checked disabled /> '),'<li style="list-style: none;">'+this.atLink(this.emoji(e))+"</li>"):"<li>"+this.atLink(this.emoji(e))+"</li>"},s},editormd.markdownToCRenderer=function(e,t,n,r){var i="",s=0,o=this.classPrefix;r=r||1;for(var u=0,a=e.length;u<a;u++){var f=e[u].text,l=e[u].level;if(l<r)continue;l>s?i+="":l<s?i+=(new Array(s-l+2)).join("</ul></li>"):i+="</ul></li>",i+='<li><a class="toc-level-'+l+'" href="#'+f+'" level="'+l+'">'+f+"</a><ul>",s=l}var c=t.find(".markdown-toc");if(c.length<1&&t.attr("previewContainer")==="false"){var h='<div class="markdown-toc '+o+'markdown-toc"></div>';h=n?'<div class="'+o+'toc-menu">'+h+"</div>":h,t.html(h),c=t.find(".markdown-toc")}return n&&c.wrap('<div class="'+o+'toc-menu"></div><br/>'),c.html('<ul class="markdown-toc-list"></ul>').children(".markdown-toc-list").html(i.replace(/\r?\n?\<ul\>\<\/ul\>/g,"")),c},editormd.tocDropdownMenu=function(e,t){t=t||"Table of Contents";var n=400,r=e.find("."+this.classPrefix+"toc-menu");return r.each(function(){var e=$(this),r=e.children(".markdown-toc"),i='<i class="fa fa-angle-down"></i>',s='<a href="javascript:;" class="toc-menu-btn">'+i+t+"</a>",o=r.children("ul"),u=o.find("li");r.append(s),u.first().before("<li><h1>"+t+" "+i+"</h1></li>"),e.mouseover(function(){o.show(),u.each(function(){var e=$(this),t=e.children("ul");t.html()===""&&t.remove();if(t.length>0&&t.html()!==""){var r=e.children("a").first();r.children(".fa").length<1&&r.append($(i).css({"float":"right","padding-top":"4px"}))}e.mouseover(function(){t.css("z-index",n).show(),n+=1}).mouseleave(function(){t.hide()})})}).mouseleave(function(){o.hide()})}),r},editormd.filterHTMLTags=function(e,t){typeof e!="string"&&(e=new String(e));if(typeof t!="string")return e;var n=t.split("|"),r=n[0].split(","),i=n[1];for(var s=0,o=r.length;s<o;s++){var u=r[s];e=e.replace(new RegExp("<s*"+u+"s*([^>]*)>([^>]*)<s*/"+u+"s*>","igm"),"")}if(typeof i!="undefined"){var a=/\<(\w+)\s*([^\>]*)\>([^\>]*)\<\/(\w+)\>/ig;i==="*"?e=e.replace(a,function(e,t,n,r,i){return"<"+t+">"+r+"</"+i+">"}):i==="on*"?e=e.replace(a,function(e,t,n,r,i){var s=$("<"+t+">"+r+"</"+i+">"),o=$(e)[0].attributes,u={};$.each(o,function(e,t){t.nodeName!=='"'&&(u[t.nodeName]=t.nodeValue)}),$.each(u,function(e){e.indexOf("on")===0&&delete u[e]}),s.attr(u);var a=typeof s[1]!="undefined"?$(s[1]).text():"";return s[0].outerHTML+a}):e=e.replace(a,function(e,t,n,r){var s=i.split(","),o=$(e);return o.html(r),$.each(s,function(e){o.attr(s[e],null)}),o[0].outerHTML})}return e},editormd.markdownToHTML=function(e,t){var n={gfm:!0,toc:!0,tocm:!1,tocStartLevel:1,tocTitle:"目录",tocDropdown:!1,tocContainer:"",markdown:"",markdownSourceCode:!1,htmlDecode:!1,autoLoadKaTeX:!0,pageBreak:!0,atLink:!0,emailLink:!0,tex:!1,taskList:!1,emoji:!1,flowChart:!1,sequenceDiagram:!1,previewCodeHighlight:!0};editormd.$marked=marked;var r=$("#"+e),i=r.settings=$.extend(!0,n,t||{}),s=r.find("textarea");s.length<1&&(r.append("<textarea></textarea>"),s=r.find("textarea"));var o=i.markdown===""?s.val():i.markdown,u=[],a={toc:i.toc,tocm:i.tocm,tocStartLevel:i.tocStartLevel,taskList:i.taskList,emoji:i.emoji,tex:i.tex,pageBreak:i.pageBreak,atLink:i.atLink,emailLink:i.emailLink,flowChart:i.flowChart,sequenceDiagram:i.sequenceDiagram,previewCodeHighlight:i.previewCodeHighlight},f={renderer:editormd.markedRenderer(u,a),gfm:i.gfm,tables:!0,breaks:!0,pedantic:!1,sanitize:i.htmlDecode?!1:!0,smartLists:!0,smartypants:!0};o=new String(o);var l=marked(o,f);l=editormd.filterHTMLTags(l,i.htmlDecode),i.markdownSourceCode?s.text(o):s.remove(),r.addClass("markdown-body "+this.classPrefix+"html-preview").append(l);var c=i.tocContainer!==""?$(i.tocContainer):r;i.tocContainer!==""&&c.attr("previewContainer",!1),i.toc&&(r.tocContainer=this.markdownToCRenderer(u,c,i.tocDropdown,i.tocStartLevel),(i.tocDropdown||r.find("."+this.classPrefix+"toc-menu").length>0)&&this.tocDropdownMenu(r,i.tocTitle),i.tocContainer!==""&&r.find(".editormd-toc-menu, .editormd-markdown-toc").remove()),i.previewCodeHighlight&&(r.find("pre").addClass("prettyprint linenums"),prettyPrint()),editormd.isIE8||(i.flowChart&&r.find(".flowchart").flowChart(),i.sequenceDiagram&&r.find(".sequence-diagram").sequenceDiagram({theme:"simple"}));if(i.tex){var h=function(){r.find("."+editormd.classNames.tex).each(function(){var e=$(this);katex.render(e.html().replace(/&lt;/g,"<").replace(/&gt;/g,">"),e[0]),e.find(".katex").css("font-size","1.6em")})};i.autoLoadKaTeX&&!editormd.$katex&&!editormd.kaTeXLoaded?this.loadKaTeX(function(){editormd.$katex=katex,editormd.kaTeXLoaded=!0,h()}):h()}return r.getMarkdown=function(){return s.val()},r},editormd.themes=["default","dark"],editormd.previewThemes=["default","dark"],editormd.editorThemes=["default","3024-day","3024-night","ambiance","ambiance-mobile","base16-dark","base16-light","blackboard","cobalt","eclipse","elegant","erlang-dark","lesser-dark","mbo","mdn-like","midnight","monokai","neat","neo","night","paraiso-dark","paraiso-light","pastel-on-dark","rubyblue","solarized","the-matrix","tomorrow-night-eighties","twilight","vibrant-ink","xq-dark","xq-light"],editormd.loadPlugins={},editormd.loadFiles={js:[],css:[],plugin:[]},editormd.loadPlugin=function(e,t,n){t=t||function(){},this.loadScript(e,function(){editormd.loadFiles.plugin.push(e),t()},n)},editormd.loadCSS=function(e,t,n){n=n||"head",t=t||function(){};var r=document.createElement("link");r.type="text/css",r.rel="stylesheet",r.onload=r.onreadystatechange=function(){editormd.loadFiles.css.push(e),t()},r.href=e+".css",n==="head"?document.getElementsByTagName("head")[0].appendChild(r):document.body.appendChild(r)},editormd.isIE=navigator.appName=="Microsoft Internet Explorer",editormd.isIE8=editormd.isIE&&navigator.appVersion.match(/8./i)=="8.",editormd.loadScript=function(e,t,n){n=n||"head",t=t||function(){};var r=null;r=document.createElement("script"),r.id=e.replace(/[\./]+/g,"-"),r.type="text/javascript",r.src=e+".js",editormd.isIE8?r.onreadystatechange=function(){r.readyState&&(r.readyState==="loaded"||r.readyState==="complete")&&(r.onreadystatechange=null,editormd.loadFiles.js.push(e),t())}:r.onload=function(){editormd.loadFiles.js.push(e),t()},n==="head"?document.getElementsByTagName("head")[0].appendChild(r):document.body.appendChild(r)},editormd.katexURL={css:"//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.3.0/katex.min",js:"//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.3.0/katex.min"},editormd.kaTeXLoaded=!1,editormd.loadKaTeX=function(e){editormd.loadCSS(editormd.katexURL.css,function(){editormd.loadScript(editormd.katexURL.js,e||function(){})})},editormd.lockScreen=function(e){$("html,body").css("overflow",e?"hidden":"")},editormd.createDialog=function(e){var t={name:"",width:420,height:240,title:"",drag:!0,closed:!0,content:"",mask:!0,maskStyle:{backgroundColor:"#fff",opacity:.1},lockScreen:!0,footer:!0,buttons:!1};e=$.extend(!0,t,e);var n=this,r=this.editor,i=editormd.classPrefix,s=(new Date).getTime(),o=e.name===""?i+"dialog-"+s:e.name,u=editormd.mouseOrTouch,a='<div class="'+i+"dialog "+o+'">';e.title!==""&&(a+='<div class="'+i+'dialog-header"'+(e.drag?' style="cursor: move;"':"")+">",a+='<strong class="'+i+'dialog-title">'+e.title+"</strong>",a+="</div>"),e.closed&&(a+='<a href="javascript:;" class="fa fa-close '+i+'dialog-close"></a>'),a+='<div class="'+i+'dialog-container">'+e.content;if(e.footer||typeof e.footer=="string")a+='<div class="'+i+'dialog-footer">'+(typeof e.footer=="boolean"?"":e.footer)+"</div>";a+="</div>",a+='<div class="'+i+"dialog-mask "+i+'dialog-mask-bg"></div>',a+='<div class="'+i+"dialog-mask "+i+'dialog-mask-con"></div>',a+="</div>",r.append(a);var f=r.find("."+o);f.lockScreen=function(t){return e.lockScreen&&($("html,body").css("overflow",t?"hidden":""),n.resize()),f},f.showMask=function(){return e.mask&&r.find("."+i+"mask").css(e.maskStyle).css("z-index",editormd.dialogZindex-1).show(),f},f.hideMask=function(){return e.mask&&r.find("."+i+"mask").hide(),f},f.loading=function(e){var t=f.find("."+i+"dialog-mask");return t[e?"show":"hide"](),f},f.lockScreen(!0).showMask(),f.show().css({zIndex:editormd.dialogZindex,border:editormd.isIE8?"1px solid #ddd":"",width:typeof e.width=="number"?e.width+"px":e.width,height:typeof e.height=="number"?e.height+"px":e.height});var l=function(){f.css({top:($(window).height()-f.height())/2+"px",left:($(window).width()-f.width())/2+"px"})};l(),$(window).resize(l),f.children("."+i+"dialog-close").bind(u("click","touchend"),function(){f.hide().lockScreen(!1).hideMask()});if(typeof e.buttons=="object"){var c=f.footer=f.find("."+i+"dialog-footer");for(var h in e.buttons){var p=e.buttons[h],d=i+h+"-btn";c.append('<button class="'+i+"btn "+d+'">'+p[0]+"</button>"),p[1]=$.proxy(p[1],f),c.children("."+d).bind(u("click","touchend"),p[1])}}if(e.title!==""&&e.drag){var v,m,g=f.children("."+i+"dialog-header");e.mask||g.bind(u("click","touchend"),function(){editormd.dialogZindex+=2,f.css("z-index",editormd.dialogZindex)}),g.mousedown(function(e){e=e||window.event,v=e.clientX-parseInt(f[0].style.left),m=e.clientY-parseInt(f[0].style.top),document.onmousemove=w});var y=function(e){e.removeClass(i+"user-unselect").off("selectstart")},b=function(e){e.addClass(i+"user-unselect").on("selectstart",function(e){return!1})},w=function(e){e=e||window.event;var t,n,r=parseInt(f[0].style.left),i=parseInt(f[0].style.top);r>=0?r+f.width()<=$(window).width()?t=e.clientX-v:(t=$(window).width()-f.width(),document.onmousemove=null):(t=0,document.onmousemove=null),i>=0?n=e.clientY-m:(n=0,document.onmousemove=null),document.onselectstart=function(){return!1},b($("body")),b(f),f[0].style.left=t+"px",f[0].style.top=n+"px"};document.onmouseup=function(){y($("body")),y(f),document.onselectstart=null,document.onmousemove=null},g.touchDraggable=function(){var e=null,t=function(t){var n=t.originalEvent,r=$(this).parent().position();e={x:n.changedTouches[0].pageX-r.left,y:n.changedTouches[0].pageY-r.top}},n=function(t){t.preventDefault();var n=t.originalEvent;$(this).parent().css({top:n.changedTouches[0].pageY-e.y,left:n.changedTouches[0].pageX-e.x})};this.bind("touchstart",t).bind("touchmove",n)},g.touchDraggable()}return editormd.dialogZindex+=2,f},editormd.mouseOrTouch=function(e,t){e=e||"click",t=t||"touchend";var n=e;try{document.createEvent("TouchEvent"),n=t}catch(r){}return n},editormd.dateFormat=function(e){e=e||"";var t=function(e){return e<10?"0"+e:e},n=new Date,r=n.getFullYear(),i=r.toString().slice(2,4),s=t(n.getMonth()+1),o=t(n.getDate()),u=n.getDay(),a=t(n.getHours()),f=t(n.getMinutes()),l=t(n.getSeconds()),c=t(n.getMilliseconds()),h="",p=i+"-"+s+"-"+o,d=r+"-"+s+"-"+o,v=a+":"+f+":"+l;switch(e){case"UNIX Time":h=n.getTime();break;case"UTC":h=n.toUTCString();break;case"yy":h=i;break;case"year":case"yyyy":h=r;break;case"month":case"mm":h=s;break;case"cn-week-day":case"cn-wd":var m=["日","一","二","三","四","五","六"];h="星期"+m[u];break;case"week-day":case"wd":var g=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];h=g[u];break;case"day":case"dd":h=o;break;case"hour":case"hh":h=a;break;case"min":case"ii":h=f;break;case"second":case"ss":h=l;break;case"ms":h=c;break;case"yy-mm-dd":h=p;break;case"yyyy-mm-dd":h=d;break;case"yyyy-mm-dd h:i:s ms":case"full + ms":h=d+" "+v+" "+c;break;case"full":case"yyyy-mm-dd h:i:s":default:h=d+" "+v}return h},editormd}),define("home/article/editArticle",["react","jquery","WQ","home/model/cloumnModel","home/model/articleModel","home/common/tooltip","home/common/dialog","editormd"],function(e,t,n,r,i,s,o,u){var a=e.addons.CSSTransitionGroup,f={init:function(){var e=this,t=n.cookie.get("id");r.getCloumnsByUid({uid:t},function(t,n){t&&(n.error?(s(n.msg),window.location.href="/cloumn/add"):(e.state.info.cid=n.data[0].id,e.setState({cloumns:n.data,info:e.state.info})))});var o=this.state.aid;return o>0?i.getArticleById(o,function(t,n){t&&(n.error?s(n.msg):(n.data.tags.indexOf("|")?e.state.tags=n.data.tags.split("|"):e.state.tags=n.data.tags,e.setState({info:n.data,tags:e.state.tags,selected:n.data.cid}),e.showEditor()))}):this.showEditor(),this},showEditor:function(e){var t=this,n=t.state.info.content?t.state.info.content:null,r=u("article-editormd",{width:"100%",height:640,markdown:n,imageUpload:"true",imageFormats:["jpg","jpeg","gif","png","bmp","webp"],imageUploadURL:"/upload",path:"/js/lib/editor/lib/",toolbarIcons:function(){return["undo","redo","clear","|","bold","italic","quote","uppercase","lowercase","|","h1","h2","h3","h4","h5","h6","|","list-ul","list-ol","hr","|","link","image","code","preformatted-text","code-block","table","datetime","|","watch","preview","fullscreen","help"]},onchange:function(){t.state.info.content=this.getValue(),t.setState({info:t.state.info})}});return this},handleSelectCloumn:function(e){var t=this;t.state.info.cid=e.target.value,t.setState({info:t.state.info})},handleChangeTitle:function(e){this.state.info.title=e.target.value,this.setState({info:this.state.info})},handleChangeDesc:function(e){this.state.info.description=e.target.value,this.setState({info:this.state.info})},handlePublic:function(e){var n=this,r=t(e.target).data("publish");this.state.info.tags=n.state.tags.join("|"),n.state.info.is_publish=r,n.setState({info:n.state.info});var o=n.state.info,u=this.state.aid;u>0?i.editArticle(o,function(e,t){e&&(t.error?s(t.msg):window.location.href="/article/"+u)}):i.addArticle(o,function(e,t){e&&(t.error?s(t.msg):window.location.href="/article/"+t.data)})}};return e.createClass({mixins:[f],getInitialState:function(){var e=n.cookie.get("id");return{name:"editArticle",aid:this.props.aid?this.props.aid:0,info:{uid:e,is_publish:0},selected:-1,cloumns:[],tags:[],cacheTags:[],inputTag:"",timer:null}},componentDidMount:function(){this.init()},tagChange:function(e){var t=this;t.setState({inputTag:e.target.value})},getFocus:function(e){t(e.target).find("input").focus()},dealTags:function(e){var r=this,s=t(e.target);s.on("blur",function(){setTimeout(function(){r.setState({inputTag:""}),s.siblings("ul").hide()},200)}),setTimeout(function(){r.state.inputTag.length!=0?s.siblings("ul").show():s.siblings("ul").hide()},300);if(e.which==8&&n.trim(e.target.value)=="")s.prev(".tag").remove(),r.state.tags.pop(),r.setState({tags:r.state.tags});else{clearTimeout(r.state.timer);var o=setTimeout(function(){i.getAllTags(n.trim(s.val()),function(e,t){e&&(t.error||r.setState({cacheTags:t.data}))})},200);r.setState({timer:o})}},dialogShow:function(e){var t=this;e.stopPropagation(),e.preventDefault(),o({name:t.state.inputTag,ok:function(e){e||(t.state.tags.push(n.trim(t.state.inputTag)),t.setState({tags:t.state.tags,inputTag:""}))}})},handleSelectTag:function(e){var r=this,i=t(e.target),s=i.parents("ul").siblings("input[type=text]");e.stopPropagation(),e.preventDefault();var o=i.find("a").length>0?i.find("a").text():i.text(),u=!0;r.state.tags.forEach(function(e,t){e==n.trim(o)&&(u=!1)}),u&&(r.state.tags.push(n.trim(o)),r.setState({tags:r.state.tags,inputTag:""})),i.parents("ul").hide()},handleDelTag:function(e){var n=this,r=t(e.target).parent(".tag.selected").index();n.state.tags.splice(r,1),n.setState({tags:n.state.tags})},render:function(){var t=this;if(this.state.cloumns.length>0)var n=t.state.cloumns.map(function(n,r){return e.createElement("option",{key:n.id,value:n.id,selected:t.state.selected==n.id?"selected":""},n.name)});else var n=null;var r=t.state.cacheTags.length>0?t.state.cacheTags.map(function(n,r){return e.createElement("li",{onClick:t.handleSelectTag},e.createElement("a",null,n.name))}):null,i=t.state.tags.length>0?t.state.tags.map(function(n,r){return e.createElement("span",{className:"tag selected"},n,e.createElement("span",{className:"remove",onClick:t.handleDelTag},"x"))}):null;return e.createElement(a,{transitionName:"fade",transitionAppear:!0},e.createElement("div",null,e.createElement("div",{className:"top-bar"},e.createElement("span",{className:"desc"},"写文章"),e.createElement("a",{className:"btn btn-info btn-md pull-right",href:"javascript:void(0)",style:{margin:"10px 120px 0 0"},"data-publish":"1",onClick:this.handlePublic},"发布"),e.createElement("a",{className:"btn btn-default btn-md pull-right",href:"javascript:void(0)",style:{margin:"10px 10px 0 0"},"data-publish":"0",onClick:this.handlePublic},"保存草稿")),e.createElement("div",{className:"edit-article"},e.createElement("form",null,e.createElement("div",{className:"input-prepend"},e.createElement("input",{type:"text",name:"title",placeholder:"文章标题",onChange:this.handleChangeTitle,value:t.state.info.title?t.state.info.title:null})),e.createElement("div",{className:"input-prepend"},e.createElement("textarea",{name:"description",maxLength:"200",placeholder:"请以200字以内简单描述此内容",onChange:this.handleChangeDesc,value:t.state.info.description?t.state.info.description:null})),e.createElement("div",{className:"input-prepend"},e.createElement("select",{onChange:t.handleSelectCloumn},n)),e.createElement("div",{className:"tags-list",onClick:t.getFocus},e.createElement("i",{className:"fa fa-tag"}),e.createElement("span",null,"增加标签"),e.createElement("span",null,i),t.state.tags.length<3?e.createElement("input",{type:"text",placeholder:"如：php",onKeyDown:t.dealTags,value:t.state.inputTag,onChange:t.tagChange}):null,e.createElement("ul",null,r,e.createElement("li",{style:t.state.cacheTags.length>4?{display:"none"}:{display:"block"},onClick:t.dialogShow},e.createElement("a",{href:"javascript:void(0)"},"创建标签 ",e.createElement("strong",null,t.state.inputTag))))),e.createElement("div",{id:"article-editormd"},e.createElement("textarea",{onChange:this.handleChangeContent,value:t.state.info.content?t.state.info.content:null}))))))}})}),define("home/article/article",["react","jquery","WQ","home/model/articleModel","home/common/tooltip","editormd"],function(e,t,n,r,i,s){var o=e.addons.CSSTransitionGroup,u={init:function(){var e=this,t=e.state.aid,i=n.cookie.get("id")?n.cookie.get("id"):null;return e.setState({uid:i}),r.getArticleById(t,function(t,n){t&&(n.error||(console.log(n),e.setState({info:n.data}),e.showEditor(n.data.content),e.showComment(n.data.id,0,!0)))}),this},showEditor:function(e){var t=this,n=s.markdownToHTML("editormd-view",{markdown:e,tocm:!0})},showComment:function(e,t,n){var s=this;r.getContentsByAid({aid:e,page:t},function(e,t){e&&(t.error?(n||i(t.msg),s.setState({next:t.next})):t.data&&(s.state.commentList.length>0?Array.prototype.push.apply(s.state.commentList,t.data):s.state.commentList=t.data,s.setState({commentList:s.state.commentList,page:s.state.page+1,next:t.next})))})},handleChangeCommnet:function(e){this.setState({commentContent:e.target.value})},submitComment:function(){var e=this,t=this.state.aid,s=n.trim(this.state.commentContent),o=n.cookie.get("id"),u=n.cookie.get("username"),a=n.cookie.get("userUrl");if(!o){window.location.href="/login/sign_in?page=article&&method="+t;return}if(s.indexOf("@")==0)var f={aid:t,uid:o,content:s,receive_id:e.state.receive_id};else var f={aid:t,uid:o,content:s,receive_id:e.state.info.uid};r.addComment(f,function(n,r){n&&(r.error?i(r.msg):(e.state.commentList.push({id:r.data.id,aid:t,uid:o,username:u,content:s,userUrl:a,addtime:r.data.addtime}),e.state.info.comment=parseInt(e.state.info.comment)+1,e.setState({commentList:e.state.commentList,commentContent:"",info:e.state.info})))})},handleReplay:function(e){var n=t(e.target).data("nick"),r=t(e.target).data("uid");this.setState({commentContent:"@"+n+" ",receive_id:r}),t("#comment-text").focus()},handleDelComment:function(e){var n=this,s=t(e.target).data("id"),o=t(e.target).data("key");r.delComment({aid:n.state.aid,cid:s},function(e,t){e&&(t.error||(n.state.commentList.splice(o,1),n.state.info.comment=parseInt(n.state.info.comment)-1,n.setState({commentList:n.state.commentList,info:n.state.info}),i(t.msg)))})},hamdleMore:function(){var e=this,t=e.state.page,n=e.state.aid;e.showComment(n,t)},handlePraise:function(e){var s=this,o=s.state.aid;if(!n.cookie.get("id")){window.location.href="/login/sign_in?page=article&&method="+o;return}if(e.target.tagName.toLowerCase()=="a")var u=t(e.target);else var u=t(e.target).parent();var a={aid:s.state.aid,uid:n.cookie.get("id"),author_id:this.state.info.uid};u.hasClass("btn-info")?r.addPraise(a,function(e,t){e&&(t.error?i(t.msg):(s.state.info.praise=parseInt(s.state.info.praise)+1,s.state.info.praiseStatus=!s.state.info.praiseStatus,s.setState({info:s.state.info}),u.addClass("btn-danger").removeClass("btn-info")))}):u.hasClass("btn-danger")&&r.delPraise(a,function(e,t){e&&(t.error?i(t.msg):(s.state.info.praise=parseInt(s.state.info.praise)-1,s.state.info.praiseStatus=!s.state.info.praiseStatus,s.setState({info:s.state.info}),u.addClass("btn-info").removeClass("btn-danger")))})},handleStore:function(e){var s=this,o=s.state.aid;if(!n.cookie.get("id")){window.location.href="/login/sign_in?page=article&&method="+o;return}if(e.target.tagName.toLowerCase()=="a")var u=t(e.target);else var u=t(e.target).parent();var a={aid:s.state.aid,uid:n.cookie.get("id"),author_id:this.state.info.uid};u.hasClass("btn-info")?r.addStore(a,function(e,t){e&&(t.error?i(t.msg):(s.state.info.store=parseInt(s.state.info.store)+1,s.state.info.storeStatus=!s.state.info.storeStatus,s.setState({info:s.state.info}),u.addClass("btn-danger").removeClass("btn-info")))}):u.hasClass("btn-danger")&&r.delStore(a,function(e,t){e&&(t.error?i(t.msg):(s.state.info.store=parseInt(s.state.info.store)-1,s.state.info.storeStatus=!s.state.info.storeStatus,s.setState({info:s.state.info}),u.addClass("btn-info").removeClass("btn-danger")))})}};return e.createClass({mixins:[u],getInitialState:function(){return{name:"home",aid:this.props.aid,commentList:[],commentContent:"",page:0,next:!1,uid:null,receive_id:0}},componentDidMount:function(){this.init();var e=this.state.aid;t("#comment-text").on("focus",function(){if(!n.cookie.get("id")){window.location.href="/login/sign_in?page=article&&method="+e;return}})},render:function(){var t=this,r=t.state.info?t.state.info.title:null,i=t.state.info?t.state.info.username:null,s=t.state.info?t.state.info.uid:null,u=t.state.info?t.state.info.userUrl:null,a=t.state.info?t.state.info.addtime:null,f=t.state.info?t.state.info.cloumnName:null,l=t.state.info?t.state.info.view:null,c=t.state.info?t.state.info.comment:null,h=t.state.info?t.state.info.praise:null,p=t.state.info?t.state.info.praiseStatus:null,d=t.state.info?t.state.info.store:null,v=t.state.info?t.state.info.storeStatus:null,m=t.state.info?t.state.info.tags:null;if(m){if(m.indexOf("|"))var g=m.split("|").map(function(t,n){return e.createElement("a",{style:{marginRight:"6px",color:"#3da9f7"},href:"/t/"+t},t)});else var g=e.createElement("a",{href:"/t/"+m},m);g=e.createElement("span",{className:"tag"}," ",e.createElement("i",{className:"fa fa-tags"})," ",g)}else var g=null;var y=this.state.commentList.length>0?this.state.commentList.map(function(r,i){return e.createElement("div",{key:i,id:"comment-"+r.id,className:"comment-item  clearfix","data-id":r.id},e.createElement("a",{className:"user avatar",href:"/user/"+r.uid},e.createElement("img",{src:r.userUrl?r.userUrl:"/image/user-default.png"})),e.createElement("div",{className:"comment-right"},e.createElement("div",{className:"con"},e.createElement("span",{className:"author"},e.createElement("a",{href:"/user/"+r.uid},r.username),e.createElement("div",{className:"hd-time"},n.timeFormat(r.addtime))),e.createElement("div",{className:"html"},r.content)),e.createElement("div",{className:"replay"},e.createElement("a",{"data-nick":r.username,"data-uid":r.uid,onClick:t.handleReplay},"回复"),s==n.cookie.get("id")?e.createElement("a",{"data-id":r.id,"data-key":i,onClick:t.handleDelComment},"删除"):null)))}):null;return e.createElement(o,{transitionName:"fade",transitionAppear:!0},e.createElement("div",{className:"article-page",style:t.state.info?{display:"block"}:{display:"none"}},e.createElement("h3",{className:"title"},r),e.createElement("div",{style:{marginBottom:"10px"}},e.createElement("span",{className:"author"},e.createElement("a",{href:"/user/"+s},e.createElement("img",{className:"avatar",src:u?u:"/image/user-default.png"}),e.createElement("span",{className:"name"},i))),e.createElement("span",{className:"tag time"}," • ",n.timeFormat(a)),e.createElement("span",{className:"tag"}," 发布在: ",f),e.createElement("span",{className:"tag view"}," 阅读: ",l),e.createElement("span",{className:"tag comment"}," 评论: ",c),g),e.createElement("div",{className:"tool",style:{marginBottom:"10px"}},t.state.uid==s?e.createElement("a",{className:"btn btn-info",href:"/article/"+this.state.aid+"/edit"},e.createElement("i",{className:"fa fa-pencil-square-o"}),e.createElement("span",null,"编辑")):null,e.createElement("a",{className:p?"btn btn-danger":"btn btn-info",href:"javascript:void(0)",onClick:t.handlePraise},e.createElement("i",{className:"fa fa-thumbs-up"}),e.createElement("span",{style:{marginRight:"4px"}},p?"已推荐":"推荐"),e.createElement("span",null,h)),e.createElement("a",{className:v?"btn btn-danger":"btn btn-info",href:"javascript:void(0)",onClick:t.handleStore},e.createElement("i",{className:"fa fa-bookmark-o"}),e.createElement("span",{style:{marginRight:"4px"}},v?"已收藏":"收藏"),e.createElement("span",null,d)),e.createElement("a",{className:"btn btn-info",href:"javascript:void(0)"},e.createElement("i",{className:"fa fa-share-square-o"}),e.createElement("span",null,"分享"))),e.createElement("div",{id:"editormd-view"},e.createElement("textarea",null)),e.createElement("div",{className:"comment-box"},e.createElement("div",{className:"hd"},"评论"),e.createElement("div",{className:"bd"},e.createElement("div",{className:"publish"},e.createElement("textarea",{id:"comment-text",placeholder:"参与讨论",value:this.state.commentContent,onChange:this.handleChangeCommnet}),e.createElement("a",{className:"btn btn-default",href:"javascript:void(0)",style:{display:"inline-block",margin:"10px 0"},onClick:this.submitComment},"发表评论")),e.createElement(o,{transitionName:"fadeToTop",transitionAppear:!0},e.createElement("div",{className:"comment-list"},y,e.createElement("a",{className:"btn btn-default btn-large",href:"javascript:void(0)",style:t.state.next?{display:"block",margin:"20px auto"}:{display:"none",margin:"20px auto"},onClick:t.hamdleMore},"更多评论")))))))}})}),define("home/cloumn/cloumnList",["react","jquery","WQ","home/model/cloumnModel","home/common/tooltip"],function(e,t,n,r,i){var s=e.addons.CSSTransitionGroup,o={init:function(){var e=this;return e.getAllCloumns("view",0),this},getAllCloumns:function(e,t){var n=this,s={way:e,page:t};r.getAllCloumns(s,function(r,s){r&&(s.error?i(s.msg):(console.log(s),n.state.cloumns[e]?(Array.prototype.push.apply(n.state.cloumns[e],s.data),n.state.next[e]=s.next,n.state.page[e]=parseInt(t)+1):(n.state.cloumns[e]=s.data,n.state.next[e]=s.next,n.state.page[e]=parseInt(t)+1),n.setState({cloumns:n.state.cloumns,next:n.state.next,page:n.state.page})))})},getCloumnsByUid:function(e){var t=this,n=t.state.uid,s={uid:n,page:e};r.getCloumnsByUid(s,function(n,r){n&&(r.error?i(r.msg):(console.log(r),t.state.cloumns.me?(Array.prototype.push.apply(t.state.cloumns.me,r.data),t.state.next.me=r.next,t.state.page.me=parseInt(e)+1):(t.state.cloumns.me=r.data,t.state.next={me:r.next},t.state.page={me:parseInt(e)+1}),t.setState({cloumns:t.state.cloumns,next:t.state.next,page:t.state.page})))})},getCareCloumnsByUid:function(e){var t=this,n=t.state.uid,s={uid:n,page:e};r.getCareCloumnsByUid(s,function(n,r){n&&(r.error?i(r.msg):(console.log(r),t.state.cloumns.myCare?(Array.prototype.push.apply(t.state.cloumns.me,r.data),t.state.next.myCare=r.next,t.state.page.myCare=parseInt(e)+1):(t.state.cloumns.myCare=r.data,t.state.next={myCare:r.next},t.state.page={myCare:parseInt(e)+1}),t.setState({cloumns:t.state.cloumns,next:t.state.next,page:t.state.page})))})},handleMore:function(){var e=this;if(e.state.nav==0){if(e.state.navChild==0)var t=e.state.page.view?e.state.page.view:0;else if(e.state.navChild==1)var t=e.state.page.update_time?e.state.page.update_time:0;else if(e.state.navChild==2)var t=e.state.page.care?e.state.page.care:0;else if(e.state.navChild==3)var t=e.state.page.addtime?e.state.page.addtime:0;e.getAllCloumns(e.state.order[e.state.navChild],t)}else if(e.state.nav==1){var t=e.state.page.myCare?e.state.page.myCare:0;e.getCareCloumnsByUid(t)}else if(e.state.nav==2){var t=e.state.page.me?e.state.page.me:0;e.getCloumnsByUid(t)}},hamdleTabChange:function(e){var n=this,r=t(e.target).index();if(n.state.nav==r)return;n.setState({nav:r}),!n.state.cloumns.me&&r==2&&n.getCloumnsByUid(0),!n.state.cloumns.myCare&&r==1&&n.getCareCloumnsByUid(0)},hamdleNavChange:function(e){var n=this,r=t(e.target).parent().index();n.setState({navChild:r}),n.state.cloumns[n.state.order[r]]||n.getAllCloumns(n.state.order[r],0)},handleCare:function(e){var n=this,s=n.state.nav,o=n.state.navChild,u=t(e.target),a=u.parents("li").data("key"),f=u.data("care"),l=u.parents("li").data("cid"),c=n.state.uid,h={cid:l,uid:c};if(!c){window.location.href="login/sign_in";return}var p=function(e){if(e)var t=1;else var t=-1;if(s==0){if(o==0){n.state.cloumns.view[a].myCare=e;var r=n.state.cloumns.view[a].care;n.state.cloumns.view[a].care=parseInt(r)+t}else if(o==1){n.state.cloumns.update_time[a].myCare=e;var r=n.state.cloumns.update_time[a].care;n.state.cloumns.update_time[a].care=parseInt(r)+t}else if(o==2){n.state.cloumns.care[a].myCare=e;var r=n.state.cloumns.care[a].care;n.state.cloumns.care[a].care=parseInt(r)+t}else if(o==3){n.state.cloumns.addtime[a].myCare=e;var r=n.state.cloumns.addtime[a].care;n.state.cloumns.addtime[a].care=parseInt(r)+t}}else if(s==1){n.state.cloumns.myCare[a].myCare=e;var r=n.state.cloumns.myCare[a].care;n.state.cloumns.myCare[a].care=parseInt(r)+t}else if(s==2){n.state.cloumns.me[a].myCare=e;var r=n.state.cloumns.me[a].care;n.state.cloumns.me[a].care=parseInt(r)+t}n.setState({cloumns:n.state.cloumns}),u.data("care",e),e?u.addClass("btn-default").removeClass("btn-info"):u.addClass("btn-info").removeClass("btn-default")};f?r.delCare(h,function(e,t){e&&(t.error?i(t.msg):p(!1))}):r.addCare(h,function(e,t){e&&(t.error?i(t.msg):p(!0))})},handleOver:function(e){var n=t(e.target);n.html()=="正在关注"&&n.html("取消关注")},handleOut:function(e){var n=t(e.target);n.html()=="取消关注"&&n.html("正在关注")}};return e.createClass({mixins:[o],getInitialState:function(){return{name:"cloumn",uid:n.cookie.get("id")?n.cookie.get("id"):0,nav:0,navChild:0,cloumns:{},order:["view","update_time","care","addtime"],next:{},page:{}}},componentDidMount:function(){this.init()},render:function(){var t=this,n=t.state.nav,r=t.state.order[t.state.navChild];if(n==0){if(t.state.navChild==0)var i=t.state.cloumns.view?t.state.cloumns.view:[];else if(t.state.navChild==1)var i=t.state.cloumns.update_time?t.state.cloumns.update_time:[];else if(t.state.navChild==2)var i=t.state.cloumns.care?t.state.cloumns.care:[];else if(t.state.navChild==3)var i=t.state.cloumns.addtime?t.state.cloumns.addtime:[]}else if(n==1)var i=t.state.cloumns.myCare?t.state.cloumns.myCare:[];else var i=t.state.cloumns.me?t.state.cloumns.me:[];var o=i.map(function(n,r){return e.createElement("li",{key:n.id,"data-cid":n.id,"data-key":r,className:"cloumn"},e.createElement("a",{href:"/cloumn/"+n.id},e.createElement("div",{className:"logo",style:n.logo_dir?{background:'url("'+n.logo_dir+'") no-repeat center',backgroundSize:"cover"}:{background:'url("/image/cloumn.jpg") no-repeat center',backgroundSize:"cover"}}),e.createElement("h4",null,e.createElement("a",{href:"/cloumn/"+n.id},n.name)),e.createElement("div",{className:"desc"},n.description),e.createElement("p",null,e.createElement("a",{href:"/cloumn/"+n.id},n.count,"篇文章"),"·",e.createElement("span",null,n.care,"人关注"),e.createElement("a",{className:n.myCare?"btn btn-default pull-right":"btn btn-info pull-right",href:"javascript:void(0)","data-care":n.myCare?n.myCare:!1,onClick:t.handleCare,onMouseEnter:t.handleOver,onMouseLeave:t.handleOut},n.myCare?"正在关注":"添加关注"))))});return e.createElement("div",{className:"cloumn-list-page"},e.createElement("div",{className:"top-bar"},e.createElement("div",{className:"nav"},e.createElement("a",{className:n==0?"tab active":"tab",onClick:this.hamdleTabChange,href:"javascript:void(0)"},"专题广场"),e.createElement("a",{className:n==1?"tab active":"tab",style:t.state.uid?{display:"inline-block"}:{display:"none"},onClick:this.hamdleTabChange,href:"javascript:void(0)"},"我关注的"),e.createElement("a",{className:n==2?"tab active":"tab",style:t.state.uid?{display:"inline-block"}:{display:"none"},onClick:this.hamdleTabChange,href:"javascript:void(0)"},"我的专题")),e.createElement("a",{className:"btn btn-info pull-right",style:{margin:"10px 120px 0 0"},href:"/cloumn/add"},"添加专题")),e.createElement(s,{transitionName:"fade",transitionAppear:!0},e.createElement("div",{className:"cloumn-list"},e.createElement("div",{style:t.state.nav==0?{display:"block"}:{display:"none"}},e.createElement("ul",{className:"nav-orderBy clearfix",style:{marginLeft:"35px"}},e.createElement("li",null,e.createElement("a",{className:t.state.navChild==0?"btn btn-info":"btn btn-default",href:"javascript:void(0)",onClick:t.hamdleNavChange},"热门排序")),e.createElement("li",null,e.createElement("a",{className:t.state.navChild==1?"btn btn-info":"btn btn-default",href:"javascript:void(0)",onClick:t.hamdleNavChange},"最近更新")),e.createElement("li",null,e.createElement("a",{className:t.state.navChild==2?"btn btn-info":"btn btn-default",href:"javascript:void(0)",onClick:t.hamdleNavChange},"关注度排序")),e.createElement("li",null,e.createElement("a",{className:t.state.navChild==3?"btn btn-info":"btn btn-default",href:"javascript:void(0)",onClick:t.hamdleNavChange},"最新创建排序"))),e.createElement("ul",{className:"clearfix"},o),e.createElement("a",{className:"more",style:t.state.next[r]?{display:"block"}:{display:"none"},onClick:t.handleMore},"更多")),e.createElement("div",{style:t.state.nav==1?{display:"block"}:{display:"none"}},e.createElement("ul",{className:"clearfix"},o)),e.createElement("div",{style:t.state.nav==2?{display:"block"}:{display:"none"}},e.createElement("ul",{className:"clearfix"},o),e.createElement("a",{className:"btn btn-default btn-large",style:t.state.next.me?{display:"block",margin:"20px auto"}:{display:"none",margin:"20px auto"},onClick:t.handleMore},"更多")))))}})}),define("home/cloumn/editCloumn",["react","jquery","WQ","home/model/cloumnModel","home/common/tooltip"],function(React,$,WQ,CloumnModel,Tooltip){var ReactCSSTransitionGroup=React.addons.CSSTransitionGroup,mixin={init:function(){var e=this;return e.state.cid>0&&CloumnModel.getCloumnById(e.state.cid,e.state.uid,function(t,n){t&&(n.error?Tooltip(n.msg):(console.log(n),e.setState({name:n.data.name,description:n.data.description,logo_dir:n.data.logo_dir})))}),this},handleNameChange:function(e){this.setState({name:e.target.value})},handleDescChange:function(e){this.setState({description:e.target.value})},handleSubmit:function(){var e=this;if(e.state.cid>0){var t={name:e.state.name,description:e.state.description,uid:e.state.uid,id:e.state.cid,logo_dir:e.state.logo_dir};CloumnModel.editCloumn(t,function(t,n){t&&(n.error?Tooltip(n.msg):window.location.href="/cloumn/"+e.state.cid)})}else{var t={name:e.state.name,description:e.state.description,uid:e.state.uid,logo_dir:e.state.logo_dir};CloumnModel.addCloumn(t,function(e,t){e&&(t.error?Tooltip(t.msg):window.location.href="/cloumn/"+t.data)})}},handleUploadClick:function(e){$(e.target).siblings("input[type=file]").trigger("click")},handleFileChange:function(e){var t=e.target.value;t===""&&Tooltip("头像不能为空");var n=$(e.target).siblings("input[type=submit]");n.trigger("click")},handleUpload:function(){var _this=this,uploadIframe=document.getElementById("uploadIframe"),loading=$(".cloumn-edit form .upload>div");loading.show(),uploadIframe.onload=function(){loading.hide();var body=(uploadIframe.contentWindow?uploadIframe.contentWindow:uploadIframe.contentDocument).document.body,json=body.innerText?body.innerText:body.textContent?body.textContent:null;return json=typeof JSON.parse!="undefined"?JSON.parse(json):eval("("+json+")"),json.error?Tooltip(json.msg):_this.setState({logo_dir:json.data}),!1}}};return React.createClass({mixins:[mixin],getInitialState:function(){return{nav:"cloumn",cid:this.props.cid?this.props.cid:0,name:"",description:"",uid:WQ.cookie.get("id"),logo_dir:""}},componentDidMount:function(){this.init(),$(".cloumn-edit .uploadForm").attr("enctype","multipart/form-data")},componentDidUpdate:function(){$(".cloumn-edit .uploadForm").attr("enctype","multipart/form-data")},render:function(){var e=this;return React.createElement(ReactCSSTransitionGroup,{transitionName:"fade",transitionAppear:!0},React.createElement("div",{className:"cloumn-edit"},React.createElement("form",{className:"uploadForm",action:"/cloumn/logo",method:"post",target:"uploadIframe"},React.createElement("h3",null,e.state.cid>0?"编辑":"新建","专题"),React.createElement("div",{className:"upload"},React.createElement("input",{type:"file",name:"cloumn-image",style:{display:"none"},onChange:e.handleFileChange}),React.createElement("input",{type:"text",name:"uid",style:{display:"none"},value:WQ.cookie.get("id")}),React.createElement("input",{type:"text",name:"logo",style:{display:"none"},value:e.state.logo_dir}),React.createElement("input",{type:"submit",style:{display:"none"},onClick:e.handleUpload}),React.createElement("iframe",{name:"uploadIframe",id:"uploadIframe",style:{display:"none"}}),React.createElement("i",{className:"fa fa-picture-o",onClick:e.handleUploadClick,style:e.state.logo_dir!=""?{display:"none"}:{display:"block"}}),React.createElement("img",{className:"preview",style:e.state.logo_dir==""?{display:"none"}:{display:"block"},src:e.state.logo_dir+"?"+Math.random()*1e4,onClick:e.handleUploadClick}),React.createElement("span",{className:"title"},"点击上传专题图",React.createElement("br",null),"(图片大小最好为220x140)"),React.createElement("div",null,React.createElement("img",{src:"/image/loading.gif"})))),React.createElement("form",null,React.createElement("input",{type:"text",style:{display:"none"},value:e.state.logo_dir}),React.createElement("div",{className:"input-prepend"},React.createElement("input",{type:"text",placeholder:"专题命名，使用尽量少的字来描述",value:e.state.name,onChange:e.handleNameChange})),React.createElement("div",{className:"input-prepend"},React.createElement("textarea",{name:"description",maxLength:"200",placeholder:"请以200字以内为专题添加描述",value:e.state.description,onChange:e.handleDescChange})),React.createElement("input",{type:"button",className:"btn btn-info btn-submit",value:"创建专题",style:{width:"60%",margin:"0 auto",cursor:"pointer"},onClick:e.handleSubmit}))))}})}),define("home/cloumn/cloumn",["react","jquery","WQ","home/model/cloumnModel","home/model/articleModel","home/common/tooltip"],function(e,t,n,r,i,s){var o=e.addons.CSSTransitionGroup,u={init:function(){var e=this,t=n.cookie.get("id")?n.cookie.get("id"):0;return r.getCloumnById(e.state.cid,t,function(t,n){t&&(n.error?s(n.msg):(console.log(n),e.setState({cloumn:n.data})))}),e.getArticlesByCid("view",0),this},getArticlesByCid:function(e,t){var n=this,r={cid:n.state.cid,way:e,page:t};i.getAllArticleByCid(r,function(r,i){r&&(i.error?s(i.msg):(console.log(i),n.state.articles[e]?Array.prototype.push.apply(n.state.articles[e],i.data):n.state.articles[e]=i.data,n.state.more[e]=parseInt(t)+1,n.setState({articles:n.state.articles,more:n.state.more,next:i.next})))})},handleCare:function(e){var i=this,o=t(e.target),u=o.data("care"),a=i.state.cid,f=n.cookie.get("id"),l={cid:a,uid:f};if(!f){window.location.href="/login/sign_in?page=cloumn&&method="+a;return}u?r.delCare(l,function(e,t){e&&(t.error?s(t.msg):(i.state.cloumn.careStatus=!i.state.cloumn.careStatus,i.state.cloumn.care=i.state.cloumn.care-1,i.setState({cloumn:i.state.cloumn}),o.data("care",!1),o.addClass("btn-info").removeClass("btn-default")))}):r.addCare(l,function(e,t){e&&(t.error?s(t.msg):(i.state.cloumn.careStatus=!i.state.cloumn.careStatus,i.state.cloumn.care=i.state.cloumn.care+1,i.setState({cloumn:i.state.cloumn}),o.data("care",!0),o.addClass("btn-default").removeClass("btn-info")))})},handleTabChange:function(e){var n=this;if(e.target.tagName.toLowerCase()=="a")var r=t(e.target).parent().data("nav");else var r=t(e.target).data("nav");n.setState({nav:r});var i=n.state.way[r];n.state.articles[i]||n.getArticlesByCid(i,0)},handleMore:function(){var e=t(event.target).data("page"),n=this,r=n.state.way[n.state.nav];n.getArticlesByCid(r,e)}};return e.createClass({mixins:[u],getInitialState:function(){return{name:"cloumn",cid:this.props.cid?this.props.cid:0,cloumn:{},articles:{},nav:0,way:["view","addtime"],next:!1,more:[]}},componentDidMount:function(){this.init()},handleOver:function(e){var n=t(e.target);n.html()=="正在关注"&&n.html("取消关注")},handleOut:function(e){var n=t(e.target);n.html()=="取消关注"&&n.html("正在关注")},render:function(){var t=this,r=t.state.way[t.state.nav],i=t.state.articles[r]&&t.state.articles[r].length>0?t.state.articles[r].map(function(t,r){if(t.tags){if(t.tags.indexOf("|"))var i=t.tags.split("|").map(function(t,n){return e.createElement("a",{style:{marginRight:"6px"},href:"/t/"+t},t)});else var i=e.createElement("a",{href:"/t/"+t.tags},"d.tags");i=e.createElement("span",{className:"tag"}," ",e.createElement("i",{className:"fa fa-tags"})," ",i)}else var i=null;return e.createElement("article",{key:t.id},t.logo_dir?e.createElement("a",{className:"pic",href:"/article/"+t.id,style:{backgroundImage:"url("+t.logo_dir+")"}},e.createElement("span",null,t.cloumn)):null,e.createElement("div",{className:"desc"},e.createElement("a",{className:"title",href:"/article/"+t.id},t.title),e.createElement("div",{className:"author"},e.createElement("a",{href:"/user/"+t.uid},e.createElement("img",{className:"avatar",src:t.userUrl?t.userUrl:"/image/user-default.png"}),e.createElement("span",{className:"name"},t.username)),e.createElement("span",{className:"time"}," • ",n.timeFormat(t.addtime)),e.createElement("span",{className:"tag"}," 阅读: ",t.view),e.createElement("span",{className:"tag"}," 推荐: ",t.praise),e.createElement("span",{className:"tag"}," 评论: ",t.comment),i),e.createElement("div",{className:"description"},t.description)))}):null;return e.createElement(o,{transitionName:"fade",transitionAppear:!0},e.createElement("div",{className:"cloumn-page"},e.createElement("div",{className:"cloumn-header"},e.createElement("div",{className:"info"},e.createElement("div",{className:"cname"},e.createElement("a",{href:"/cloumn/"+t.state.cid},e.createElement("h3",null,t.state.cloumn.name?t.state.cloumn.name:""))),e.createElement("div",{className:"anthor"},e.createElement("a",{style:{color:"#3da9f7",marginRight:"10px"},href:"/cloumn/"+t.state.cid},t.state.cloumn.count?t.state.cloumn.count:0," 篇文章"),e.createElement("span",null,e.createElement("i",{className:"fa fa-user"}),"  所有者：",e.createElement("a",{href:t.state.cloumn.uid?"/user/"+t.state.cloumn.uid:"javascript:void(0)"},t.state.cloumn.username?t.state.cloumn.username:""))),e.createElement("div",{className:"cdesc"},t.state.cloumn.description?t.state.cloumn.description:""),e.createElement("div",{className:"footer"},t.state.cloumn.uid&&t.state.cloumn["uid"]==n.cookie.get("id")?e.createElement("a",{href:"/cloumn/"+t.state.cid+"/edit",className:"btn btn-info"},e.createElement("i",{className:"fa fa-edit"}),e.createElement("span",null,"编辑")):null),e.createElement("div",{className:"cloumn-right"},e.createElement("a",{onClick:this.handleCare,onMouseEnter:this.handleOver,onMouseLeave:this.handleOut,href:"javascript:void(0)","data-care":t.state.cloumn.careStatus?!0:!1,className:t.state.cloumn.careStatus?"btn btn-default":"btn btn-info"},t.state.cloumn.careStatus?"正在关注":"添加关注")))),e.createElement("div",{className:"cloumn-content"},e.createElement("ul",{className:"nav-sequence toolbar"},e.createElement("li",{className:t.state.nav==0?"active":"","data-nav":"0",onClick:t.handleTabChange},e.createElement("a",{href:"javascript:void(0)"},"热门排序"))," ·",e.createElement("li",{className:t.state.nav==1?"active":"","data-nav":"1",onClick:t.handleTabChange},e.createElement("a",{href:"javascript:void(0)"},"最近更新"))),e.createElement("div",{className:"article-list"},i,e.createElement("a",{className:"btn btn-info btn-large",style:t.state.next?{display:"block",margin:"20px auto"}:{display:"none",margin:"20px auto"},"data-page":t.state.more[r]?t.state.more[r]:1,onClick:t.hamdleMore},"更多")))))}})}),define("home/tag",["react","jquery","WQ","home/common/tooltip","home/model/articleModel"],function(e,t,n,r,i){var s={init:function(){var e=this;i.tagInfo(e.state.name,function(t,n){t&&(n.error?r(n.msg):e.setState({tagInfo:n.data}))}),e.getArts(e.state.name,e.state.page)},getArts:function(e,t){var n=this,s={name:n.state.name,page:t};i.getArtsLikeTag(s,function(e,t){e&&(t.error?r(t.msg):(n.state.articles.length>0?Array.prototype.push.apply(n.state.articles,t.data):n.state.articles=t.data,n.setState({articles:n.state.articles,next:t.next,page:n.state.page+1})))})},handleMore:function(){_this.getArts(_this.state.name,_this.state.page)}};return e.createClass({mixins:[s],getInitialState:function(){return{name:this.props.name?this.props.name:null,tagInfo:null,articles:[],next:!1,page:0}},componentDidMount:function(){this.init()},render:function(){var t=this,r=t.state.articles.length>0?t.state.articles.map(function(t,r){if(t.tags){if(t.tags.indexOf("|"))var i=t.tags.split("|").map(function(t,n){return e.createElement("a",{style:{marginRight:"6px"},href:"/t/"+t},t)});else var i=e.createElement("a",{href:"/t/"+t.tags},"d.tags");i=e.createElement("span",{className:"tag"}," ",e.createElement("i",{className:"fa fa-tags"})," ",i)}else var i=null;return e.createElement("article",{key:t.id},t.logo_dir?e.createElement("a",{className:"pic",href:"/article/"+t.id,style:{backgroundImage:"url("+t.logo_dir+")"}},e.createElement("span",null,t.cloumn)):null,e.createElement("div",{className:"desc"},e.createElement("a",{className:"title",href:"/article/"+t.id},t.title),e.createElement("div",{className:"author"},e.createElement("a",{href:"/user/"+t.uid},e.createElement("img",{className:"avatar",src:t.userUrl?t.userUrl:"/image/user-default.png"}),e.createElement("span",{className:"name"},t.username)),e.createElement("span",{className:"time"}," • ",n.timeFormat(t.addtime)),e.createElement("span",{className:"tag"}," 阅读: ",t.view),e.createElement("span",{className:"tag"}," 推荐: ",t.praise),e.createElement("span",{className:"tag"}," 评论: ",t.comment),i),e.createElement("div",{className:"description"},t.description)))}):null;return e.createElement("div",{className:"tag-page"},e.createElement("div",{className:"top"},e.createElement("i",{className:"fa fa-tags"}),t.state.name),e.createElement("div",{className:"article-list"},r,e.createElement("a",{className:"more",style:t.state.next?{display:"block"}:{display:"none"},onClick:t.hamdleMore},"更多")))}})}),define("home/common/bug",["react","jquery","WQ","home/model/bugModel","home/common/tooltip"],function(e,t,n,r,i){var s={textarea:{width:"100%",minHeight:"400px",padding:"10px",border:"1px solid #d9d9d9",marginBottom:"20px"}};return e.createClass({getInitialState:function(){return{bugs:[],nav:"bug",content:""}},handleSubmit:function(){var e=this,t={uid:n.cookie.get("id"),content:e.state.content};if(e.state.content=="")return i("内容不能为空"),!1;r.addBug(t,function(e,t){e&&(t.error?i(t.msg):i("感谢你的bug反馈，我们会尽快修改"))})},handleChange:function(e){this.setState({content:e.target.value})},handleFocus:function(){var e=n.cookie.get("id");e||(window.location.href="/login/sign_in")},render:function(){var t=this,n=t.state.nav;return e.createElement("div",{className:"tag-page"},e.createElement("div",{className:"top",style:{borderBottom:"0px"}},e.createElement("i",{className:"fa fa-question-circle"}),"bug反馈"),e.createElement("form",null,e.createElement("textarea",{style:s.textarea,placeholder:"感谢你的bug反馈，我们会尽快修改",onChange:t.handleChange,value:t.state.content,onFocus:this.handleFocus}),e.createElement("a",{className:"btn btn-info btn-large",style:{fontSize:"18px",lineHeight:"40px",height:"40px"},href:"javascript:void(0)",onClick:t.handleSubmit},"提交")))}})}),requirejs.config({baseUrl:"/js/lib",paths:{jquery:"jquery-1.11.3.min",jqueryextend:"jquery.extend",WQ:"wq",react:"react-with-addons.min",prettify:"editor/lib/prettify.min",codemirror:"editor/lib/codemirror/codemirror.min",marked:"editor/lib/marked.min",editormd:"editor/editormd",plugins:"editor/plugins",editorlib:"editor/lib",home:"../build/home"},shim:{jqueryextend:{deps:["jquery"],exports:"jqueryextend"}},waitSeconds:30}),requirejs(["react","jquery","WQ","home/router-mixin","home/common/userDropMenu","home/user/login","home/user/user","home/user/settings","home/user/myPage","home/article/articleList","home/article/editArticle","home/article/article","home/cloumn/cloumnList","home/cloumn/editCloumn","home/cloumn/cloumn","home/tag","home/common/bug"],function(React,$,WQ,RouterMixin,UserDropMenu,Login,User,Settings,MyPage,ArticleList,EditArticle,Article,CloumnList,EditCloumn,Cloumn,Tag,Bug){var App=React.createClass({displayName:"App",mixins:[RouterMixin],routes:{"/":"articleList","/article/add":"addArticle","/article/:id/edit":"editArticle","/article/:id":"article","/cloumns":"cloumnList","/cloumn/add":"addCloumn","/cloumn/:id/edit":"editCloumn","/cloumn/:id":"cloumn","/user/:id":"user","/user/:id/settings":"settings","/login/:way":"login","/user/:id/:type":"store","/t/:name":"tag","/bug":"bug"},articleList:function(){return React.createElement(ArticleList,null)},addArticle:function(){return React.createElement(EditArticle,null)},editArticle:function(e){return React.createElement(EditArticle,{aid:e})},article:function(e){return React.createElement(Article,{aid:e})},cloumnList:function(){return React.createElement(CloumnList,null)},cloumn:function(e){return React.createElement(Cloumn,{cid:e})},addCloumn:function(){var e=this,t=WQ.cookie.get("id");return t||setTimeout(function(){window.history.pushState({},"","/login/sign_in?page=cloumns"),e.setState({path:"/login/sign_in?page=cloumns"})},0),React.createElement(EditCloumn,null)},editCloumn:function(e){return React.createElement(EditCloumn,{cid:e})},user:function(e){return React.createElement(User,{uid:e})},settings:function(e){return React.createElement(Settings,{uid:e})},store:function(e,t){return React.createElement(MyPage,{uid:e,type:t})},login:function(e,t){return React.createElement(Login,{way:e,params:t})},tag:function(e){return React.createElement(Tag,{name:e})},bug:function(){return React.createElement(Bug,null)},notFound:function(e){return React.createElement("div",{className:"not-found"},"Page Not Found: ",e)},render:function(){var _this=this,page=this.renderCurrentRoute(),loginPattern=eval(/^\/login\/(?:([^\/]+?))\/?$/i),matches=loginPattern.exec(_this.state.path);return React.createElement("div",null,matches?null:React.createElement(UserDropMenu,null),React.createElement("div",{className:"left-bar"},React.createElement("div",{className:"logo"},React.createElement("a",{href:"/"},React.createElement("img",{src:"/image/logo1.png"}))),React.createElement("ul",{className:"left-nav"},React.createElement("li",{className:this.state.path=="/"||this.state.path.indexOf("/cloumn")==-1&&this.state.path!="/bug"?"active":null},React.createElement("a",{href:"/"},React.createElement("i",{className:"fa fa-home"}),React.createElement("br",null),React.createElement("span",null,"首页"))),React.createElement("li",{className:this.state.path.indexOf("/cloumn")>-1?"active":null},React.createElement("a",{href:"/cloumns"},React.createElement("i",{className:"fa fa-th-list"}),React.createElement("br",null),React.createElement("span",null,"专题"))),React.createElement("li",{className:this.state.path=="/bug"?"active":null},React.createElement("a",{href:"/bug"},React.createElement("i",{className:"fa fa-question-circle"}),React.createElement("br",null),React.createElement("span",null,"bug反馈"))))),React.createElement("div",{className:"container"},page))}});React.render(React.createElement(App,null),document.getElementById("container"))}),define("../build/home/app",function(){});